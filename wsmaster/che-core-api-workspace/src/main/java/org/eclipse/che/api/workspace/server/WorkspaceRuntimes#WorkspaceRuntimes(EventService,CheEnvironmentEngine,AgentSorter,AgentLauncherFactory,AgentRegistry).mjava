    @Inject
    public WorkspaceRuntimes(EventService eventService,
                             CheEnvironmentEngine environmentEngine,
                             AgentSorter agentSorter,
                             AgentLauncherFactory launcherFactory,
                             AgentRegistry agentRegistry) {
        this.eventService = eventService;
        this.environmentEngine = environmentEngine;
        this.agentSorter = agentSorter;
        this.launcherFactory = launcherFactory;
        this.agentRegistry = agentRegistry;
        this.workspaces = new HashMap<>();
        // 16 - experimental value for stripes count, it comes from default hash map size
        this.stripedLocks = new StripedLocks(16);
        executor = Executors.newFixedThreadPool(2 * Runtime.getRuntime().availableProcessors(),
                                                new ThreadFactoryBuilder().setNameFormat("WorkspaceRuntimes-%d")
                                                                          .setDaemon(false)
                                                                          .build());
    }

