  private DevfileImpl parse(String content, ValidationFunction validationFunction)
      throws DevfileFormatException {
    JsonNode parsed = validationFunction.validate(content);

    DevfileImpl devfile;
    try {
      devfile = objectMapper.treeToValue(parsed, DevfileImpl.class);
    } catch (JsonProcessingException e) {
      throw new DevfileFormatException(e.getMessage());
    }

    integrityValidator.validateDevfile(devfile);
    return devfile;
  }

