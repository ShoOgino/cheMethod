  @Transactional
  protected OldRecipeImpl doUpdate(OldRecipeImpl update) throws NotFoundException {
    final EntityManager manager = managerProvider.get();
    if (manager.find(OldRecipeImpl.class, update.getId()) == null) {
      throw new NotFoundException(
          format("Could not update recipe with id %s because it doesn't exist", update.getId()));
    }
    OldRecipeImpl merged = manager.merge(update);
    manager.flush();
    return merged;
  }

