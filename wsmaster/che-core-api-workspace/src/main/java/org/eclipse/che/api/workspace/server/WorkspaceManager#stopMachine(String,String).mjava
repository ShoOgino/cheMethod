    /**
     * Stops machine in running workspace.
     *
     * @param workspaceId
     *         ID of workspace that owns machine
     * @param machineId
     *         ID of machine that should be stopped
     * @throws NotFoundException
     *         if machine is not found in running workspace
     * @throws ConflictException
     *         if workspace is not running
     * @throws ConflictException
     *         if machine stop is forbidden (e.g. machine is dev-machine)
     * @throws ServerException
     *         if other error occurs
     */
    public void stopMachine(String workspaceId,
                            String machineId) throws NotFoundException,
                                                     ServerException,
                                                     ConflictException {
        requireNonNull(workspaceId, "Required non-null workspace id");
        requireNonNull(machineId, "Required non-null machine id");
        final WorkspaceImpl workspace = normalizeState(workspaceDao.get(workspaceId));
        checkWorkspaceIsRunning(workspace, format("stop machine with ID '%s' of", machineId));
        runtimes.stopMachine(workspaceId, machineId);
    }

