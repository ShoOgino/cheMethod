  @Override
  @Transactional
  public List<WorkspaceImpl> getWorkspaces(String userId) throws ServerException {

    try {
      return managerProvider
          .get()
          .createQuery(findByWorkerQuery, WorkspaceImpl.class)
          .setParameter("userId", userId)
          .getResultList();
    } catch (RuntimeException x) {
      throw new ServerException(x.getLocalizedMessage(), x);
    }
  }

