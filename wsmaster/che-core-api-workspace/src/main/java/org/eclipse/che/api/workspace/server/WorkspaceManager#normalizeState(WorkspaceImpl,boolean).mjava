    private WorkspaceImpl normalizeState(WorkspaceImpl workspace, boolean includeRuntimes) throws ServerException {
        if (includeRuntimes) {
            try {
                return normalizeState(workspace, runtimes.get(workspace.getId()));
            } catch (NotFoundException e) {
                return normalizeState(workspace, null);
            }
        } else {
            workspace.setStatus(runtimes.getStatus(workspace.getId()));
            return workspace;
        }
    }

