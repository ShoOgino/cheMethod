    private String resolveRecipe(Recipe recipe) throws InfrastructureException {
        if(recipe.getContent() != null && !recipe.getContent().isEmpty()) {
            return recipe.getContent();
        } else if(recipe.getLocation() != null && !recipe.getLocation().isEmpty()) {

            try {
                URL recipeUrl = new URL(recipe.getLocation());
                if(recipeUrl.getProtocol().startsWith("http")) {
                    return HttpRequestHelper.requestString(recipe.getLocation(), HttpMethod.GET, null, null);
                } else {
                    return recipe.getLocation();
                }
            } catch (MalformedURLException e) {
                return recipe.getLocation();
            } catch (Exception x) {
                throw new InfrastructureException(x);
            }

        } else {
            return "";
        }
    }

