  @Traced
  public WorkspaceImpl createWorkspace(
      Devfile devfile, String namespace, Map<String, String> attributes)
      throws ServerException, NotFoundException, ConflictException, ValidationException {
    TracingTags.STACK_ID.set(() -> attributes.getOrDefault("stackId", "no stack"));

    requireNonNull(devfile, "Required non-null devfile");
    requireNonNull(namespace, "Required non-null namespace");
    validator.validateAttributes(attributes);

    WorkspaceImpl workspace =
        doCreateWorkspace(devfile, accountManager.getByName(namespace), attributes, false);
    TracingTags.WORKSPACE_ID.set(workspace.getId());
    return workspace;
  }

