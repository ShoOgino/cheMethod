    private void launchAgents(EnvironmentImpl environment, List<Instance> machines) throws ServerException {
        for (Instance instance : machines) {
            Map<String, ExtendedMachineImpl> envMachines = environment.getMachines();
            if (envMachines != null) {
                ExtendedMachine extendedMachine = envMachines.get(instance.getConfig().getName());
                if (extendedMachine != null) {
                    List<String> agents = extendedMachine.getAgents();
                    launchAgents(instance, agents);
                    launchAgents(instance, Collections.singletonList("org.eclipse.che.ls.json"));
                    launchAgents(instance, Collections.singletonList("org.eclipse.che.ls.csharp"));
                    launchAgents(instance, Collections.singletonList("org.eclipse.che.ls.php"));
                }
            }
        }
    }

