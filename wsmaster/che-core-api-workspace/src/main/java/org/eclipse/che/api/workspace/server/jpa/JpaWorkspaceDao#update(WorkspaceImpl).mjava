  @Override
  public WorkspaceImpl update(WorkspaceImpl update)
      throws NotFoundException, ConflictException, ServerException {
    requireNonNull(update, "Required non-null update");
    try {
      return new WorkspaceImpl(doUpdate(update));
    } catch (DuplicateKeyException dkEx) {
      String name =
          update.getConfig() != null ? update.getConfig().getName() : update.getDevfile().getName();
      throw new ConflictException(
          format(
              "Workspace with name '%s' in namespace '%s' already exists",
              name, update.getNamespace()));
    } catch (RuntimeException x) {
      throw new ServerException(x.getMessage(), x);
    }
  }

