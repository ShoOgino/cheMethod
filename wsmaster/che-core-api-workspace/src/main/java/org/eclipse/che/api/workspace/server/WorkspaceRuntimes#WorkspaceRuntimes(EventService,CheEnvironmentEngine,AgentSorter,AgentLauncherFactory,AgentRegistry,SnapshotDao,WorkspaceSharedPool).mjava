    @Inject
    public WorkspaceRuntimes(EventService eventsService,
                             CheEnvironmentEngine envEngine,
                             AgentSorter agentSorter,
                             AgentLauncherFactory launcherFactory,
                             AgentRegistry agentRegistry,
                             SnapshotDao snapshotDao,
                             WorkspaceSharedPool sharedPool) {
        this.eventsService = eventsService;
        this.envEngine = envEngine;
        this.agentSorter = agentSorter;
        this.launcherFactory = launcherFactory;
        this.agentRegistry = agentRegistry;
        this.snapshotDao = snapshotDao;
        this.workspaces = new HashMap<>();
        // 16 - experimental value for stripes count, it comes from default hash map size
        this.locks = new StripedLocks(16);
        this.sharedPool = sharedPool;
    }

