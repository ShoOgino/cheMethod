    private Machine getMachineWithCorrectSource(MachineImpl machine, MachineSource machineSource) {
        Machine machineWithCorrectSource = machine;
        if (machineSource != null) {
            machineWithCorrectSource = MachineImpl.builder()
                                                  .fromMachine(machine)
                                                  .setConfig(MachineConfigImpl.builder()
                                                                              .fromConfig(machine.getConfig())
                                                                              .setSource(machineSource)
                                                                              .build())
                                                  .build();

        }
        return machineWithCorrectSource;
    }

