    /**
     * Removes all descriptors from the in-memory storage, while
     * {@link MachineManager#cleanup()} is responsible for machines destroying.
     */
    @PreDestroy
    @VisibleForTesting
    void cleanup() {
        isPreDestroyInvoked = true;
        rwLock.writeLock().lock();
        try {
            descriptors.clear();
            startQueues.clear();
        } finally {
            rwLock.writeLock().unlock();
        }
    }

