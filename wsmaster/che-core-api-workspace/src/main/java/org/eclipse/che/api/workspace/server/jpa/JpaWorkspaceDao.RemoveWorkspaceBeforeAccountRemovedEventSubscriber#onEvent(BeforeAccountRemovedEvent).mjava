        @Override
        public void onEvent(BeforeAccountRemovedEvent event) {
            try {
                for (WorkspaceImpl workspace : workspaceDao.getByNamespace(event.getAccount().getName())) {
                    workspaceDao.remove(workspace.getId());
                }
            } catch (Exception x) {
                LOG.error(format("Couldn't remove workspaces before account '%s' is removed", event.getAccount().getId()), x);
            }
        }

