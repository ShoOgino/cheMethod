    /**
     * Applies docker specific properties.
     *
     * @param service
     *      the service
     * @param agentKeys
     *      the list of injected agents into machine
     *
     * @throws AgentException
     */
    public void modify(CheServiceImpl service, @Nullable List<String> agentKeys) throws AgentException {
        for (AgentKey agentKey : sorter.sort(agentKeys)) {
            Agent agent = agentRegistry.getAgent(agentKey);
            addEnv(service, agent.getProperties());
            addExposedPorts(service, agent.getProperties());
        }
    }

