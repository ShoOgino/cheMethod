    public InternalMachineConfig(MachineConfig originalConfig,
                                 InstallerRegistry installerRegistry,
                                 InstallerSorter installerSorter) throws InfrastructureException {
        this.installerRegistry = installerRegistry;
        this.installerSorter = installerSorter;
        this.installers = new ArrayList<>();
        this.servers = new HashMap<>();
        this.servers.putAll(originalConfig.getServers());
        this.attributes = new HashMap<>(originalConfig.getAttributes());

        if (installerRegistry != null)
            initInstallers(originalConfig.getInstallers());
    }

