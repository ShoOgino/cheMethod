    /**
     * Destroys provided machines and associated network.
     */
    private void destroyEnvironment(String networkId,
                                    List<Instance> machines) {
        for (Instance machine : machines) {
            try {
                destroyMachine(machine);
            } catch (RuntimeException | MachineException ex) {
                LOG.error(format("Could not destroy machine '%s' of workspace '%s'",
                                 machine.getId(),
                                 machine.getWorkspaceId()),
                          ex);
            }
        }
        try {
            composeProvider.destroyNetwork(networkId);
        } catch (RuntimeException | ServerException netExc) {
            LOG.error(netExc.getLocalizedMessage(), netExc);
        }
    }

