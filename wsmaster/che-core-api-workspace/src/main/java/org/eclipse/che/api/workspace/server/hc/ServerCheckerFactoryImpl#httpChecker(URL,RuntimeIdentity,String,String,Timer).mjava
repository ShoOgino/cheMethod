  @Override
  public HttpConnectionServerChecker httpChecker(
      URL url, RuntimeIdentity identity, String machineName, String serverRef, Timer timer) throws InfrastructureException{
    // TODO add readiness endpoint to terminal and remove this
    // workaround needed because terminal server doesn't have endpoint to check it readiness
    if ("terminal".equals(serverRef)) {
      return new TerminalHttpConnectionServerChecker(
          url, machineName, serverRef, 3, 180, TimeUnit.SECONDS, timer);
    }
    // TODO do not hardcode timeouts, use server conf instead
    return new HttpConnectionServerChecker(
        url, machineName, serverRef, 3, 180, TimeUnit.SECONDS, timer);
  }

