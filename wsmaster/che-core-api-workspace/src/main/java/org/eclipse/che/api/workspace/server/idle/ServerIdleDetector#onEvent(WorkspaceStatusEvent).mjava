    @Override
    public void onEvent(WorkspaceStatusEvent event) {
        if (future != null) {
            String workspaceId = event.getWorkspaceId();
            switch (event.getEventType()) {
            case RUNNING:
                if (!future.isCancelled()) {
                    future.cancel(true);
                    LOG.info("Idling che server canceled");
                }
                break;
            case STOPPED:
                Set<String> ids = workspaceManager.getRunningWorkspacesIds();
                ids.remove(workspaceId);
                if (ids.size() <= 0) {
                    if (!future.isCancelled()) {
                        future.cancel(true);
                    }
                    future = executor.schedule(this::run, timeout, TimeUnit.MILLISECONDS);
                    LOG.info(String.format(IDLING_CHE_SERVER_SCHEDULED, timeout/1000));
                }
                break;
            default:
                break;
            }
        }
    }

