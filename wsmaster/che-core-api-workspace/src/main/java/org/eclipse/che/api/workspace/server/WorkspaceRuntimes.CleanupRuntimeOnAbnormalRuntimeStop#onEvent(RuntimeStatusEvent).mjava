    @Override
    public void onEvent(RuntimeStatusEvent event) {
      if (event.isFailed()) {
        RuntimeState state = runtimes.remove(event.getIdentity().getWorkspaceId());
        if (state != null) {
          publishWorkspaceStatusEvent(
              state.runtime.getContext().getIdentity().getWorkspaceId(),
              STOPPED,
              RUNNING,
              "Error occurs on workspace runtime stop. Error: " + event.getError());
        }
      }
    }

