  /**
   * Adds runtime data (whole or status only) and extra attributes to each of the given workspaces.
   */
  private void injectRuntimeAndAttributes(List<WorkspaceImpl> workspaces, boolean statusOnly)
      throws SnapshotException {
    if (statusOnly) {
      for (WorkspaceImpl workspace : workspaces) {
        workspace.setStatus(runtimes.getStatus(workspace.getId()));
        addExtraAttributes(workspace);
      }
    } else {
      for (WorkspaceImpl workspace : workspaces) {
        runtimes.injectRuntime(workspace);
        addExtraAttributes(workspace);
      }
    }
  }

