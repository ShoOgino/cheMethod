  @Override
  public void create(OldRecipeImpl recipe) throws ConflictException, ServerException {
    requireNonNull(recipe);
    try {
      doCreate(recipe);
    } catch (DuplicateKeyException ex) {
      throw new ConflictException(format("OldRecipe with id %s already exists", recipe.getId()));
    } catch (IntegrityConstraintViolationException ex) {
      throw new ConflictException("Could not create recipe with permissions for non-existent user");
    } catch (RuntimeException ex) {
      throw new ServerException(ex.getLocalizedMessage(), ex);
    }
  }

