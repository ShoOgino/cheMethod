    /**
     * Searches for stack icon and set image data into given stack.
     *
     * @param stack
     *         stack for icon setup
     * @param stackIconFolderPath
     *         path to icon folder
     */
    protected void setIconData(StackImpl stack, Path stackIconFolderPath) {
        StackIcon stackIcon = stack.getStackIcon();
        if (stackIcon == null) {
            return;
        }
        if (stackIconFolderPath == null) {
            stack.setStackIcon(null);
            LOG.warn("No configured image found for stack {}", stack.getId());
            return;
        }
        try {
            final Path stackIconPath = stackIconFolderPath.resolve(stackIcon.getName());
            final byte[] imageData = IOUtils.toByteArray(IoUtil.getResource(stackIconPath.toString()));
            stackIcon = new StackIcon(stackIcon.getName(), stackIcon.getMediaType(), imageData);
            stack.setStackIcon(stackIcon);
        } catch (IOException ex) {
            stack.setStackIcon(null);
            LOG.error(format("Failed to load stack icon data for the stack with id '%s'", stack.getId()), ex);
        }
    }

