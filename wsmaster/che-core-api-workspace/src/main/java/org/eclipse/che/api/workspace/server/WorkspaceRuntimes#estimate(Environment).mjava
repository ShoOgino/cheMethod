  // TODO Doesn't look like correct place for this logic. Where this code should be?
  public Environment estimate(Environment environment)
      throws NotFoundException, InfrastructureException, ValidationException {
    // TODO decide whether throw exception when dev machine not found
    String type = environment.getRecipe().getType();
    if (!infraByRecipe.containsKey(type)) {
      throw new NotFoundException("Infrastructure not found for type: " + type);
    }

    return infraByRecipe.get(type).estimate(environment);
  }

