  private void validateFeature(CheFeature feature, String name, String version)
      throws InfrastructureException {
    requireNotNull(
        feature.getMetadata(), FEATURE_OBJECT_ERROR, name, version, "Metadata is missing.");
    requireNotNullNorEmpty(
        feature.getMetadata().getName(), FEATURE_OBJECT_ERROR, name, version, "Name is missing.");
    requireNotNull(feature.getSpec(), FEATURE_OBJECT_ERROR, name, version, "Spec is missing.");
    requireNotNullNorEmpty(
        feature.getSpec().getVersion(), FEATURE_OBJECT_ERROR, name, version, "Version is missing.");
    requireNotNullNorEmpty(
        feature.getSpec().getServices(),
        FEATURE_OBJECT_ERROR,
        name,
        version,
        "Services are missing.");
    for (CheServiceReference serviceReference : feature.getSpec().getServices()) {
      requireNotNull(
          serviceReference, FEATURE_OBJECT_ERROR, name, version, "A service is missing.");
      requireNotNullNorEmpty(
          serviceReference.getVersion(),
          FEATURE_OBJECT_ERROR,
          name,
          version,
          "Service version is missing.");
      requireNotNullNorEmpty(
          serviceReference.getName(),
          FEATURE_OBJECT_ERROR,
          name,
          version,
          "Service name is missing.");
    }
  }

