  public EnvironmentImpl(Environment environment) {
    if (environment.getRecipe() != null) {
      this.recipe = new EnvironmentRecipeImpl(environment.getRecipe());
    }
    if (environment.getMachines() != null) {
      this.machines =
          environment
              .getMachines()
              .entrySet()
              .stream()
              .collect(
                  Collectors.toMap(
                      Map.Entry::getKey, entry -> new ExtendedMachineImpl(entry.getValue())));
    }
  }

