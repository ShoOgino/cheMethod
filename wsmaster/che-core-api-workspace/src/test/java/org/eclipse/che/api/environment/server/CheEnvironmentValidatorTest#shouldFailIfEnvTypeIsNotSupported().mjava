    @Test(expectedExceptions = IllegalArgumentException.class,
          expectedExceptionsMessageRegExp = "Type 'compose' of environment 'env' is not supported. Supported types: otherType")
    public void shouldFailIfEnvTypeIsNotSupported() throws Exception {
        // given
        when(environmentParser.parse(any(Environment.class)))
                .thenThrow(new IllegalArgumentException("test exception"));
        when(environmentParser.getEnvironmentTypes()).thenReturn(singletonList("otherType"));

        // when
        environmentValidator.validate("env", environment);
    }

