    @Test
    public void shouldRespond404WhenUpdatingProjectWhichDoesNotExist() throws Exception {
        final WorkspaceImpl workspace = createWorkspace(createConfigDto());
        when(wsManager.getWorkspace(workspace.getId())).thenReturn(workspace);

        final Response response = given().auth()
                                         .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
                                         .contentType("application/json")
                                         .body(createProjectDto())
                                         .when()
                                         .put(SECURE_PATH + "/workspace/" + workspace.getId() + "/project/fake");

        assertEquals(response.getStatusCode(), 404);
        assertEquals(unwrapError(response), "Workspace '" + workspace.getId() + "' doesn't contain project with path '/fake'");
        verify(wsManager, never()).updateWorkspace(any(), any());
    }

