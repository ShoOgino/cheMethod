  @BeforeMethod
  private void createStacks() throws TckRepositoryException {
    stacks = new ArrayList<>(STACKS_SIZE);
    stackPermissions = new ArrayList<>(STACKS_SIZE);
    for (int i = 0; i < STACKS_SIZE; i++) {
      StackImpl tmp = createStack("stack-" + i, "name-" + i);
      stacks.add(tmp);
      stackPermissions.add(new StackPermissionsImpl("*", tmp.getId(), singletonList("search")));
    }
    stackRepo.createAll(stacks.stream().map(StackImpl::new).collect(Collectors.toList()));
    tckPermissionsRepository.createAll(stackPermissions);
  }

