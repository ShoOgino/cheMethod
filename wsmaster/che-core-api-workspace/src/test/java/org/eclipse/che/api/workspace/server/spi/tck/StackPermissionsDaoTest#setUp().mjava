  @BeforeMethod
  public void setUp() throws TckRepositoryException {
    permissions =
        new StackPermissionsImpl[] {
          new StackPermissionsImpl("user1", "stack1", asList("read", "use", "run")),
          new StackPermissionsImpl("user2", "stack1", asList("read", "use")),
          new StackPermissionsImpl("user1", "stack2", asList("read", "run")),
          new StackPermissionsImpl("user2", "stack2", asList("read", "use", "run", "configure")),
          new StackPermissionsImpl("user", "stack2", asList("read", "use", "run", "configure"))
        };

    final UserImpl[] users =
        new UserImpl[] {
          new UserImpl("user", "user@com.com", "usr"),
          new UserImpl("user1", "user1@com.com", "usr1"),
          new UserImpl("user2", "user2@com.com", "usr2")
        };
    userRepository.createAll(asList(users));

    // Workspace configuration
    final WorkspaceConfigImpl wCfg = new WorkspaceConfigImpl();
    wCfg.setDefaultEnv("env1");
    wCfg.setName("ws1");
    wCfg.setDescription("description");
    stackRepository.createAll(
        asList(
            new StackImpl("stack1", "st1", null, null, null, null, wCfg, null, null, null),
            new StackImpl("stack2", "st2", null, null, null, null, wCfg, null, null, null)));

    permissionsRepository.createAll(
        Stream.of(permissions).map(StackPermissionsImpl::new).collect(Collectors.toList()));
  }

