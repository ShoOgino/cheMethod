    @Test(expectedExceptions = BadRequestException.class,
          expectedExceptionsMessageRegExp = "Machine .* contains server conf with invalid port .*",
          dataProvider = "invalidPortProvider")
    public void shouldFailValidationIfServerConfPortIsInvalid(String invalidPort) throws Exception {
        final WorkspaceConfigDto config = createConfig();
        config.getEnvironments()
              .get(0)
              .getMachineConfigs()
              .get(0)
              .getServers()
              .add(newDto(ServerConfDto.class).withPort(invalidPort));


        wsValidator.validateConfig(config);
    }

