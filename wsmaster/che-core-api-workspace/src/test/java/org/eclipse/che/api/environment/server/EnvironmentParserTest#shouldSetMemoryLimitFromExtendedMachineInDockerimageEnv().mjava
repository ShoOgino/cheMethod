    @Test
    public void shouldSetMemoryLimitFromExtendedMachineInDockerimageEnv() throws Exception {
        // given
        EnvironmentImpl environment = createDockerimageEnvConfig(DEFAULT_DOCKER_IMAGE, DEFAULT_MACHINE_NAME);
        environment.getMachines().get(DEFAULT_MACHINE_NAME).getAttributes().put("memoryLimitBytes", "111112");

        CheServicesEnvironmentImpl expected = new CheServicesEnvironmentImpl();
        expected.getServices().put(DEFAULT_MACHINE_NAME, new CheServiceImpl().withImage(DEFAULT_DOCKER_IMAGE)
                                                                             .withMemLimit(111112L));

        // when
        CheServicesEnvironmentImpl cheServicesEnvironment = parser.parse(environment);

        // then
        assertEquals(cheServicesEnvironment, expected);
    }

