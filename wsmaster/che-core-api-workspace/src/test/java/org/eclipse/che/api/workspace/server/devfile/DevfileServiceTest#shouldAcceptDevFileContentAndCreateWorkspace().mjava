  @Test
  public void shouldAcceptDevFileContentAndCreateWorkspace() throws Exception {
    ArgumentCaptor<DevfileImpl> captor = ArgumentCaptor.forClass(DevfileImpl.class);
    String yamlContent =
        Files.readFile(getClass().getClassLoader().getResourceAsStream("devfile/devfile.yaml"));
    DevfileImpl devfile = createDevfile(yamlContent);
    WorkspaceImpl ws = createWorkspace(WorkspaceStatus.STOPPED);
    final Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .contentType(ContentType.JSON)
            .body(yamlContent)
            .when()
            .post(SECURE_PATH + "/devfile");

    assertEquals(response.getStatusCode(), 400);
    verifyNoMoreInteractions(devfileManager);
  }

