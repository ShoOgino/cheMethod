  private MachineConfigDto createMachineConfig() {
    List<ServerConfDto> serversConf =
        new ArrayList<>(
            asList(
                newDto(ServerConfDto.class)
                    .withRef("ref1")
                    .withPort("8080/tcp")
                    .withProtocol("https")
                    .withPath("some/path"),
                newDto(ServerConfDto.class)
                    .withRef("ref2")
                    .withPort("9090/udp")
                    .withProtocol("protocol")
                    .withPath("/some/path")));
    return newDto(MachineConfigDto.class)
        .withDev(true)
        .withName("machine1")
        .withType("docker")
        .withSource(
            newDto(MachineSourceDto.class).withLocation("http://location").withType("dockerfile"))
        .withServers(serversConf)
        .withEnvVariables(new HashMap<>(singletonMap("key1", "value1")));
  }

