    @Test
    public void startShouldIgnoreFailedToStartNonDevMachine() throws Exception {
        final WorkspaceImpl workspace = createWorkspace();

        doAnswer(invocation -> {
            final MachineConfig machineCfg = (MachineConfig)invocation.getArguments()[0];
            if (!machineCfg.isDev()) {
                throw new MachineException("Failed to start");
            }
            return createMachine((MachineConfig)invocation.getArguments()[0]);
        }).when(machineManager).createMachineSync(any(), anyString(), anyString(), any(LineConsumer.class));


        runtimes.start(workspace, workspace.getConfig().getDefaultEnv());

        final RuntimeDescriptor descriptor = runtimes.get(workspace.getId());
        assertEquals(descriptor.getRuntime().getMachines().size(), 1);
        assertEquals(descriptor.getRuntimeStatus(), RUNNING);
        verify(machineManager, times(2)).createMachineSync(any(), any(), any(), any(LineConsumer.class));
    }

