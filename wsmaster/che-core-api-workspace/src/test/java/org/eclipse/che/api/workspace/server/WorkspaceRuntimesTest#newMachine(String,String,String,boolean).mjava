  private Instance newMachine(String workspaceId, String envName, String name, boolean isDev) {
    MachineImpl machine =
        MachineImpl.builder()
            .setConfig(
                MachineConfigImpl.builder()
                    .setDev(isDev)
                    .setName(name)
                    .setType("docker")
                    .setSource(new MachineSourceImpl("type"))
                    .setLimits(new MachineLimitsImpl(1024))
                    .build())
            .setWorkspaceId(workspaceId)
            .setEnvName(envName)
            .setOwner("owner")
            .setRuntime(
                new MachineRuntimeInfoImpl(
                    Collections.emptyMap(), Collections.emptyMap(), Collections.emptyMap()))
            .setStatus(MachineStatus.RUNNING)
            .build();
    return new NoOpMachineInstance(machine);
  }

