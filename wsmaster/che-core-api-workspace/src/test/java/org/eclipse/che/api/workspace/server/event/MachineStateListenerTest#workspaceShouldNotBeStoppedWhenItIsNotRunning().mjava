  @Test
  public void workspaceShouldNotBeStoppedWhenItIsNotRunning() throws Exception {
    when(event.isDev()).thenReturn(true);
    when(event.getEventType()).thenReturn(DESTROYED);
    when(workspaceManager.getWorkspace(nullable(String.class))).thenReturn(workspace);
    when(workspace.getStatus()).thenReturn(WorkspaceStatus.STOPPED);

    listener.onEvent(event);

    verify(workspaceManager, never()).stopWorkspace(anyString());
  }

