  @Test
  public void shouldThrowNotFoundExceptionWhenIconStackWasNotFound()
      throws NotFoundException, ServerException {
    Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .when()
            .get(SECURE_PATH + "/stack/" + stackImpl.getId() + "/icon");

    assertEquals(response.getStatusCode(), 404);
    String expectedErrorMessage = format("Stack with id '%s' was not found.", STACK_ID);
    assertEquals(unwrapDto(response, ServiceError.class).getMessage(), expectedErrorMessage);
    verify(stackDao).getById(stackImpl.getId());
  }

