    @Test(expectedExceptions = IllegalArgumentException.class, expectedExceptionsMessageRegExp = "A machine can not link to itself: .*")
    public void shouldFailIfMachineLinksByItSelf() {
        // given
        CheServicesEnvironmentImpl composeEnvironment = new CheServicesEnvironmentImpl();
        composeEnvironment.getServices().put("first", new CheServiceImpl().withLinks(singletonList("first")));

        // when
        strategy.order(composeEnvironment);
    }

