  @Test(
    expectedExceptions = IllegalArgumentException.class,
    expectedExceptionsMessageRegExp = "Machine '.*' doesn't have source"
  )
  public void shouldFailValidationIfMachineSourceIsNull() throws Exception {
    MachineConfigDto config = createMachineConfig();
    config.withSource(null);

    environmentValidator.validateMachine(config);
  }

