    @Test(dataProvider = "machineEventTypesExceptOfDestroyed")
    public void eventTypesExceptOfDestroyedShouldBeIgnoredByRemoveMachineSubscriber(MachineStatusEvent.EventType type)
            throws Exception {
        // prepare runtimes
        runtimes = spy(new WorkspaceRuntimes(machineManager, eventService));
        doNothing().when(runtimes).removeMachine(anyString(), anyString(), anyString());
        // prepare event
        final MachineImpl machine = createMachine(true);
        final MachineStatusEvent event = DtoFactory.newDto(MachineStatusEvent.class)
                                                   .withDev(false)
                                                   .withEventType(type)
                                                   .withMachineId(machine.getId());


        runtimes.new RemoveMachineEventSubscriber().onEvent(event);

        verify(runtimes, never()).removeMachine(anyString(), anyString(), anyString());
    }

