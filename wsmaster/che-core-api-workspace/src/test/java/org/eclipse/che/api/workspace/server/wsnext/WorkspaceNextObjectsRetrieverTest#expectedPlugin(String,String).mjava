  private ChePlugin expectedPlugin(String pluginName, String pluginVersion) {
    ChePlugin expectedPlugin = new ChePlugin();
    expectedPlugin.setName(pluginName);
    CheContainer expectedContainer = new CheContainer();
    expectedContainer.setEnv(
        new ArrayList<>(
            singletonList(new EnvVar().name(TEST_PLUGIN_ENV_NAME).value(TEST_PLUGIN_ENV_VALUE))));
    expectedContainer.setImage(TEST_PLUGIN_IMAGE);
    expectedContainer.setVolumes(
        singletonList(new Volume().name(TEST_VOLUME_NAME).mountPath(TEST_VOLUME_PATH)));
    expectedContainer.setPorts(
        new ArrayList<>(singletonList(new CheContainerPort().exposedPort(TEST_SERVER_PORT))));
    expectedPlugin.setContainers(new ArrayList<>(singletonList(expectedContainer)));
    expectedPlugin.setEndpoints(
        new ArrayList<>(
            singletonList(
                new ChePluginEndpoint()
                    .name(TEST_SERVER_NAME)
                    .targetPort(TEST_SERVER_PORT)
                    .attributes(TEST_SERVER_ATTRIBUTES))));
    expectedPlugin.setVersion(pluginVersion);
    return expectedPlugin;
  }

