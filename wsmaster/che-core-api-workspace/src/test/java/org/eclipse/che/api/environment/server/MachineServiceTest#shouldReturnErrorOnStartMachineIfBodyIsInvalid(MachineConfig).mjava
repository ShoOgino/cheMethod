    @Test(dataProvider = "illegalMachineConfigProvider")
    public void shouldReturnErrorOnStartMachineIfBodyIsInvalid(MachineConfig machineConfig) throws Exception {
        // given
        String workspaceId = "wsId";

        // when
        final Response response = given().auth()
                                         .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
                                         .when()
                                         .body(machineConfig)
                                         .contentType(ContentType.JSON)
                                         .post(SECURE_PATH + "/workspace/" + workspaceId + "/machine");

        // then
        assertEquals(response.getStatusCode(), 400);
        verify(wsManager, never()).startMachine(any(MachineConfig.class), anyString());
    }

