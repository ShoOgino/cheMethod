  @Test(
    expectedExceptions = IllegalArgumentException.class,
    expectedExceptionsMessageRegExp = "Source of machine '.*' must contain location or content"
  )
  public void shouldFailValidationIfMissingSourceLocationAndContent() throws Exception {
    MachineConfigDto config = createMachineConfig();
    config.withSource(newDto(MachineSourceDto.class).withType("dockerfile"));

    environmentValidator.validateMachine(config);
  }

