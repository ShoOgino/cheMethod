  @Test
  public void injectsStatusAndEmptyMachinesWhenCanNotGetEnvironmentMachines() throws Exception {
    setRuntime("workspace", WorkspaceStatus.RUNNING, "env-name");
    setNoMachinesForWorkspace("workspace");
    WorkspaceImpl workspace = WorkspaceImpl.builder().setId("workspace").build();

    runtimes.injectRuntime(workspace);

    assertEquals(workspace.getStatus(), WorkspaceStatus.RUNNING);
    assertEquals(workspace.getRuntime().getActiveEnv(), "env-name");
    assertTrue(workspace.getRuntime().getMachines().isEmpty());
  }

