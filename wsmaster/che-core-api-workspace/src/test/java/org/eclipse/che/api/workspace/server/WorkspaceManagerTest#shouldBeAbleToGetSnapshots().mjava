    @Test
    public void shouldBeAbleToGetSnapshots() throws Exception {
        final WorkspaceImpl workspace = workspaceManager.createWorkspace(createConfig(), NAMESPACE);
        when(workspaceDao.get(workspace.getId())).thenReturn(workspace);
        final SnapshotImpl wsSnapshot = SnapshotImpl.builder()
                                                    .setDev(true)
                                                    .setEnvName("envName")
                                                    .setId("snap1")
                                                    .setMachineName("machine1")
                                                    .setWorkspaceId(workspace.getId()).build();
        when(snapshotDao.findSnapshots(workspace.getId())).thenReturn(singletonList(wsSnapshot));

        final List<SnapshotImpl> snapshots = workspaceManager.getSnapshot(workspace.getId());

        assertEquals(snapshots.size(), 1);
        assertEquals(snapshots.get(0), wsSnapshot);
    }

