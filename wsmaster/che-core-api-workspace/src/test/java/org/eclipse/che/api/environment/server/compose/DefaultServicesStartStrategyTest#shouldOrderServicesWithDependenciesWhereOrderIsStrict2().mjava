    @Test
    public void shouldOrderServicesWithDependenciesWhereOrderIsStrict2() {
        // given
        CheServicesEnvironmentImpl composeEnvironment = new CheServicesEnvironmentImpl();
        composeEnvironment.getServices().put("web", new CheServiceImpl().withDependsOn(asList("db", "redis")));
        composeEnvironment.getServices().put("redis", new CheServiceImpl().withDependsOn(singletonList("dev-machine")));
        composeEnvironment.getServices().put("db", new CheServiceImpl().withDependsOn(singletonList("redis")));
        composeEnvironment.getServices().put("dev-machine", new CheServiceImpl().withDependsOn(emptyList()));

        List<String> expected = asList("dev-machine", "redis", "db", "web");

        // when
        List<String> actual = strategy.order(composeEnvironment);

        // then
        assertEquals(actual, expected);
    }

