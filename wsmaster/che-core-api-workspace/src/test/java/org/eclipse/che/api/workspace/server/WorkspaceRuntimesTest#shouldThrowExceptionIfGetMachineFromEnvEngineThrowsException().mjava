    @Test(expectedExceptions = NotFoundException.class,
          expectedExceptionsMessageRegExp = "test exception")
    public void shouldThrowExceptionIfGetMachineFromEnvEngineThrowsException() throws Exception {
        // given
        Instance expected = createMachine(false);
        when(environmentEngine.getMachine(WORKSPACE_ID, expected.getId()))
                .thenThrow(new NotFoundException("test exception"));

        // when
        runtimes.getMachine(WORKSPACE_ID, expected.getId());

        // then
        verify(environmentEngine).getMachine(WORKSPACE_ID, expected.getId());
    }

