    @Test(expectedExceptions = BadRequestException.class,
          expectedExceptionsMessageRegExp = "Environment dev-env contains machine with source but this source doesn't define a location or content")
    public void shouldFailValidationIfMissingLocationOrContent() throws Exception {
        final WorkspaceConfigDto config = createConfig();
        config.getEnvironments()
              .get(0)
              .getMachineConfigs()
              .get(0)
              .withSource(newDto(MachineSourceDto.class).withType("dockerfile"));

        wsValidator.validateConfig(config);
    }

