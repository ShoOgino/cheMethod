    private List<SnapshotImpl> mockSnapshots(Workspace workspace, long creation) throws SnapshotException {
        SnapshotImpl.SnapshotBuilder snapshotBuilder = SnapshotImpl.builder()
                                                                   .generateId()
                                                                   .setCreationDate(creation)
                                                                   .setEnvName(workspace.getConfig().getDefaultEnv())
                                                                   .setWorkspaceId(workspace.getId())
                                                                   .setType("docker")
                                                                   .setMachineSource(new MachineSourceImpl("image"));

        SnapshotImpl snapshot1 = snapshotBuilder.build();
        SnapshotImpl snapshot2 = snapshotBuilder.generateId()
                                                .setDev(false)
                                                .setMachineName("machine2")
                                                .build();
        List<SnapshotImpl> snapshots = asList(snapshot1, snapshot2);
        when(snapshotDao.findSnapshots(workspace.getId())).thenReturn(snapshots);
        return snapshots;
    }

