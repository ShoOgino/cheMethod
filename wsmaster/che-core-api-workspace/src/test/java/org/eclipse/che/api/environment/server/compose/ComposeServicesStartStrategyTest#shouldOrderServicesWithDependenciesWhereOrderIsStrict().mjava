    @Test
    public void shouldOrderServicesWithDependenciesWhereOrderIsStrict() throws Exception {
        ComposeEnvironmentImpl composeEnvironment = new ComposeEnvironmentImpl();
        composeEnvironment.getServices().put("second", new ComposeServiceImpl().withDependsOn(singletonList("first")));
        composeEnvironment.getServices().put("third", new ComposeServiceImpl().withDependsOn(asList("first", "second")));
        composeEnvironment.getServices().put("first", new ComposeServiceImpl().withDependsOn(emptyList()));
        composeEnvironment.getServices().put("forth", new ComposeServiceImpl().withDependsOn(singletonList("third")));
        composeEnvironment.getServices().put("fifth", new ComposeServiceImpl().withDependsOn(asList("forth", "first")));
        List<String> expected = asList("first", "second", "third", "forth", "fifth");

        List<String> actual = strategy.order(composeEnvironment);

        assertEquals(actual, expected);
    }

