    @Test
    public void shouldBeAbleToRemoveSnapshot() throws Exception {
        // given
        SnapshotImpl snapshot = mock(SnapshotImpl.class);
        MachineSourceImpl machineSource = mock(MachineSourceImpl.class);
        when(snapshot.getType()).thenReturn("docker");
        when(snapshot.getMachineSource()).thenReturn(machineSource);

        // when
        engine.removeSnapshot(snapshot);

        // then
        verify(instanceProvider).removeInstanceSnapshot(machineSource);
    }

