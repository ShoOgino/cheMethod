    @Test(dependsOnMethods = "testWorkspaceConfigAdaptationBasedOnDockerfileLocationSource")
    public void testAdaptionOfWorkspaceConfigWithSourceBasedOnDockerfileContent() throws Exception {
        final String content = loadContent("ws_conf_machine_source_dockerfile_content.json");
        final JsonObject wsConfig = new JsonParser().parse(content).getAsJsonObject();
        configAdapter.adaptModifying(wsConfig);

        // check environment recipe
        final JsonObject recipeObj = wsConfig.getAsJsonObject("environments")
                                             .getAsJsonObject("dev-env")
                                             .getAsJsonObject("recipe");
        assertEquals(recipeObj.get("type").getAsString(), "dockerfile");
        assertEquals(recipeObj.get("contentType").getAsString(), "text/x-dockerfile");
        assertEquals(recipeObj.get("content").getAsString(), "FROM codenvy/ubuntu_jdk8");
    }

