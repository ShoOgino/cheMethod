    @Test
    public void shouldStartMachine() throws Exception {
        // given
        String workspaceId = "wsId";
        MachineConfig machineConfig = MachineConfigImpl.builder()
                                                       .setDev(false)
                                                       .setName("name")
                                                       .setType("type")
                                                       .setSource(new MachineSourceImpl("type1").setContent("content"))
                                                       .build();

        // when
        final Response response = given().auth()
                                         .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
                                         .when()
                                         .body(machineConfig)
                                         .contentType(ContentType.JSON)
                                         .post(SECURE_PATH + "/workspace/" + workspaceId + "/machine");

        // then
        assertEquals(response.getStatusCode(), 204);
        verify(wsManager).startMachine(any(MachineConfig.class), eq(workspaceId));
    }

