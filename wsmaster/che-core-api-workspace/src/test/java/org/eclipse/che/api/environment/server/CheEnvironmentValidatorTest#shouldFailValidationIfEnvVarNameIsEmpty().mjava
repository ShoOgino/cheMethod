  @Test(
    expectedExceptions = IllegalArgumentException.class,
    expectedExceptionsMessageRegExp =
        "Machine '.*' contains environment variable with null or empty name"
  )
  public void shouldFailValidationIfEnvVarNameIsEmpty() throws Exception {
    MachineConfigDto config = createMachineConfig();
    config.getEnvVariables().put("", "value");

    environmentValidator.validateMachine(config);
  }

