    @Test(dataProvider = "inconsistentMachines")
    public void machineShouldNotBeAdded(boolean isDev, WorkspaceStatus status) throws Exception {
        when(descriptor.getRuntimeStatus()).thenReturn(status);
        runtimes.descriptors.put(WORKSPACE_ID, descriptor);

        assertFalse(runtimes.addMachine(createMachine(isDev)), "should not be added");
    }

