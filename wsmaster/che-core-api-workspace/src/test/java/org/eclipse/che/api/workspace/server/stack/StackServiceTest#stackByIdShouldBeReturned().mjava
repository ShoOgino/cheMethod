  /** Get stack by id */
  @Test
  public void stackByIdShouldBeReturned() throws NotFoundException, ServerException {
    when(stackDao.getById(STACK_ID)).thenReturn(stackImpl);

    Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .when()
            .get(SECURE_PATH + "/stack/" + STACK_ID);

    assertEquals(response.getStatusCode(), 200);
    StackDto result = unwrapDto(response, StackDto.class);
    assertEquals(result.getId(), stackImpl.getId());
    assertEquals(result.getName(), stackImpl.getName());
    assertEquals(result.getDescription(), stackImpl.getDescription());
    assertEquals(result.getScope(), stackImpl.getScope());
    assertEquals(result.getTags().get(0), stackImpl.getTags().get(0));
    assertEquals(result.getTags().get(1), stackImpl.getTags().get(1));
    assertEquals(
        result.getComponents().get(0).getName(), stackImpl.getComponents().get(0).getName());
    assertEquals(
        result.getComponents().get(0).getVersion(), stackImpl.getComponents().get(0).getVersion());
    assertEquals(result.getSource().getType(), stackImpl.getSource().getType());
    assertEquals(result.getSource().getOrigin(), stackImpl.getSource().getOrigin());
    assertEquals(result.getCreator(), stackImpl.getCreator());
  }

