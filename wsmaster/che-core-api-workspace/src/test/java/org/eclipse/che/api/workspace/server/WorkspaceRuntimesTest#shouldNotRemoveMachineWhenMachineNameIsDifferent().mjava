    @Test
    public void shouldNotRemoveMachineWhenMachineNameIsDifferent() throws Exception {
        // prepare runtime
        final WorkspaceRuntimeImpl runtime = mock(WorkspaceRuntimeImpl.class);
        final MachineImpl machine = createMachine(false);
        final ArrayList<MachineImpl> machines = new ArrayList<>();
        machines.add(machine);
        when(runtime.getMachines()).thenReturn(machines);
        // prepare descriptor
        when(descriptor.getRuntime()).thenReturn(runtime);
        when(descriptor.getRuntimeStatus()).thenReturn(RUNNING);
        // register mocks
        runtimes.descriptors.put(WORKSPACE_ID, descriptor);

        runtimes.removeMachine(machine.getId(), machine.getConfig().getName() + "2", machine.getWorkspaceId());

        assertFalse(machines.isEmpty(), "should not remove machine");
    }

