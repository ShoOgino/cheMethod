  private void shutdownAndWaitPool(ExecutorService pool) throws InterruptedException {
    pool.shutdownNow();
    if (!pool.awaitTermination(10, TimeUnit.SECONDS)) {
      fail("Can't shutdown test pool");
    }
  }

