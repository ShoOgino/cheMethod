    @Test(dependsOnMethods = "testWorkspaceConfigAdaptationBasedOnDockerfileLocationSource")
    public void testAdaptionOfWorkspaceConfigWithSourceBasedOnDockerImage() throws Exception {
        final String content = loadContent("ws_conf_machine_source_dockerimage.json");
        final JsonObject wsConfig = new JsonParser().parse(content).getAsJsonObject();
        configAdapter.adaptModifying(wsConfig);

        // check environment recipe
        final JsonObject recipeObj = wsConfig.getAsJsonObject("environments")
                                             .getAsJsonObject("dev-env")
                                             .getAsJsonObject("recipe");
        assertEquals(recipeObj.get("type").getAsString(), "dockerimage");
        assertEquals(recipeObj.get("location").getAsString(), "codenvy/ubuntu_jdk8");
    }

