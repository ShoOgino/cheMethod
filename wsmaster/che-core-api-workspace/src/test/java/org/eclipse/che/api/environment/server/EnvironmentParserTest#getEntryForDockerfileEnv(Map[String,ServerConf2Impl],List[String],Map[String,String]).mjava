  private static List<Object> getEntryForDockerfileEnv(
      Map<String, ServerConf2Impl> servers,
      List<String> expectedExpose,
      Map<String, String> expectedLabels) {
    EnvironmentImpl environmentConfig = createDockerfileEnvConfig();

    ExtendedMachineImpl extendedMachine = getMachine(environmentConfig);
    extendedMachine.setServers(servers);

    CheServicesEnvironmentImpl parsedCheEnv = new CheServicesEnvironmentImpl();
    CheServiceBuildContextImpl buildContext =
        new CheServiceBuildContextImpl().withDockerfileContent(DEFAULT_DOCKERFILE);
    parsedCheEnv
        .getServices()
        .put(DEFAULT_MACHINE_NAME, new CheServiceImpl().withBuild(buildContext));

    return asList(
        environmentConfig,
        createExpectedEnvFromDockerfile(expectedExpose, expectedLabels),
        parsedCheEnv);
  }

