    @Test
    public void cancellationOfRunningStartTask() throws Exception {
        setRuntime("workspace",
                   WorkspaceStatus.STARTING,
                   "env-name",
                   runtimeFuture,
                   startTask);
        doThrow(new EnvironmentStartInterruptedException("workspace", "env-name")).when(startTask).await();

        runtimes.stop("workspace");

        verify(runtimeFuture).cancel(true);
        verify(startTask).await();
    }

