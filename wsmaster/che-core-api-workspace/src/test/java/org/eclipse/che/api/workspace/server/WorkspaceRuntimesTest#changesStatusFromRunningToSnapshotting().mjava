    @Test
    public void changesStatusFromRunningToSnapshotting() throws Exception {
        final WorkspaceImpl workspace = createWorkspace();
        runtimes.start(workspace, workspace.getConfig().getDefaultEnv(), false);

        runtimes.snapshotAsync(workspace.getId());

        assertEquals(runtimes.get(workspace.getId()).getRuntimeStatus(), WorkspaceStatus.SNAPSHOTTING);
    }

