  @Test(
    expectedExceptions = IllegalArgumentException.class,
    expectedExceptionsMessageRegExp =
        "Machine '.*' has invalid source location protocol: ftp://localhost"
  )
  public void shouldFailValidationIfLocationHasInvalidProtocol() throws Exception {
    MachineConfigDto config = createMachineConfig();
    config.withSource(
        newDto(MachineSourceDto.class).withType("dockerfile").withLocation("ftp://localhost"));

    environmentValidator.validateMachine(config);
  }

