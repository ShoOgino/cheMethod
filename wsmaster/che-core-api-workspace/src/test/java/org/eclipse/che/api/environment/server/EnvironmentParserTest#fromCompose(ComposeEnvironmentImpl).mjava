    private static CheServicesEnvironmentImpl fromCompose(ComposeEnvironmentImpl environment) {
        CheServicesEnvironmentImpl cheServicesEnvironment = new CheServicesEnvironmentImpl();
        Map<String, CheServiceImpl> services = environment.getServices()
                                                          .entrySet()
                                                          .stream()
                                                          .collect(toMap(Map.Entry::getKey,
                                                                         entry -> fromCompose(entry.getValue())));

        return cheServicesEnvironment.withServices(services);
    }

