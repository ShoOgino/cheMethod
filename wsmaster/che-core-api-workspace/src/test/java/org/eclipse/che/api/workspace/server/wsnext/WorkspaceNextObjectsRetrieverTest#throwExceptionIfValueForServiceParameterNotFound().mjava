  @Test(
    expectedExceptions = InfrastructureException.class,
    expectedExceptionsMessageRegExp =
        "Parameters not supported by services found: .*" + TEST_SERVICE_PARAM_NAME + ".*"
  )
  public void throwExceptionIfValueForServiceParameterNotFound() throws Exception {
    CheFeature cheFeature =
        testFeature(
            TEST_SERVICE, TEST_SERVICE_VERSION, TEST_SERVICE_PARAM_NAME, TEST_SERVICE_PARAM_VALUE);
    CheService service = testServiceWithEnv(TEST_SERVICE_ENV_NAME, TEST_SERVICE_ENV_VALUE);
    doReturn(cheFeature).when(retriever).getBody(any(URI.class), eq(CheFeature.class));
    doReturn(service).when(retriever).getBody(any(URI.class), eq(CheService.class));

    retriever.get(SINGLE_FEATURE_ATTRIBUTES);
  }

