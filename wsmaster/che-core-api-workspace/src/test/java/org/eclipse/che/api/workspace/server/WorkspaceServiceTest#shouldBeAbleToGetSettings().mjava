  @Test
  public void shouldBeAbleToGetSettings() throws Exception {
    when(wsManager.getSupportedRecipes()).thenReturn(ImmutableSet.of("dockerimage", "dockerfile"));

    final Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .when()
            .get(SECURE_PATH + "/workspace/settings");

    assertEquals(response.getStatusCode(), 200);
    final Map<String, String> settings =
        new Gson().fromJson(response.print(), new TypeToken<Map<String, String>>() {}.getType());
    assertEquals(
        settings,
        ImmutableMap.of(
            Constants.SUPPORTED_RECIPE_TYPES,
            "dockerimage,dockerfile",
            Constants.CHE_WORKSPACE_AUTO_START,
            "true",
            Constants.CHE_WORKSPACE_PLUGIN_REGISTRY_ULR,
            CHE_WORKSPACE_PLUGIN_REGISTRY_ULR));
  }

