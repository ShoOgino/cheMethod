  private void captureAndVerifyRuntimeStateAfterInterruption(
      Workspace workspace, CompletableFuture<WorkspaceRuntimeImpl> cmpFuture) throws Exception {
    try {
      captureAsyncTaskAndExecuteSynchronously();
    } catch (EnvironmentStartInterruptedException x) {
      String expectedMessage =
          "Start of environment 'env-name' in workspace 'workspace' is interrupted";
      assertEquals(x.getMessage(), expectedMessage);
      verifyCompletionException(
          cmpFuture, EnvironmentStartInterruptedException.class, expectedMessage);
    }
    assertFalse(runtimes.hasRuntime(workspace.getId()));
  }

