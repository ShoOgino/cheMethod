    private static WorkspaceImpl createWorkspace() {
        final MachineConfigImpl devCfg = MachineConfigImpl.builder()
                                                          .setDev(true)
                                                          .setType("docker")
                                                          .setLimits(new LimitsImpl(1024))
                                                          .setSource(new MachineSourceImpl("git", "location"))
                                                          .setName("dev-machine")
                                                          .build();
        final MachineConfigImpl nonDevCfg = MachineConfigImpl.builder()
                                                             .fromConfig(devCfg)
                                                             .setName("non-dev")
                                                             .setDev(false)
                                                             .build();
        final EnvironmentImpl environment = new EnvironmentImpl("dev-env",
                                                                new RecipeImpl(),
                                                                asList(nonDevCfg, devCfg));
        final WorkspaceConfigImpl wsConfig = WorkspaceConfigImpl.builder()
                                                                .setName("test workspace")
                                                                .setEnvironments(singletonList(environment))
                                                                .setDefaultEnv(environment.getName())
                                                                .build();
        return new WorkspaceImpl(WORKSPACE_ID, "user123", wsConfig);
    }

