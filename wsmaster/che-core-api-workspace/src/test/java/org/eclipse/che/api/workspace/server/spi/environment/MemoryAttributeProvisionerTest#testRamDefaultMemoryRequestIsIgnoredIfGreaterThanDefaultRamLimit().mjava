  @Test
  public void testRamDefaultMemoryRequestIsIgnoredIfGreaterThanDefaultRamLimit() {
    long defaultMemoryLimit = 1024L;
    long defaultMemoryRequest = 2048L;
    InternalMachineConfig machineConfig =
        getInternalMachineConfig(defaultMemoryLimit, defaultMemoryRequest, new HashMap<>());

    memoryAttributeProvisioner.provision(machineConfig, 0L, 0L);
    long memLimit = Long.parseLong(machineConfig.getAttributes().get(MEMORY_LIMIT_ATTRIBUTE));
    long memRequest = Long.parseLong(machineConfig.getAttributes().get(MEMORY_REQUEST_ATTRIBUTE));

    assertEquals(memLimit, defaultMemoryLimit * 1024 * 1024);
    assertEquals(memRequest, defaultMemoryLimit * 1024 * 1024);
  }

