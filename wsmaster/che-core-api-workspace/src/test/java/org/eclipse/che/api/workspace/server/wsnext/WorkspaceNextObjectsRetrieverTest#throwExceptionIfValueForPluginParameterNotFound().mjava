  @Test(
      expectedExceptions = InfrastructureException.class,
      expectedExceptionsMessageRegExp =
          "Parameters not supported by che plugins found: .*" + TEST_PLUGIN_PARAM_NAME + ".*")
  public void throwExceptionIfValueForPluginParameterNotFound() throws Exception {
    CheFeature cheFeature =
        testFeature(
            TEST_PLUGIN, TEST_PLUGIN_VERSION, TEST_PLUGIN_PARAM_NAME, TEST_PLUGIN_PARAM_VALUE);
    ChePlugin plugin = testPluginWithEnv(TEST_PLUGIN_ENV_NAME, TEST_PLUGIN_ENV_VALUE);
    doReturn(cheFeature).when(retriever).getBody(any(URI.class), eq(CheFeature.class));
    doReturn(plugin).when(retriever).getBody(any(URI.class), eq(ChePlugin.class));

    retriever.get(SINGLE_FEATURE_ATTRIBUTES);
  }

