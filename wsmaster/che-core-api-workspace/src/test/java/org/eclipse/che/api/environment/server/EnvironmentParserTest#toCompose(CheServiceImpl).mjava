    private static ComposeServiceImpl toCompose(CheServiceImpl service) {
        BuildContextImpl buildContext = null;
        if (service.getBuild() != null) {
            buildContext = new BuildContextImpl().withContext(service.getBuild().getContext())
                                                 .withDockerfile(service.getBuild().getDockerfilePath());
        }

        return new ComposeServiceImpl().withBuild(buildContext)
                                       .withCommand(service.getCommand())
                                       .withContainerName(service.getContainerName())
                                       .withDependsOn(service.getDependsOn())
                                       .withEntrypoint(service.getEntrypoint())
                                       .withEnvironment(service.getEnvironment())
                                       .withExpose(service.getExpose())
                                       .withImage(service.getImage())
                                       .withLabels(service.getLabels())
                                       .withLinks(service.getLinks())
                                       .withMemLimit(service.getMemLimit())
                                       .withNetworks(service.getNetworks())
                                       .withPorts(service.getPorts())
                                       .withVolumes(service.getVolumes())
                                       .withVolumesFrom(service.getVolumesFrom());
    }

