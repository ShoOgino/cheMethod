    @Test
    public void sortAgentsRespectingDependencies() throws Exception {
        List<AgentKey> sorted = agentSorter.sort(Arrays.asList("fqn1", "fqn2", "fqn3"));

        assertEquals(sorted.size(), 3);
        assertEquals(sorted.get(0).getName(), "fqn3");
        assertEquals(sorted.get(1).getName(), "fqn1");
        assertEquals(sorted.get(2).getName(), "fqn2");
    }

