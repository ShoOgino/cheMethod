    @Inject
    public LocalAgentRegistryImpl(Set<Agent> agents) throws IOException {

        this.agents = new HashMap<>();
        findAgents();
        for (Agent agent : agents) {
            this.agents.put(agent.getId(), agent);
        }
        this.agentIds = ImmutableList.copyOf(this.agents.keySet());
    }

