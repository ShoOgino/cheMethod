    @Override
    public List<String> getVersions(String name) throws AgentException {
        URL url = urlProvider.getAgentVersionsUrl(name);
        try {
            HttpJsonResponse response = requestFactory.fromUrl(url.toString()).useGetMethod().request();

            @SuppressWarnings("unchecked")
            List<String> versions = response.as(List.class, new TypeToken<List<String>>() { }.getType());

            return versions;
        } catch (NotFoundException e) {
            throw new AgentNotFoundException(format("Agent %s not found", name), e);
        } catch (IOException | ApiException e) {
            throw new AgentException(format("Can't fetch available %s version.", name), e);
        }
    }

