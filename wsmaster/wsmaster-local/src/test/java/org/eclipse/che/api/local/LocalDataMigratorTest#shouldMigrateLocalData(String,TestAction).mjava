    @Test(dataProvider = "successfulMigrationAttempts")
    public void shouldMigrateLocalData(String fileName, TestAction verification) throws Exception {
        dataMigrator.performMigration(baseDir.toString(),
                                      userDao,
                                      profileDao,
                                      preferenceDao,
                                      sshDao,
                                      workspaceDao,
                                      snapshotDao,
                                      recipeDao,
                                      stackDao,
                                      stackJsonAdapter,
                                      workspaceCfgJsonAdapter);
        verification.perform();

        assertFalse(Files.exists(baseDir.resolve(fileName)));
        assertTrue(Files.exists(baseDir.resolve(fileName + ".backup")));
    }

