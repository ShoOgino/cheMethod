    private void storeTestData() throws Exception {
        final UserImpl user = new UserImpl("id", "email", "name");
        final ProfileImpl profile = new ProfileImpl(user.getId());
        final Map<String, String> prefs = singletonMap("key", "value");
        final SshPairImpl sshPair = new SshPairImpl(user.getId(), "service", "name", "public", "private");
        final WorkspaceImpl workspace = new WorkspaceImpl("id", user.getAccount(), new WorkspaceConfigImpl());
        final SnapshotImpl snapshot = new SnapshotImpl();
        snapshot.setId("snapshotId");
        snapshot.setWorkspaceId(workspace.getId());
        final RecipeImpl recipe = new RecipeImpl();
        recipe.setId("id");
        recipe.setCreator(user.getId());
        final StackImpl stack = new StackImpl();
        stack.setId("id");
        stack.setName("name");
        factory.create(LocalUserDaoImpl.FILENAME).store(singletonMap(user.getId(), user));
        factory.create(LocalProfileDaoImpl.FILENAME).store(singletonMap(profile.getUserId(), profile));
        factory.create(LocalPreferenceDaoImpl.FILENAME).store(singletonMap(user.getId(), prefs));
        factory.create(LocalSshDaoImpl.FILENAME, singletonMap(SshPairImpl.class, new SshSerializer()))
               .store(singletonMap(sshPair.getOwner(), singletonList(sshPair)));
        factory.create(LocalWorkspaceDaoImpl.FILENAME, singletonMap(WorkspaceImpl.class, new WorkspaceSerializer()))
               .store(singletonMap(workspace.getId(), workspace));
        factory.create(LocalSnapshotDaoImpl.FILENAME).store(singletonMap(snapshot.getId(), snapshot));
        factory.create(LocalRecipeDaoImpl.FILENAME).store(singletonMap(recipe.getId(), recipe));
        factory.create(StackLocalStorage.STACK_STORAGE_FILE).store(singletonMap(stack.getId(), stack));
    }

