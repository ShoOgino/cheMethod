    @Override
    public synchronized void create(StackImpl stack) throws ConflictException, ServerException {
        requireNonNull(stack, "Stack required");
        if (stacks.containsKey(stack.getId())) {
            throw new ConflictException(format("Stack with id %s is already exist", stack.getId()));
        }
        if (stacks.values()
                  .stream()
                  .anyMatch(s -> s.getName().equals(stack.getName()))) {
            throw new ConflictException(format("Stack with name '%s' already exists", stack.getName()));
        }
        stacks.put(stack.getId(), new StackImpl(stack));
    }

