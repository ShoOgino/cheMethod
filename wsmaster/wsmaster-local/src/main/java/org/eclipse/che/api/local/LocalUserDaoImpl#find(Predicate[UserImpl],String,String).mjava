    private UserImpl find(Predicate<UserImpl> predicate, String subjectName, String subject) throws NotFoundException {
        final Optional<UserImpl> userOpt = users.values()
                                                .stream()
                                                .filter(predicate)
                                                .findAny();
        if (!userOpt.isPresent()) {
            throw new NotFoundException(format("User with %s '%s' doesn't exist", subjectName, subject));
        }
        return userOpt.get();
    }

