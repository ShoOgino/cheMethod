    @Override
    public synchronized SnapshotImpl getSnapshot(String workspaceId, String envName, String machineName) throws NotFoundException,
                                                                                                                SnapshotException {
        requireNonNull(workspaceId, "Required non-null workspace id");
        requireNonNull(envName, "Required non-null environment name");
        requireNonNull(machineName, "Required non-null machine name");
        final Optional<SnapshotImpl> snapshotOpt = doGetSnapshot(workspaceId, envName, machineName);
        if (!snapshotOpt.isPresent()) {
            throw new NotFoundException(format("Snapshot with workspace id '%s', environment name '%s', machine name %s doesn't exist",
                                               workspaceId, envName, machineName));
        }
        return snapshotOpt.get();
    }

