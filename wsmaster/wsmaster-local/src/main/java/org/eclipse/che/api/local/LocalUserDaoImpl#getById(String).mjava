    @Override
    public UserImpl getById(String id) throws NotFoundException {
        requireNonNull(id, "Required non-null id");
        rwLock.readLock().lock();
        try {
            final User user = users.get(id);
            if (user == null) {
                throw new NotFoundException(format("User with id '%s' doesn't exist", id));
            }
            return new UserImpl(user);
        } finally {
            rwLock.readLock().unlock();
        }
    }

