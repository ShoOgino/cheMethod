    private Map<String, String> filter(Map<String, String> prefs, String filter) {
        final Map<String, String> filtered = new HashMap<>();
        final Pattern pattern = Pattern.compile(filter);
        for (Map.Entry<String, String> entry : prefs.entrySet()) {
            if (pattern.matcher(entry.getKey()).matches()) {
                filtered.put(entry.getKey(), entry.getValue());
            }
        }
        return filtered;
    }

