    @Transactional
    protected RecipeImpl doUpdate(RecipeImpl update) throws NotFoundException {
        final EntityManager manager = managerProvider.get();
        if (manager.find(RecipeImpl.class, update.getId()) == null) {
            throw new NotFoundException(format("Could not update recipe with id %s because it doesn't exist", update.getId()));
        }
        RecipeImpl merged = manager.merge(update);
        manager.flush();
        return merged;
    }

