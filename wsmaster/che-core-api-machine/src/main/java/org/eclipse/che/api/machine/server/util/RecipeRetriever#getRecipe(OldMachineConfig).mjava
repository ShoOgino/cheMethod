    /**
     * Gets the recipe from a machine configuration
     *
     * @param machineConfig
     *         the machine configuration that is containing the content or a location to get recipe
     * @return recipe with set content and type
     * @throws MachineException
     *         if any error occurs
     */
    public OldRecipe getRecipe(@NotNull OldMachineConfig machineConfig) throws MachineException {
        MachineSource machineSource = machineConfig.getSource();
        if (!Strings.isNullOrEmpty(machineSource.getContent())) {
            return new OldRecipeImpl().withType(machineSource.getType())
                                      .withScript(machineSource.getContent());
        } else {
            return recipeDownloader.getRecipe(machineConfig);
        }

    }

