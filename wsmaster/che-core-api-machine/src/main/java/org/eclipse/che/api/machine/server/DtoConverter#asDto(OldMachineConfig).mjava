    /**
     * Converts {@link OldMachineConfig} to {@link OldMachineConfigDto}.
     */
    public static OldMachineConfigDto asDto(OldMachineConfig config) {
        return newDto(OldMachineConfigDto.class).withName(config.getName())
                                                .withType(config.getType())
                                                .withDev(config.isDev())
                                                .withLimits(config.getLimits() == null ? null : asDto(config.getLimits()))
                                                .withSource(config.getSource() == null ? null : asDto(config.getSource()))
                                                .withServers(config.getServers()
                                                                .stream()
                                                                .map(DtoConverter::asDto)
                                                                .collect(Collectors.toList()))
                                                .withEnvVariables(config.getEnvVariables());
    }

