    /**
     * Copies files from specified machine into current machine.
     *
     * @param sourceMachineId
     *         source machine id
     * @param targetMachineId
     *         target machine id
     * @param sourcePath
     *         path to file or directory inside specified machine
     * @param targetPath
     *         path to destination file or directory inside machine
     * @param overwrite
     *         If "false" then it will be an error if unpacking the given content would cause
     *         an existing directory to be replaced with a non-directory and vice versa.
     * @throws MachineException
     *         if any error occurs when files are being copied
     * @throws NotFoundException
     *         if any error occurs with getting source machine
     */
    @POST
    @Path("/copy")
    @RolesAllowed("user")
    @ApiOperation(value = "Copy files from one machine to another")
    @ApiResponses({@ApiResponse(code = 200, message = "Files were copied successfully"),
                   @ApiResponse(code = 400, message = "Machine ID or path is not specified"),
                   @ApiResponse(code = 404, message = "Source machine does not exist"),
                   @ApiResponse(code = 404, message = "Target machine does not exist"),
                   @ApiResponse(code = 500, message = "Internal server error occurred")})
    public void copyFilesBetweenMachines(@ApiParam(value = "Source machine ID", required = true)
                                         @QueryParam("sourceMachineId")
                                         String sourceMachineId,
                                         @ApiParam(value = "Target machine ID", required = true)
                                         @QueryParam("targetMachineId")
                                         String targetMachineId,
                                         @ApiParam(value = "Source path", required = true)
                                         @QueryParam("sourcePath")
                                         String sourcePath,
                                         @ApiParam(value = "Target path", required = true)
                                         @QueryParam("targetPath")
                                         String targetPath,
                                         @ApiParam(value = "Is files overwriting allowed")
                                         @QueryParam("overwrite")
                                         @DefaultValue("false")
                                         Boolean overwrite)
            throws NotFoundException,
                   ServerException,
                   ForbiddenException,
                   BadRequestException {

        requiredNotNull(sourceMachineId, "Source machine id");
        requiredNotNull(targetMachineId, "Target machine id");
        requiredNotNull(sourcePath, "Source path");
        requiredNotNull(targetPath, "Target path");

        final Instance sourceMachine = machineManager.getInstance(sourceMachineId);
        final Instance targetMachine = machineManager.getInstance(targetMachineId);
        targetMachine.copy(sourceMachine, sourcePath, targetPath, overwrite);
    }

