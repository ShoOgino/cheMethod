  @Test(expectedExceptions = SnapshotException.class)
  public void shouldNotSaveSnapshotWithReservedId() throws Exception {
    final SnapshotImpl snapshot = snapshots[0];
    snapshot.setWorkspaceId("new-workspace");
    snapshot.setEnvName("new-env");
    snapshot.setMachineName("new-machine");

    snapshotDao.saveSnapshot(snapshot);
  }

