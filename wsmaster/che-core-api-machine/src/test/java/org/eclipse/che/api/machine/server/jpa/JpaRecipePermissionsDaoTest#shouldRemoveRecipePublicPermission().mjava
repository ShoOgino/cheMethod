  @Test
  public void shouldRemoveRecipePublicPermission() throws Exception {
    final RecipePermissionsImpl publicPermission =
        new RecipePermissionsImpl("*", "recipe1", asList("read", "use", "run"));
    dao.store(publicPermission);
    dao.remove(publicPermission.getUserId(), publicPermission.getInstanceId());

    final List<RecipePermissionsImpl> storePermissions =
        dao.getByInstance(publicPermission.getInstanceId(), 30, 0).getItems();
    assertTrue(storePermissions.stream().filter(p -> "*".equals(p.getUserId())).count() == 0);
  }

