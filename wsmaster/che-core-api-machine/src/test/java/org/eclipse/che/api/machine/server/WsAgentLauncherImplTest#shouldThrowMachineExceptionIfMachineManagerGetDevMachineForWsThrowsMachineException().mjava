    @Test(expectedExceptions = MachineException.class, expectedExceptionsMessageRegExp = "Test exception")
    public void shouldThrowMachineExceptionIfMachineManagerGetDevMachineForWsThrowsMachineException() throws Exception {
        final String notExistingWsId = "notExistingWsId";
        when(machineManager.getDevMachine(notExistingWsId)).thenThrow(new MachineException("Test exception"));

        wsAgentLauncher.startWsAgent(notExistingWsId);

        verify(machineManager).getDevMachine(eq(notExistingWsId));
    }

