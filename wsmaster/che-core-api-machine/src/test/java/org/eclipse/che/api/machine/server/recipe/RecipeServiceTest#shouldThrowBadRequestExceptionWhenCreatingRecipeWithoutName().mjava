  @Test
  public void shouldThrowBadRequestExceptionWhenCreatingRecipeWithoutName() {
    final NewRecipe newRecipe = newDto(NewRecipe.class).withType("docker").withScript("script");

    final Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .contentType("application/json")
            .body(newRecipe)
            .when()
            .post(SECURE_PATH + "/recipe");

    assertEquals(response.getStatusCode(), 400);
    assertEquals(unwrapDto(response, ServiceError.class).getMessage(), "Recipe name required");
  }

