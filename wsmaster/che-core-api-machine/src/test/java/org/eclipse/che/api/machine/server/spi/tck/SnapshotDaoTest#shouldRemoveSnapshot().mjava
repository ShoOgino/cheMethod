  @Test(
    expectedExceptions = NotFoundException.class,
    dependsOnMethods = "shouldThrowNotFoundExceptionWhenGettingNonExistingSnapshot"
  )
  public void shouldRemoveSnapshot() throws Exception {
    final SnapshotImpl snapshot = snapshots[0];

    try {
      snapshotDao.removeSnapshot(snapshot.getId());
    } catch (NotFoundException x) {
      fail("Should remove snapshot");
    }

    snapshotDao.getSnapshot(snapshot.getId());
  }

