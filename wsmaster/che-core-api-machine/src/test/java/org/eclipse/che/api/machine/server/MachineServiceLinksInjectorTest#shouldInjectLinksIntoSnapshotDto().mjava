    @Test
    public void shouldInjectLinksIntoSnapshotDto() {
        final SnapshotDto snapshotDto = DtoFactory.newDto(SnapshotDto.class)
                                                  .withId("id");
        machineLinksInjector.injectLinks(snapshotDto, serviceContextMock);
        final Set<Pair<String, String>> links = snapshotDto.getLinks()
                                                           .stream()
                                                           .map(link -> Pair.of(link.getMethod(), link.getRel()))
                                                           .collect(Collectors.toSet());
        final Set<Pair<String, String>> expectedLinks = ImmutableSet.of(Pair.of("DELETE", LINK_REL_REMOVE_SNAPSHOT));

        assertEquals(links, expectedLinks, "Difference " + Sets.symmetricDifference(links, expectedLinks) + "\n");
    }

