  @Test
  public void shouldBeAbleToGetRecipe() throws Exception {
    final RecipeImpl recipe =
        new RecipeImpl()
            .withCreator("someone2")
            .withId("recipe123")
            .withName("name")
            .withType("docker")
            .withScript("FROM ubuntu\n")
            .withTags(asList("java", "mognodb"));
    when(recipeDao.getById(recipe.getId())).thenReturn(recipe);

    final Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .when()
            .get(SECURE_PATH + "/recipe/" + recipe.getId());

    assertEquals(response.getStatusCode(), 200);
    final RecipeDescriptor descriptor = unwrapDto(response, RecipeDescriptor.class);
    assertEquals(descriptor.getId(), recipe.getId());
    assertEquals(descriptor.getName(), recipe.getName());
    assertEquals(descriptor.getType(), recipe.getType());
    assertEquals(descriptor.getScript(), recipe.getScript());
    assertEquals(descriptor.getTags(), recipe.getTags());
    assertEquals(descriptor.getCreator(), recipe.getCreator());
  }

