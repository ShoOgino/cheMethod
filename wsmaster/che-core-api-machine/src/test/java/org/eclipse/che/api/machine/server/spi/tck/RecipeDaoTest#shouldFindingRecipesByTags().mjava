  @Test(dependsOnMethods = "shouldFindRecipeByUser")
  public void shouldFindingRecipesByTags() throws Exception {
    final List<String> tags = ImmutableList.of("search-by1", "search-by2");
    recipes.get(0).getTags().addAll(tags);
    recipes.get(1).getTags().add(tags.get(0));
    recipes.get(2).getTags().add(tags.get(1));
    recipes.get(4).getTags().clear();
    updateAll();

    final List<RecipeImpl> result = recipeDao.search(null, tags, null, 0, recipes.size());

    assertEquals(new HashSet<>(result), ImmutableSet.of(recipes.get(0)));
  }

