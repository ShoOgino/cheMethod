    @Override
    @Transactional
    public Page<UserImpl> getAll(int maxItems, int skipCount) throws ServerException {
        // TODO need to ensure that 'getAll' query works with same data as 'getTotalCount'
        checkArgument(maxItems >= 0, "The number of items to return can't be negative.");
        checkArgument(skipCount >= 0, "The number of items to skip can't be negative.");
        try {
            final List<UserImpl> list = managerProvider.get()
                                                       .createNamedQuery("User.getAll", UserImpl.class)
                                                       .setMaxResults(maxItems)
                                                       .setFirstResult(skipCount)
                                                       .getResultList()
                                                       .stream()
                                                       .map(JpaUserDao::erasePassword)
                                                       .collect(toList());
            return new Page<>(list, skipCount, maxItems, getTotalCount());
        } catch (RuntimeException x) {
            throw new ServerException(x.getLocalizedMessage(), x);
        }
    }

