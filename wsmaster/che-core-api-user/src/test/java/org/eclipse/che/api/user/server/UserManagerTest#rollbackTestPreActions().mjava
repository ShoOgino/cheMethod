    @DataProvider(name = "rollback")
    public Object[][] rollbackTestPreActions() throws Exception {
        return new Callable[][] {

                // User creation mocking
                {() -> {
                    doThrow(new ServerException("error"))
                            .when(userDao)
                            .create(any());
                    return null;
                }},

                // Preferences creation mocking
                {() -> {
                    doThrow(new ServerException("error"))
                            .when(preferencesDao)
                            .setPreferences(anyString(), any());
                    return null;
                }},

                // Profile creation mocking
                {() -> {
                    doThrow(new ServerException("error"))
                            .when(profileDao)
                            .create(any());
                    return null;
                }}
        };
    }

