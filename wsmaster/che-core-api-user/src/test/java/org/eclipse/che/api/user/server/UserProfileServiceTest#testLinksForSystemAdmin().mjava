    @Test
    public void testLinksForSystemAdmin() {
        final Profile profile = new Profile().withId(testUser.getId());
        when(securityContext.isUserInRole("system/admin")).thenReturn(true);

        final Set<String> expectedRels = new HashSet<>(asList(LINK_REL_UPDATE_USER_PROFILE_BY_ID,
                                                              LINK_REL_GET_USER_PROFILE_BY_ID));

        assertEquals(asRels(service.toDescriptor(profile, securityContext).getLinks()), expectedRels);
    }

