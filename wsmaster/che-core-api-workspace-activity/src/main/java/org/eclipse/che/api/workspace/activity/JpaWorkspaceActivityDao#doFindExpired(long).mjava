  @Transactional
  protected List<String> doFindExpired(long timestamp) {
    return managerProvider
        .get()
        .createNamedQuery("WorkspaceExpiration.getExpired", WorkspaceExpiration.class)
        .setParameter("expiration", timestamp)
        .getResultList()
        .stream()
        .map(WorkspaceExpiration::getWorkspaceId)
        .collect(Collectors.toList());
  }

