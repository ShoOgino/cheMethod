  @Override
  public List<String> findExpired(long timestamp, long runTimeout) {
    return workspaceActivities
        .values()
        .stream()
        .filter(
            a ->
                (a.getExpiration() != null && a.getExpiration() < timestamp)
                    || (runTimeout > 0 && timestamp - a.getLastRunning() > runTimeout))
        .map(WorkspaceActivity::getWorkspaceId)
        .collect(toList());
  }

