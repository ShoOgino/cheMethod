  @BeforeMethod
  private void setUp() throws Exception {
    activityManager =
        new WorkspaceActivityManager(
            workspaceManager,
            workspaceActivityDao,
            accountManager,
            resourceManager,
            eventService,
            EXPIRE_PERIOD_MS);

    when(account.getName()).thenReturn("accountName");
    when(account.getId()).thenReturn("account123");
    when(accountManager.getByName(anyString())).thenReturn(account);

    when(workspaceManager.getWorkspace(anyString())).thenReturn(workspace);
    when(workspace.getNamespace()).thenReturn("accountName");

    doReturn(
            singletonList(
                new ResourceImpl(
                    TimeoutResourceType.ID,
                    EXPIRE_PERIOD_MS / 60 / 1000,
                    TimeoutResourceType.UNIT)))
        .when(resourceManager)
        .getAvailableResources(anyString());
  }

