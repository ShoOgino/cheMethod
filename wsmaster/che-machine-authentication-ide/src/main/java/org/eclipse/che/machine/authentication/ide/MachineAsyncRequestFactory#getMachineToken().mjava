    private Promise<String> getMachineToken() {
        if (!isNullOrEmpty(machineToken)) {
            return Promises.resolve(machineToken);
        } else {
            return machineTokenServiceProvider.get()
                                              .getMachineToken()
                                              .then((Function<MachineTokenDto, String>)tokenDto -> {
                                                  machineToken = tokenDto.getMachineToken();
                                                  return machineToken;
                                              });
        }
    }

