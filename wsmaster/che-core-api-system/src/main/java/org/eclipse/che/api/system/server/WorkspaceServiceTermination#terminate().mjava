    @Override
    public void terminate() throws InterruptedException {
        EventSubscriber propagator = new WorkspaceStoppedEventsPropagator();
        eventService.subscribe(propagator);
        try {
            workspaceManager.shutdown();
        } finally {
            eventService.unsubscribe(propagator);
        }
    }

