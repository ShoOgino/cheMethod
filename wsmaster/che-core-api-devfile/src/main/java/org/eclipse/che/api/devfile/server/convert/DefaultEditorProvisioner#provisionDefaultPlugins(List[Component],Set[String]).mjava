  private void provisionDefaultPlugins(List<Component> components, Set<String> componentsNames) {
    Map<String, String> missingPluginsIdToRef = new HashMap<>(defaultPluginsIdToRef);

    components
        .stream()
        .filter(t -> PLUGIN_COMPONENT_TYPE.equals(t.getType()))
        .forEach(t -> missingPluginsIdToRef.remove(getId(t.getId())));

    missingPluginsIdToRef
        .values()
        .forEach(
            pluginRef ->
                components.add(
                    new Component()
                        .withType(PLUGIN_COMPONENT_TYPE)
                        .withId(pluginRef)
                        .withName(findAvailableName(componentsNames, pluginRef))));
  }

