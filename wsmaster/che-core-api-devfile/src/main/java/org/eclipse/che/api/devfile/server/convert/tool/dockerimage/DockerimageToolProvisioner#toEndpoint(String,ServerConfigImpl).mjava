  private Endpoint toEndpoint(String name, ServerConfigImpl config) {
    String stringPort =
        config.getPort().split("/")[0]; // cut protocol from string port like 8080/TCP

    Map<String, String> attributes = new HashMap<>(config.getAttributes());
    putIfNotNull(attributes, "protocol", config.getProtocol());
    putIfNotNull(attributes, "path", config.getPath());

    String isInternal = config.getAttributes().remove(ServerConfig.INTERNAL_SERVER_ATTRIBUTE);
    if ("true".equals(isInternal)) {
      attributes.put("public", "false");
    }

    return new Endpoint()
        .withName(name)
        .withPort(Integer.parseInt(stringPort))
        .withAttributes(attributes);
  }

