  private Set<String> validateComponents(Devfile devfile) throws DevfileFormatException {
    Set<String> existingNames = new HashSet<>();
    Component editorComponent = null;
    for (Component component : devfile.getComponents()) {
      if (!existingNames.add(component.getName())) {
        throw new DevfileFormatException(
            format("Duplicate component name found:'%s'", component.getName()));
      }
      switch (component.getType()) {
        case EDITOR_COMPONENT_TYPE:
          if (editorComponent != null) {
            throw new DevfileFormatException(
                format(
                    "Multiple editor components found: '%s', '%s'",
                    editorComponent.getName(), component.getName()));
          }
          editorComponent = component;
          break;

        case PLUGIN_COMPONENT_TYPE:
        case KUBERNETES_COMPONENT_TYPE:
        case OPENSHIFT_COMPONENT_TYPE:
        case DOCKERIMAGE_COMPONENT_TYPE:
          // do nothing
          break;

        default:
          throw new DevfileFormatException(
              format(
                  "Unsupported component '%s' type provided:'%s'",
                  component.getName(), component.getType()));
      }
    }
    return existingNames;
  }

