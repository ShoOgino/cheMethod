  @Test
  public void shouldConvertWorkspaceCommandToDevfileCommand() throws Exception {
    // given
    CommandImpl workspaceCommand = new CommandImpl("build", "mvn clean install", "custom");
    workspaceCommand.getAttributes().put(TOOL_NAME_COMMAND_ATTRIBUTE, "dockerimageTool");
    workspaceCommand.getAttributes().put(WORKING_DIRECTORY_ATTRIBUTE, "/tmp");
    workspaceCommand.getAttributes().put("anotherAttribute", "value");

    // when
    Command devfileCommand = commandConverter.toDevfileCommand(workspaceCommand);

    // then
    assertEquals(devfileCommand.getName(), "build");
    assertEquals(devfileCommand.getActions().size(), 1);
    assertEquals(devfileCommand.getAttributes().size(), 1);
    assertEquals(devfileCommand.getAttributes().get("anotherAttribute"), "value");
    Action action = devfileCommand.getActions().get(0);
    assertEquals(action.getTool(), "dockerimageTool");
    assertEquals(action.getWorkdir(), "/tmp");
    assertEquals(action.getCommand(), "mvn clean install");
    assertEquals(action.getType(), EXEC_ACTION_TYPE);
  }

