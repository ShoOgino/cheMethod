  @Test(dependsOnMethods = "shouldFilterRecipeWithGivenSelectors")
  public void shouldSetMachineNameAttributeToCommandConfiguredInOpenShiftToolWithOneContainer()
      throws Exception {
    String yamlRecipeContent =
        Files.readFile(getClass().getClassLoader().getResourceAsStream("petclinic.yaml"));

    final Map<String, String> selector =
        Collections.singletonMap("app.kubernetes.io/component", "webapp");
    Tool tool =
        new Tool()
            .withType(OPENSHIFT_TOOL_TYPE)
            .withLocal(LOCAL_FILENAME)
            .withName(TOOL_NAME)
            .withSelector(selector);
    devfile
        .getCommands()
        .add(
            new Command()
                .withAttributes(new HashMap<>())
                .withActions(Collections.singletonList(new Action().withTool(TOOL_NAME))));

    applier.apply(tool, devfile, workspaceConfig, s -> yamlRecipeContent);

    Command command = devfile.getCommands().get(0);
    assertEquals(command.getAttributes().get(MACHINE_NAME_ATTRIBUTE), "petclinic/server");
  }

