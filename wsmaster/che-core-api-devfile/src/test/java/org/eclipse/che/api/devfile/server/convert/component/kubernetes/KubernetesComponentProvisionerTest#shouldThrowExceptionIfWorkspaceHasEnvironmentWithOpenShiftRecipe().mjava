  @Test(
      expectedExceptions = WorkspaceExportException.class,
      expectedExceptionsMessageRegExp =
          "Exporting of workspace with `openshift` is not supported yet.")
  public void shouldThrowExceptionIfWorkspaceHasEnvironmentWithOpenShiftRecipe() throws Exception {
    // given
    WorkspaceConfigImpl workspaceConfig = new WorkspaceConfigImpl();

    EnvironmentImpl osEnv = new EnvironmentImpl();
    osEnv.setRecipe(new RecipeImpl(OpenShiftEnvironment.TYPE, null, null, null));
    workspaceConfig.getEnvironments().put("osEnv", osEnv);

    // when
    kubernetesComponentProvisioner.provision(new DevfileImpl(), workspaceConfig);
  }

