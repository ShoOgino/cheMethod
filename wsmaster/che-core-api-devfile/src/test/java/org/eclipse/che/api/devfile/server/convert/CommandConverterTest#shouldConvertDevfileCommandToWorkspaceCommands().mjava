  @Test
  public void shouldConvertDevfileCommandToWorkspaceCommands() throws Exception {
    // given
    Command devfileCommand = new Command();
    devfileCommand.setName("build");
    devfileCommand.setAttributes(ImmutableMap.of("attr", "value"));
    Action action = new Action();
    action.setComponent("dockerimageComponent");
    action.setType(EXEC_ACTION_TYPE);
    action.setWorkdir("/tmp");
    action.setCommand("mvn clean install");
    devfileCommand.getActions().add(action);

    // when
    CommandImpl workspaceCommand = commandConverter.toWorkspaceCommand(devfileCommand);

    // then
    assertEquals(workspaceCommand.getName(), "build");
    assertEquals(workspaceCommand.getType(), EXEC_ACTION_TYPE);
    assertEquals(workspaceCommand.getAttributes().size(), 3);
    assertEquals(workspaceCommand.getAttributes().get("attr"), "value");
    assertEquals(workspaceCommand.getAttributes().get(WORKING_DIRECTORY_ATTRIBUTE), "/tmp");
    assertEquals(
        workspaceCommand.getAttributes().get(COMPONENT_NAME_COMMAND_ATTRIBUTE),
        "dockerimageComponent");
    assertEquals(workspaceCommand.getCommandLine(), "mvn clean install");
  }

