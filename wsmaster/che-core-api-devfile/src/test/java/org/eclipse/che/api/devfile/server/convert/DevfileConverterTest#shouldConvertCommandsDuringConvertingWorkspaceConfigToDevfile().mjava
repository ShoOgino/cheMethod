  @Test
  public void shouldConvertCommandsDuringConvertingWorkspaceConfigToDevfile() throws Exception {
    // given
    WorkspaceConfigImpl wsConfig = new WorkspaceConfigImpl();
    CommandImpl workspaceCommand = mock(CommandImpl.class);
    wsConfig.getCommands().add(workspaceCommand);

    Command devfileCommand = mock(Command.class);
    when(commandConverter.toDevfileCommand(any())).thenReturn(devfileCommand);

    // when
    Devfile devfile = devfileConverter.workspaceToDevFile(wsConfig);

    // then
    assertEquals(devfile.getCommands().size(), 1);
    assertSame(devfile.getCommands().get(0), devfileCommand);
  }

