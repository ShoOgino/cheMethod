  @Test
  public void shouldConvertCommandsDuringConvertingWorkspaceConfigToDevfile() throws Exception {
    // given
    WorkspaceConfigImpl wsConfig = new WorkspaceConfigImpl();
    org.eclipse.che.api.workspace.server.model.impl.CommandImpl workspaceCommand =
        mock(org.eclipse.che.api.workspace.server.model.impl.CommandImpl.class);
    wsConfig.getCommands().add(workspaceCommand);

    CommandImpl devfileCommand = mock(CommandImpl.class);
    when(commandConverter.toDevfileCommand(any())).thenReturn(devfileCommand);

    // when
    DevfileImpl devfile = devfileConverter.workspaceToDevFile(wsConfig);

    // then
    assertEquals(devfile.getCommands().size(), 1);
    assertSame(devfile.getCommands().get(0), devfileCommand);
  }

