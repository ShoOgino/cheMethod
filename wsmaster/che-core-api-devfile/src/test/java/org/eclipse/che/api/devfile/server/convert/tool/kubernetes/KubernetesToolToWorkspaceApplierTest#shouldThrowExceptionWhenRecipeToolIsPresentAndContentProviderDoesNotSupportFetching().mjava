  @Test(
      expectedExceptions = DevfileException.class,
      expectedExceptionsMessageRegExp =
          "Fetching content of file `local.yaml` specified in `local` field of tool `foo` is not "
              + "supported. Please provide its content in `localContent` field. Cause: fetch is not supported")
  public void shouldThrowExceptionWhenRecipeToolIsPresentAndContentProviderDoesNotSupportFetching()
      throws Exception {
    // given
    Tool tool =
        new Tool().withType(KUBERNETES_TOOL_TYPE).withLocal(LOCAL_FILENAME).withName(TOOL_NAME);

    // when
    applier.apply(
        workspaceConfig,
        tool,
        e -> {
          throw new DevfileException("fetch is not supported");
        });
  }

