  @Test(
      expectedExceptions = DevfileFormatException.class,
      expectedExceptionsMessageRegExp =
          "Tool of type '"
              + EDITOR_TOOL_TYPE
              + "' cannot contain 'selector' field, please check 'editor1' tool")
  public void shouldThrowExceptionOnUnsupportedEditorToolSelectorField() throws Exception {
    Devfile broken = copyOf(initialDevfile);
    broken.getTools().clear();
    broken
        .getTools()
        .add(
            new Tool()
                .withName("editor1")
                .withType(EDITOR_TOOL_TYPE)
                .withId("anyId")
                .withSelector(Collections.singletonMap("key", "value")));
    // when
    integrityValidator.validateDevfile(broken);
  }

