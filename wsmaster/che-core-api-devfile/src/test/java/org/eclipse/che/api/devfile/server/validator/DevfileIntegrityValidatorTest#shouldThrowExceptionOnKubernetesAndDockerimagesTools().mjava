  @Test(
      expectedExceptions = DevfileFormatException.class,
      expectedExceptionsMessageRegExp =
          "Multiple non plugin or editor type tools found: 'k8s', 'dockerimage'")
  public void shouldThrowExceptionOnKubernetesAndDockerimagesTools() throws Exception {
    Devfile broken = copyOf(initialDevfile);
    broken.getCommands().clear();
    broken.getTools().clear();
    broken
        .getTools()
        .add(new Tool().withName("k8s").withType(KUBERNETES_TOOL_TYPE).withLocal("foo.yaml"));
    broken.getTools().add(new Tool().withName("dockerimage").withType(DOCKERIMAGE_TOOL_TYPE));
    // when
    integrityValidator.validateDevfile(broken);
  }

