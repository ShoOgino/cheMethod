  @Test
  public void shouldAddDockerimageToolIfEnvironmentHasDockerimageRecipe() throws Exception {
    // given
    WorkspaceConfigImpl workspaceConfig = new WorkspaceConfigImpl();
    workspaceConfig.setName("ws123");
    EnvironmentImpl environment = new EnvironmentImpl();
    environment.setRecipe(new RecipeImpl("dockerimage", null, null, null));
    workspaceConfig.getEnvironments().put("env1", environment);

    Tool dockerimageTool = new Tool();
    when(dockerimageToolApplier.from(any(), any())).thenReturn(dockerimageTool);

    // when
    Devfile devfile = devfileConverter.workspaceToDevFile(workspaceConfig);

    // then
    verify(dockerimageToolApplier).from("env1", environment);
    assertEquals(devfile.getTools().size(), 1);
    assertEquals(devfile.getTools().get(0), dockerimageTool);
  }

