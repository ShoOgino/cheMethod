  @Test
  public void shouldConvertCommandsDuringConvertingDevfileToWorkspaceConfig() throws Exception {
    // given
    FileContentProvider fileContentProvider = mock(FileContentProvider.class);
    Devfile devfile = newDevfile("petclinic");
    Command devfileCommand = mock(Command.class);
    devfile.getCommands().add(devfileCommand);

    CommandImpl workspaceCommand = mock(CommandImpl.class);
    when(commandConverter.toWorkspaceCommand(any())).thenReturn(workspaceCommand);

    // when
    WorkspaceConfigImpl workspaceConfig =
        devfileConverter.devFileToWorkspaceConfig(devfile, fileContentProvider);

    // then
    assertEquals(workspaceConfig.getCommands().size(), 1);
    assertSame(workspaceConfig.getCommands().get(0), workspaceCommand);
  }

