  @Test(
      expectedExceptions = DevfileFormatException.class,
      expectedExceptionsMessageRegExp = "Devfile schema validation failed. Errors: [\\w\\W]+")
  public void shouldThrowExceptionWhenUnconvertableContentProvided() throws Exception {
    String yamlContent = getTestResource("devfile.yaml").concat("foos:");

    devfileManager.parse(yamlContent, true);

    verify(schemaValidator).validateBySchema(eq(yamlContent), eq(true));
    verifyNoMoreInteractions(integrityValidator);
  }

