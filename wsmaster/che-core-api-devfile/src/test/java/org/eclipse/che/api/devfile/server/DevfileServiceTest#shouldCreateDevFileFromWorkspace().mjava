  @Test
  public void shouldCreateDevFileFromWorkspace() throws Exception {
    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());
    when(workspaceManager.getWorkspace(anyString()))
        .thenReturn(createWorkspace(WorkspaceStatus.STOPPED));

    final Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .when()
            .get(SECURE_PATH + "/devfile/ws123456");

    assertEquals(response.getStatusCode(), 200);
    Devfile devFile = objectMapper.readValue(response.getBody().asString(), Devfile.class);
    assertNotNull(devFile);
  }

