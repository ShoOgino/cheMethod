  @Test
  public void shouldCreateDevFileFromWorkspace() throws Exception {
    ObjectMapper objectMapper = new ObjectMapper(new YAMLFactory());
    when(devfileManager.exportWorkspace(anyString())).thenReturn(new DevfileImpl());

    final Response response =
        given()
            .auth()
            .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
            .when()
            .get(SECURE_PATH + "/devfile/ws123456");

    assertEquals(response.getStatusCode(), 200);
    DevfileImpl devFile = objectMapper.readValue(response.getBody().asString(), DevfileImpl.class);
    assertNotNull(devFile);
  }

