  @Test(
      expectedExceptions = WorkspaceExportException.class,
      expectedExceptionsMessageRegExp =
          "Workspace `ws123` cannot be converted to devfile since it has several environments which have no equivalent in devfile model")
  public void shouldThrowExceptionWhenWorkspaceHasMultipleEnvironments() throws Exception {
    // given
    WorkspaceConfigImpl workspaceConfig = new WorkspaceConfigImpl();
    workspaceConfig.setName("ws123");
    workspaceConfig.getEnvironments().put("env1", new EnvironmentImpl());
    workspaceConfig.getEnvironments().put("env2", new EnvironmentImpl());

    // when
    devfileConverter.workspaceToDevFile(workspaceConfig);
  }

