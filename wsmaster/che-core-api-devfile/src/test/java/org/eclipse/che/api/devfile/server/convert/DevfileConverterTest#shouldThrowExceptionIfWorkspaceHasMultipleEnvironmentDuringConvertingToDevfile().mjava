  @Test(
      expectedExceptions = WorkspaceExportException.class,
      expectedExceptionsMessageRegExp =
          "Workspace 'ws123' cannot be converted to devfile because it contains multiple environments")
  public void shouldThrowExceptionIfWorkspaceHasMultipleEnvironmentDuringConvertingToDevfile()
      throws Exception {
    // given
    WorkspaceConfigImpl wsConfig = new WorkspaceConfigImpl();
    wsConfig.setName("ws123");
    wsConfig.getEnvironments().put("env1", new EnvironmentImpl());
    wsConfig.getEnvironments().put("env2", new EnvironmentImpl());

    // when
    devfileConverter.workspaceToDevFile(wsConfig);
  }

