    @Test(dataProvider = "agentKeys")
    public void shouldReturnAgentByIdAndVersion(String id, String version) throws Exception {
        Installer installer = registry.getInstaller(id + (version != null ? ":" + version : ""));

        assertNotNull(installer);
        assertEquals(installer.getId(), id);
        assertEquals(installer.getVersion(), version == null ? DEFAULT_VERSION : version);
    }

