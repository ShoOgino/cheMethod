  @Test
  public void shouldReturnMiddlePage() throws Exception {
    InstallerImpl installer1 = TestInstallerFactory.createInstaller("id_1", "1.0.1");
    InstallerImpl installer2 = TestInstallerFactory.createInstaller("id_2", "1.0.2");
    registry.add(installer1);
    registry.add(installer2);

    Page<? extends Installer> installers = registry.getInstallers(1, 1);
    assertEquals(installers.getTotalItemsCount(), 3);
    assertEquals(installers.getItemsCount(), 1);
    assertEquals(installers.getSize(), 1);
    assertTrue(installers.hasNextPage());
    assertTrue(installers.hasPreviousPage());

    Page.PageRef nextPageRef = installers.getNextPageRef();
    assertEquals(nextPageRef.getItemsBefore(), 2);
    assertEquals(nextPageRef.getPageSize(), 1);

    Page.PageRef previousPageRef = installers.getPreviousPageRef();
    assertEquals(previousPageRef.getItemsBefore(), 0);
    assertEquals(previousPageRef.getPageSize(), 1);

    List<? extends Installer> items = installers.getItems();
    assertEquals(items.size(), 1);
    assertInstaller(items.get(0), installer1);
  }

