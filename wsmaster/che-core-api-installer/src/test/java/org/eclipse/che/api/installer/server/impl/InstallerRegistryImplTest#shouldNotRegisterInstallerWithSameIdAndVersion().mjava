    @Test(expectedExceptions = IllegalArgumentException.class)
    public void shouldNotRegisterInstallerWithSameIdAndVersion() throws Exception {
        new LocalInstallerRegistry(new HashSet<Installer>() {{
            add(DtoFactory.newDto(InstallerDto.class).withId("id1").withVersion("v1").withScript("s1"));
            add(DtoFactory.newDto(InstallerDto.class).withId("id1").withVersion("v1").withScript("s2"));
        }});
    }

