    @Test(expectedExceptions = IllegalArgumentException.class,
          expectedExceptionsMessageRegExp = "Installer with fqn 'installer1:latest' has been registered already.")
    public void shouldNotRegisterAgentWithSameIdAndVersion() throws Exception {
        when(installer1v1.getVersion()).thenReturn("latest");
        new LocalInstallerRegistry(ImmutableSet.of(installer1v1, installer1latest));
    }

