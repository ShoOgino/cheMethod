  @BeforeMethod
  public void setUp() throws Exception {
    installerDao = new MapBasedInstallerDao();

    when(installer1v1.getId()).thenReturn("installer1");
    when(installer1v1.getVersion()).thenReturn("1.0.0");

    when(installer1v2.getId()).thenReturn("installer1");
    when(installer1v2.getVersion()).thenReturn("2.0.0");

    when(installer2v1.getId()).thenReturn("installer2");
    when(installer2v1.getVersion()).thenReturn("1.0.0"); // Default version

    when(installer3v1.getId()).thenReturn("installer3");
    when(installer3v1.getVersion()).thenReturn("1.0.0");

    registry =
        new LocalInstallerRegistry(
            ImmutableSet.of(installer1v1, installer1v2, installer2v1, installer3v1),
            installerDao,
            installerValidator);
  }

