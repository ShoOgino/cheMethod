    /**
     * Creates factory links.
     *
     * @param uriInfo
     *         URI information about relative URIs are relative to the base URI
     * @return list of factory links
     * @throws UnsupportedEncodingException
     *         occurs when impossible to encode URL
     */
    public List<Link> createLinks(Factory factory, UriInfo uriInfo, String userName) throws UnsupportedEncodingException {
        final List<Link> links = new LinkedList<>();
        final UriBuilder baseUriBuilder = uriInfo != null ? UriBuilder.fromUri(uriInfo.getBaseUri()) : UriBuilder.fromUri("/");

        // add path to factory service
        final UriBuilder factoryUriBuilder = baseUriBuilder.clone().path(FactoryService.class);
        final String factoryId = factory.getId();
        if (factoryId != null) {
            // uri to retrieve factory
            links.add(createLink(HttpMethod.GET,
                                 RETRIEVE_FACTORY_REL_ATT,
                                 null,
                                 MediaType.APPLICATION_JSON,
                                 factoryUriBuilder.clone()
                                                  .path(FactoryService.class, "getFactory")
                                                  .build(factoryId)
                                                  .toString()));

            // uri's of snippets
            links.addAll(snippetTypes.stream()
                                     .map(snippet -> createLink(HttpMethod.GET,
                                                                SNIPPET_REL_ATT + snippet,
                                                                null,
                                                                MediaType.TEXT_PLAIN,
                                                                factoryUriBuilder.clone()
                                                                                 .path(FactoryService.class, "getFactorySnippet")
                                                                                 .queryParam("type", snippet)
                                                                                 .build(factoryId)
                                                                                 .toString()))
                                     .collect(toList()));

            // uri to accept factory
            final Link createWorkspace = createLink(HttpMethod.GET,
                                                    FACTORY_ACCEPTANCE_REL_ATT,
                                                    null,
                                                    MediaType.TEXT_HTML,
                                                    baseUriBuilder.clone()
                                                                  .replacePath("f")
                                                                  .queryParam("id", factoryId)
                                                                  .build()
                                                                  .toString());
            links.add(createWorkspace);


            // links of analytics
            links.add(createLink(HttpMethod.GET,
                                 ACCEPTED_REL_ATT,
                                 null,
                                 MediaType.TEXT_PLAIN,
                                 baseUriBuilder.clone()
                                               .path("analytics")
                                               .path("public-metric/factory_used")
                                               .queryParam("factory", URLEncoder.encode(createWorkspace.getHref(), "UTF-8"))
                                               .build()
                                               .toString()));
        }

        if (!Strings.isNullOrEmpty(factory.getName()) && !Strings.isNullOrEmpty(userName)) {
            // uri to accept factory by name and creator
            final Link createWorkspaceFromNamedFactory = createLink(HttpMethod.GET,
                                                                    NAMED_FACTORY_ACCEPTANCE_REL_ATT,
                                                                    null,
                                                                    MediaType.TEXT_HTML,
                                                                    baseUriBuilder.clone()
                                                                                  .replacePath("f")
                                                                                  .queryParam("name", factory.getName())
                                                                                  .queryParam("user", userName)
                                                                                  .build()
                                                                                  .toString());
            links.add(createWorkspaceFromNamedFactory);
        }

        return links;
    }

