        @Override
        public void onRemovalEvent(BeforeUserRemovedEvent event) throws Exception {
            final Pair<String, String> factoryCreator = Pair.of("creator.userId", event.getUser().getId());
            for (FactoryImpl factory : factoryDao.getByAttribute(0, 0, singletonList(factoryCreator))) {
                factoryDao.remove(factory.getId());
            }
        }

