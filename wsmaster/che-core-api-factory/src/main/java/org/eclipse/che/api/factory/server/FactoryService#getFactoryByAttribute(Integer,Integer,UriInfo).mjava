  @GET
  @Path("/find")
  @Produces(APPLICATION_JSON)
  @ApiOperation(
    value =
        "Get factory by attribute, "
            + "the attribute must match one of the Factory model fields with type 'String', "
            + "e.g. (factory.name, factory.creator.name)",
    notes =
        "If specify more than one value for a single query parameter then will be taken the first one"
  )
  @ApiResponses({
    @ApiResponse(code = 200, message = "Response contains list requested factories"),
    @ApiResponse(
      code = 400,
      message = "When query does not contain at least one attribute to search for"
    ),
    @ApiResponse(code = 500, message = "Internal server error")
  })
  public List<FactoryDto> getFactoryByAttribute(
      @DefaultValue("0") @QueryParam("skipCount") Integer skipCount,
      @DefaultValue("30") @QueryParam("maxItems") Integer maxItems,
      @Context UriInfo uriInfo)
      throws BadRequestException, ServerException {
    final Set<String> skip = ImmutableSet.of("token", "skipCount", "maxItems");
    final List<Pair<String, String>> query =
        URLEncodedUtils.parse(uriInfo.getRequestUri())
            .entrySet()
            .stream()
            .filter(param -> !skip.contains(param.getKey()) && !param.getValue().isEmpty())
            .map(entry -> Pair.of(entry.getKey(), entry.getValue().iterator().next()))
            .collect(toList());
    checkArgument(!query.isEmpty(), "Query must contain at least one attribute");
    final List<FactoryDto> factories = new ArrayList<>();
    for (Factory factory : factoryManager.getByAttribute(maxItems, skipCount, query)) {
      factories.add(injectLinks(asDto(factory)));
    }
    return factories;
  }

