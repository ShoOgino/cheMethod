    /**
     * Get list of factories which conform specified attributes.
     *
     * @param maxItems
     *         max number of items in response
     * @param skipCount
     *         skip items. Must be equals or greater then {@code 0}
     * @param uriInfo
     *         url context
     * @return stored data, if specified attributes is correct
     * @throws BadRequestException
     *         when no search attributes passed
     */
    @GET
    @Path("/find")
    @Produces(APPLICATION_JSON)
    @ApiOperation(value = "Get Factory by attribute",
                  notes = "If specify more than one value for a single query parameter then will be taken first one")
    @ApiResponses({@ApiResponse(code = 200, message = "OK"),
                   @ApiResponse(code = 400, message = "Failed to validate factory e.g. if it expired"),
                   @ApiResponse(code = 500, message = "Internal server error")})
    public List<Factory> getFactoryByAttribute(@DefaultValue("0")
                                               @QueryParam("skipCount")
                                               Integer skipCount,
                                               @DefaultValue("30")
                                               @QueryParam("maxItems")
                                               Integer maxItems,
                                               @Context
                                               UriInfo uriInfo) throws BadRequestException {
        final List<String> skipParams = Arrays.asList("token", "skipCount", "maxItems");
        final List<Pair<String, String>> queryParams = URLEncodedUtils.parse(uriInfo.getRequestUri()).entrySet().stream()
                                                                      .filter(entry -> !skipParams.contains(entry.getKey()) &&
                                                                                       !entry.getValue().isEmpty())
                                                                      .map(entry -> Pair.of(entry.getKey(),
                                                                                            entry.getValue().iterator().next()))
                                                                      .collect(toList());
        if (queryParams.isEmpty()) {
            throw new BadRequestException("Query must contain at least one attribute.");
        }

        return factoryStore.findByAttribute(maxItems, skipCount, queryParams);
    }

