  @Test
  public void shouldRemoveFactoryByGivenIdentifier() throws Exception {
    final Factory factory = createFactory();
    when(factoryManager.getById(FACTORY_ID)).thenReturn(factory);

    given()
        .auth()
        .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
        .param("id", FACTORY_ID)
        .expect()
        .statusCode(204)
        .when()
        .delete(SERVICE_PATH + "/" + FACTORY_ID);

    verify(factoryManager).removeFactory(FACTORY_ID);
  }

