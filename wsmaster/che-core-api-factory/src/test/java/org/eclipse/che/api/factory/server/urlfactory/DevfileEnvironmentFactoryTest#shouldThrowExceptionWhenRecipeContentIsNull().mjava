  @Test(
      expectedExceptions = BadRequestException.class,
      expectedExceptionsMessageRegExp =
          "The local file '"
              + LOCAL_FILENAME
              + "' defined in tool  '"
              + TOOL_NAME
              + "' is unreachable or empty.")
  public void shouldThrowExceptionWhenRecipeContentIsNull() throws Exception {
    Tool tool =
        new Tool().withType(OPENSHIFT_TOOL_TYPE).withLocal(LOCAL_FILENAME).withName(TOOL_NAME);
    Devfile devfile = new Devfile();
    devfile.setTools(singletonList(tool));
    when(urlFetcher.fetch(anyString())).thenReturn(null);

    provisioner.create(devfile, s -> "http://foo.bar/local.yaml");
  }

