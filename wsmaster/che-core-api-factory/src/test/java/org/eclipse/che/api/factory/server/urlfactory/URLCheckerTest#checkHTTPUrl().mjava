  /** Check HTTP url. */
  @Test
  public void checkHTTPUrl() throws IOException {

    HttpURLConnection httpURLConnection = mock(HttpURLConnection.class);

    // if 200, it's ok
    when(httpURLConnection.getResponseCode()).thenReturn(OK_200);
    boolean exists = URLChecker.exists(httpURLConnection);
    assertTrue(exists);

    // if 404, it's ko
    reset(httpURLConnection);
    when(httpURLConnection.getResponseCode()).thenReturn(NOT_FOUND_404);
    exists = URLChecker.exists(httpURLConnection);
    assertFalse(exists);

    // failure, it's ko
    reset(httpURLConnection);
    when(httpURLConnection.getResponseCode()).thenThrow(IOException.class);
    exists = URLChecker.exists(httpURLConnection);
    assertFalse(exists);

    // check local server
    exists = URLChecker.exists("http://localhost:" + port);
    assertTrue(exists);
  }

