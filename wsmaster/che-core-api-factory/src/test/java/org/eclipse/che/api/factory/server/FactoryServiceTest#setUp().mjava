    @BeforeMethod
    public void setUp() throws Exception {
        dto = DtoFactory.getInstance();
        factoryBuilder = spy(new FactoryBuilder(new SourceStorageParametersValidator()));
        doNothing().when(factoryBuilder).checkValid(any(Factory.class));
        when(userDao.getById(anyString())).thenReturn(new User().withName(JettyHttpServer.ADMIN_USER_NAME));
        factoryService = new FactoryService(factoryStore,
                                            createValidator,
                                            acceptValidator,
                                            editValidator,
                                            new LinksHelper(),
                                            factoryBuilder,
                                            workspaceManager,
                                            userDao);
    }

