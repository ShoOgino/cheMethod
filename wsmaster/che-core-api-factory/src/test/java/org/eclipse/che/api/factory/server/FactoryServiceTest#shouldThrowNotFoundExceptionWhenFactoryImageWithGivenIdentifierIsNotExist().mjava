    @Test
    public void shouldThrowNotFoundExceptionWhenFactoryImageWithGivenIdentifierIsNotExist() throws Exception {
        final String errMessage = "Image with name " + IMAGE_NAME + " is not found";
        when(factoryManager.getFactoryImages(FACTORY_ID, IMAGE_NAME)).thenThrow(new NotFoundException(errMessage));

        final Response response = given().expect()
                                         .statusCode(404)
                                         .when()
                                         .get(SERVICE_PATH + "/" + FACTORY_ID + "/image?imgId=" + IMAGE_NAME);

        assertEquals(getFromResponse(response, ServiceError.class).getMessage(), errMessage);
    }

