  /**
   * Start http server to really test a HTTP endpoint. as URL can't be mock
   *
   * @throws Exception if server is not started
   */
  @BeforeClass
  public void startJetty() throws Exception {
    this.server = new Server(0);
    ServletContextHandler context = new ServletContextHandler(ServletContextHandler.SESSIONS);
    context.setContextPath("/");
    context.addServlet(new ServletHolder(new MyServlet()), "/");
    this.server.setHandler(context);
    this.server.start();
    this.port = ((ServerConnector) server.getConnectors()[0]).getLocalPort();
  }

