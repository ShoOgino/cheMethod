    @Test
    public void shouldReturnFirstFoundFactoryImageWhenImageNameNotSpecified() throws Exception {
        final byte[] imageContent = Files.readAllBytes(getImagePath());
        final FactoryImage image = new FactoryImage(imageContent, FACTORY_IMAGE_MIME_TYPE, IMAGE_NAME);
        when(factoryManager.getFactoryImages(FACTORY_ID)).thenReturn(ImmutableSet.of(image));

        final Response response = given().when()
                                         .expect()
                                         .statusCode(200)
                                         .get(SERVICE_PATH + "/" + FACTORY_ID + "/image");

        assertEquals(response.getContentType(), "image/jpeg");
        assertEquals(response.getHeader("content-length"), String.valueOf(imageContent.length));
        assertEquals(response.asByteArray(), imageContent);
    }

