  @Test(
      expectedExceptions = BadRequestException.class,
      expectedExceptionsMessageRegExp =
          "Multiple non plugin or editor type tools found \\(2\\) but expected only one.")
  public void shouldThrowExceptionWhenMultipleRecipeTypeToolsSpecified() throws Exception {
    Tool tool =
        new Tool().withType(OPENSHIFT_TOOL_TYPE).withLocal(LOCAL_FILENAME).withName(TOOL_NAME);
    Tool tool2 =
        new Tool().withType(KUBERNETES_TOOL_TYPE).withLocal(LOCAL_FILENAME).withName("bar");
    Devfile devfile = new Devfile();
    devfile.setTools(Arrays.asList(tool, tool2));
    when(urlFetcher.fetch(anyString())).thenReturn(null);

    provisioner.create(devfile, s -> "http://foo.bar/local.yaml");
  }

