    @Test
    public void shouldThrowBadRequestWhenGettingFactoryByEmptyAttributeList() throws Exception {
        final Response response = given().auth()
                                         .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
                                         .contentType(APPLICATION_JSON)
                                         .when()
                                         .expect()
                                         .get(SERVICE_PATH + "/find?maxItems=1&skipCount=0");

        assertEquals(response.getStatusCode(), 400);
        assertEquals(DTO.createDtoFromJson(response.getBody().asString(), ServiceError.class)
                        .getMessage(), "Query must contain at least one attribute");
    }

