  /** Check that with a simple valid URL github url it works */
  @Test
  public void shouldReturnGitHubSimpleRepoFactory() throws Exception {

    String githubUrl = "https://github.com/eclipse/che";

    FactoryDto computedFactory = newDto(FactoryDto.class).withV(CURRENT_VERSION).withSource("repo");
    when(urlFactoryBuilder.createFactoryFromJson(any(RemoteFactoryUrl.class)))
        .thenReturn(Optional.empty());
    when(urlFactoryBuilder.createFactoryFromDevfile(any(RemoteFactoryUrl.class), any()))
        .thenReturn(Optional.empty());

    when(projectConfigDtoMerger.merge(any(FactoryDto.class), any())).then(returnsFirstArg());

    FactoryDto factory =
        githubFactoryParametersResolver.createFactory(singletonMap(URL_PARAMETER_NAME, githubUrl));

    // check we provide dockerfile and correct env
    verify(urlFactoryBuilder).buildDefaultWorkspaceConfig(eq("che"));
    assertEquals(factory, computedFactory);
  }

