    public void setMediaType(String mediaType) throws IOException {
        if (mediaType != null) {
            switch (mediaType) {
                case "image/jpeg":
                case "image/png":
                case "image/gif":
                    this.mediaType = mediaType;
                    return;
                default:
                    throw new IOException("Image media type '" + mediaType + "' is unsupported.");
            }
        }
        throw new IOException("Image media type 'null' is unsupported.");
    }

