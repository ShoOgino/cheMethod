    @Test
    public void shouldSaveFactoryWithoutImages() throws Exception {
        // given
        Factory factory = prepareFactoryWithGivenStorage("git", "http://github.com/codenvy/che-core.git");
        factory.withCreator(dto.createDto(Author.class).withName("username"));
        FactorySaveAnswer factorySaveAnswer = new FactorySaveAnswer();

        when(factoryStore.saveFactory(any(Factory.class), anySetOf(FactoryImage.class))).then(factorySaveAnswer);
        when(factoryStore.getFactory(CORRECT_FACTORY_ID)).then(factorySaveAnswer);

        // when, then
        Response response = given().auth()
                                   .basic(JettyHttpServer.ADMIN_USER_NAME, JettyHttpServer.ADMIN_USER_PASSWORD)
                                   .contentType(ContentType.JSON)
                                   .body(factory)
                                   .post("/private" + SERVICE_PATH);
        assertEquals(response.getStatusCode(), Status.OK.getStatusCode());
    }

