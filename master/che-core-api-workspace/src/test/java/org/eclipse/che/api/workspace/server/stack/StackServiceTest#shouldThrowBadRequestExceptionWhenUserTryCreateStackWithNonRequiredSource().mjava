    @Test
    public void shouldThrowBadRequestExceptionWhenUserTryCreateStackWithNonRequiredSource() {
        stackDto.setSource(null);
        stackDto.setWorkspaceConfig(null);

        final Response response = given().auth()
                                         .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
                                         .contentType(APPLICATION_JSON)
                                         .body(stackDto)
                                         .when()
                                         .post(SECURE_PATH + "/stack");

        assertEquals(response.getStatusCode(), 400);
        String expectedErrorMessage = "Stack source required. You must specify stack source: 'workspaceConfig' or 'stackSource'";
        assertEquals(unwrapDto(response, ServiceError.class).getMessage(), expectedErrorMessage);
    }

