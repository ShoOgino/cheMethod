    @Test
    public void shouldBeAbleToCreateMachineWithValidName() throws Exception {
        String expectedName = "validMachineName";
        final MachineConfigImpl machineConfig = MachineConfigImpl.builder()
                                                                 .fromConfig(createMachineConfig())
                                                                 .setName(expectedName)
                                                                 .build();
        MachineImpl expectedMachine = new MachineImpl(machineConfig,
                                                      MACHINE_ID,
                                                      WS_ID,
                                                      ENVIRONMENT_NAME,
                                                      USER_ID,
                                                      MachineStatus.CREATING,
                                                      null);

        manager.createMachineSync(machineConfig, WS_ID, ENVIRONMENT_NAME);

        verify(machineRegistry).addMachine(eq(expectedMachine));
    }

