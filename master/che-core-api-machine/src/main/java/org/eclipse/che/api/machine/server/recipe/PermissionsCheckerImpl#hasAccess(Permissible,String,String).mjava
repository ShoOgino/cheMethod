    @Override
    public boolean hasAccess(Permissible permissible, String userId, String permission) throws ServerException {
        //TODO consider logic when creator has 'read', 'write' and 'update_acl' permissions

        //if data object doesn't have any permissions it may be accessed only by its creator
        final Permissions permissions = permissible.getPermissions();
        if (permissions == null) {
            return false;
        }

        //check user permissions
        final List<String> userPerms = permissions.getUsers().get(userId);
        if (userPerms != null) {
            return userPerms.contains(permission);
        }

        //check group permissions
        for (Group group : permissions.getGroups()) {
            if (!group.getAcl().contains(permission)) {
                continue;
            }
            if (group.getName().equals("public")) {
                return true;
            }
//            //check user relationships for this group
//            for (Member member : relationships) {
//                if (group.getUnit().equals(member.getWorkspaceId()) && member.getRoles().contains(group.getName())) {
//                    return true;
//                }
//            }
        }
        return false;
    }

