    @Test
    public void shouldBeAbleToGetCurrentProfile() throws Exception {
        final Profile current = new Profile().withId(testUser.getId()).withUserId(testUser.getId());
        when(profileDao.getById(current.getId())).thenReturn(current);

        final ContainerResponse response = makeRequest(HttpMethod.GET, SERVICE_PATH, null);

        assertEquals(response.getStatus(), OK.getStatusCode());
        final ProfileDescriptor descriptor = (ProfileDescriptor)response.getEntity();
        assertEquals(descriptor.getId(), current.getId());
        assertEquals(descriptor.getUserId(), current.getUserId());
        assertEquals(descriptor.getAttributes().get("email"), testUser.getEmail());
    }

