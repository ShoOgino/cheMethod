    @Test
    public void shouldNotBeAbleToCreateUserWithoutEmailBySystemAdmin() throws Exception {
        final UserDescriptor newUser = DtoFactory.getInstance()
                                                 .createDto(UserDescriptor.class)
                                                 .withName("user")
                                                 .withPassword("password");
        when(securityContext.isUserInRole("system/admin")).thenReturn(true);

        final ContainerResponse response = makeRequest(HttpMethod.POST, SERVICE_PATH + "/create", newUser);

        assertEquals(response.getStatus(), BAD_REQUEST.getStatusCode());
    }

