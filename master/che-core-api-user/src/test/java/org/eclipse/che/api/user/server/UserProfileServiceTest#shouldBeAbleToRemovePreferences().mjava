    @Test
    public void shouldBeAbleToRemovePreferences() throws Exception {
        final Map<String, String> preferences = new HashMap<>(8);
        preferences.put("test1", "test1");
        preferences.put("test2", "test2");
        preferences.put("test3", "test3");
        when(preferenceDao.getPreferences(testUser.getId())).thenReturn(preferences);

        final ContainerResponse response = makeRequest(HttpMethod.DELETE, SERVICE_PATH + "/prefs", singletonList("test1"));

        assertEquals(response.getStatus(), NO_CONTENT.getStatusCode());
        assertNull(preferences.get("test1"));
        verify(preferenceDao).setPreferences(testUser.getId(), preferences);
    }

