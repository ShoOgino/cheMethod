  @Test
  public void shouldCallProvisionersInSpecificOrder() throws Exception {
    // when
    provisioner.provision(environment, dockerEnvironment, runtimeIdentity);

    // then
    InOrder inOrder = Mockito.inOrder((Object[]) allInnerProvisioners);
    inOrder
        .verify(serversConverter)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(envVarsConverter)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(memoryAttributeConverter)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(labelsProvisioner)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(snapshotProvisioner)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(installerConfigProvisioner)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(projectsVolumeProvisioner)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(wsAgentServerConfigProvisioner)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(settingsProvisioners)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(dockerApiEnvProvisioner)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder
        .verify(toolingServersEnvVarsProvisioner)
        .provision(eq(environment), eq(dockerEnvironment), eq(runtimeIdentity));
    inOrder.verifyNoMoreInteractions();
  }

