  @Test
  public void shouldPassIfMachineFromRecipeIsNotInTheListOfMachines() throws Exception {
    // given
    DockerContainerConfig container2 = mock(DockerContainerConfig.class);
    when(container2.getImage()).thenReturn("test/image:latest");
    when(environment.getMachines()).thenReturn(singletonMap(MACHINE_NAME, machineConfig));
    when(dockerEnvironment.getContainers())
        .thenReturn(ImmutableMap.of(MACHINE_NAME, container, "anotherContainer", container2));

    // when
    environmentValidator.validate(environment, dockerEnvironment);
  }

