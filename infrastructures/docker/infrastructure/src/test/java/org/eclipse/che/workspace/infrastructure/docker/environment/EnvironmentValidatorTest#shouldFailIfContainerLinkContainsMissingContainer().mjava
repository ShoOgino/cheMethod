  @Test(
    expectedExceptions = ValidationException.class,
    expectedExceptionsMessageRegExp =
        "Machine '.*' in environment contains link to non existing machine '.*'"
  )
  public void shouldFailIfContainerLinkContainsMissingContainer() throws Exception {
    // given
    when(container.getLinks()).thenReturn(singletonList("nonExistingContainer:alias1"));

    // when
    environmentValidator.validate(environment, dockerEnvironment);
  }

