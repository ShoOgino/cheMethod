  @Test
  public void hostInstanceDataFolderShouldBeCutAndProjectsFolderShouldBeCleaned() throws Exception {
    when(projectsFolderPathProvider.getPathByName(anyString())).thenReturn(HOST_PROJECTS_FOLDER);
    when(removeLocalProjectsFolderOnWorkspaceRemove.getInstanceDataPath())
        .thenReturn(HOST_INSTANCE_DATA_FOLDER);

    removeLocalProjectsFolderOnWorkspaceRemove.onEvent(new WorkspaceRemovedEvent(workspace));

    verify(projectsFolderPathProvider).getPathByName(WORKSPACE_NAME);
    verify(removeLocalProjectsFolderOnWorkspaceRemove)
        .deleteRecursiveAsync(WORKSPACE_ID, CONTAINER_MOUNTED_PROJECTS_FOLDER);
  }

