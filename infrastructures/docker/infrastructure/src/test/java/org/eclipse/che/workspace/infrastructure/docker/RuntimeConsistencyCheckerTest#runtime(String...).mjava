  private static DockerInternalRuntime runtime(String... names) throws Exception {
    Map<String, DockerMachine> machines = new HashMap<>();
    for (String name : names) {
      machines.put(name, mock(DockerMachine.class));
    }

    DockerInternalRuntime runtime = mock(DockerInternalRuntime.class);
    doReturn(machines).when(runtime).getMachines();
    when(runtime.toString()).thenReturn(Arrays.toString(names));
    return runtime;
  }

