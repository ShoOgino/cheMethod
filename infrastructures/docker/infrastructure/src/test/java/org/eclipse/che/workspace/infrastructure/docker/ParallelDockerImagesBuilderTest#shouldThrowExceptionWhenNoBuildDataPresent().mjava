  @Test(
    expectedExceptions = InfrastructureException.class,
    expectedExceptionsMessageRegExp =
        "Che container '.*' doesn't have neither build nor image fields"
  )
  void shouldThrowExceptionWhenNoBuildDataPresent() throws Throwable {
    DockerContainerConfig config = new DockerContainerConfig();
    config.setBuild(new DockerBuildContext());
    Map<String, DockerContainerConfig> input = singletonMap("machine1", config);
    dockerImagesBuilder.prepareImages(input);
  }

