  @Test
  public void createsFoldersIfConfigured() throws Exception {
    assertTrue(workspacesRootFile.delete());
    LocalProjectsFolderPathProvider provider =
        new LocalProjectsFolderPathProvider(
            workspacesRoot,
            null,
            null,
            true, // <- Create folder if it doesn't exist
            workspaceDao,
            false);

    provider.init();

    assertTrue(workspacesRootFile.exists());
    assertTrue(workspacesRootFile.isDirectory());

    String providerPath = provider.getPath(WS_ID);

    assertTrue(new File(providerPath).exists());
    assertTrue(new File(providerPath).isDirectory());
  }

