  @Test(
    expectedExceptions = IOException.class,
    expectedExceptionsMessageRegExp = "expected test exception"
  )
  public void throwsIOExceptionIfWorkspaceRetrievalFails() throws Exception {
    when(workspaceDao.get(WS_ID)).thenThrow(new ServerException("expected test exception"));
    LocalProjectsFolderPathProvider provider =
        new LocalProjectsFolderPathProvider(workspacesRoot, null, null, false, workspaceDao, true);

    provider.init();
    provider.getPath(WS_ID);
  }

