  @Test(
      expectedExceptions = IOException.class,
      expectedExceptionsMessageRegExp = "expected test exception")
  public void throwsIOExceptionIfWorkspaceRetrievalFails() throws Exception {
    when(workspaceDao.get(WS_NAME, WS_NAMESPACE))
        .thenThrow(new ServerException("expected test exception"));
    LocalProjectsFolderPathProvider provider =
        new LocalProjectsFolderPathProvider(
            workspacesRoot, null, false, null, false, workspaceDao, localProjectsMigrator, true);

    provider.init();
    provider.getPathByName(WS_NAME, WS_NAMESPACE);
  }

