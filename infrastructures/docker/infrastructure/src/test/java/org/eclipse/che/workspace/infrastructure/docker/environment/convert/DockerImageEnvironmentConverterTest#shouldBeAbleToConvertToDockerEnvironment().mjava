  @Test
  public void shouldBeAbleToConvertToDockerEnvironment() throws Exception {
    // given
    DockerContainerConfig expectedContainer =
        new DockerContainerConfig().setImage(DEFAULT_DOCKER_IMAGE);
    DockerEnvironment expectedEnv =
        new DockerEnvironment(
                recipe, singletonMap(DEFAULT_MACHINE_NAME, machineConfig), emptyList())
            .setContainers(newLinkedHashMap(singletonMap(DEFAULT_MACHINE_NAME, expectedContainer)))
            .setType(DockerEnvironment.TYPE);

    // when
    DockerEnvironment actual = converter.convert(environment);

    // then
    assertEquals(actual, expectedEnv);
  }

