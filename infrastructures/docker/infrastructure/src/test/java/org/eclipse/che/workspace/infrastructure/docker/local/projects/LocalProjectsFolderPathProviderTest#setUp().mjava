  @BeforeMethod
  public void setUp() throws Exception {
    WorkspaceImpl workspace = mock(WorkspaceImpl.class);
    WorkspaceConfigImpl workspaceConfig = mock(WorkspaceConfigImpl.class);
    lenient().when(workspaceDao.get(WS_ID)).thenReturn(workspace);
    lenient().when(workspaceDao.get(WS_NAME, WS_NAMESPACE)).thenReturn(workspace);
    lenient()
        .when(workspaceDao.getWorkspaces(eq(false), anyInt(), anyLong()))
        .thenReturn(new Page<>(Collections.singletonList(workspace), 0, 1, 1));
    lenient().when(workspace.getConfig()).thenReturn(workspaceConfig);
    lenient().when(workspaceConfig.getName()).thenReturn(WS_NAME);
    lenient().when(workspace.getNamespace()).thenReturn(WS_NAMESPACE);
    lenient().when(workspace.getId()).thenReturn(WS_ID);

    Path tempDirectory = Files.createTempDirectory(getClass().getSimpleName());
    workspacesRoot = tempDirectory.toString();
    workspacesRootFile = tempDirectory.toFile();
    singleFolderForAllWorkspaces =
        Paths.get(workspacesRoot, "singleFolderForAllWorkspaces").toString();
    oldWorkspacesRoot = Paths.get(workspacesRoot, "oldWorkspacesRoot").toString();
  }

