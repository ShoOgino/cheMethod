  @Test
  public void shouldPerformWorkspaceMigration() throws Exception {
    Files.createDirectories(Paths.get(workspacesRoot).resolve(WS_NAME));
    Files.createFile(Paths.get(workspacesRoot).resolve(WS_NAME).resolve("pom.xml"));

    LocalProjectsFolderPathProvider provider =
        new LocalProjectsFolderPathProvider(
            workspacesRoot, null, true, null, false, workspaceDao, localProjectsMigrator, false);

    provider.init();

    verify(localProjectsMigrator).performMigration(eq(workspacesRoot));
  }

