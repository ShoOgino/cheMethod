  @Test
  public void
      cleanerShouldKillAndRemoveContainerIfThisContainerIsRunningAndDoesntBelongToRunningWorkspace()
          throws Exception {
    cleaner.cleanContainers();

    verify(dockerConnector).listContainers();

    verify(workspaceManager, times(3)).getWorkspace(anyString());

    verify(dockerConnector, times(2)).killContainer(anyString());
    verify(dockerConnector, times(2)).removeContainer(any());

    verify(dockerConnector, never()).killContainer(containerId1);
    verify(dockerConnector, never())
        .removeContainer(
            RemoveContainerParams.create(containerId1).withForce(true).withRemoveVolumes(true));
  }

