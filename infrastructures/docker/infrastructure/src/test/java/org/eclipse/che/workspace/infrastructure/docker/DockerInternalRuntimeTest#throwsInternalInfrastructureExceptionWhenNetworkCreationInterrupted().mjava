  @Test(expectedExceptions = InternalInfrastructureException.class)
  public void throwsInternalInfrastructureExceptionWhenNetworkCreationInterrupted()
      throws Exception {
    doThrow(InternalInfrastructureException.class)
        .when(networks)
        .createNetwork(nullable(String.class));

    try {
      dockerRuntime.start(emptyMap());
    } catch (InfrastructureException ex) {
      verify(starter, never())
          .startContainer(nullable(String.class), nullable(String.class), any(), any(), any());
      throw ex;
    }
  }

