  @Test(expectedExceptions = RuntimeStartInterruptedException.class)
  public void throwsInterruptionExceptionWhenThreadInterruptedOnStarFailedBeforeDestroying()
      throws Exception {
    final String msg = "container start failed";
    mockInstallersBootstrap();
    doAnswer(
            invocationOnMock -> {
              Thread.currentThread().interrupt();
              throw new InfrastructureException(msg);
            })
        .when(starter)
        .startContainer(
            nullable(String.class),
            nullable(String.class),
            nullable(String.class),
            any(DockerContainerConfig.class),
            any(RuntimeIdentity.class),
            any(AbnormalMachineStopHandler.class));

    try {
      dockerRuntime.start(emptyMap());
    } catch (InfrastructureException ex) {
      verify(starter, times(1))
          .startContainer(
              nullable(String.class),
              nullable(String.class),
              nullable(String.class),
              any(),
              any(),
              any());
      throw ex;
    }
  }

