  @Test(dataProvider = "urlRewritingTestProvider")
  public void shouldRewriteURL(String externalIP, String incomeURL, String expectedURL)
      throws Exception {
    ExternalIpURLRewriter rewriter = new ExternalIpURLRewriter(externalIP);

    String rewrittenURL = rewriter.rewriteURL(null, null, null, incomeURL);

    assertEquals(rewrittenURL, expectedURL);
  }

