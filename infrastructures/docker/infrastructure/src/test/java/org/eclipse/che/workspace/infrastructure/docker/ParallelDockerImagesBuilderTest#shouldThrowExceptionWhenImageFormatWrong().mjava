  @Test(
    expectedExceptions = InfrastructureException.class,
    expectedExceptionsMessageRegExp =
        "Try to build a docker machine source with an invalid location/content. It is not in the expected format"
  )
  void shouldThrowExceptionWhenImageFormatWrong() throws Throwable {
    DockerContainerConfig config = new DockerContainerConfig();
    config.setImage("**/%%");
    Map<String, DockerContainerConfig> input = singletonMap("machine1", config);
    dockerImagesBuilder.prepareImages(input);
  }

