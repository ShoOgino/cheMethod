    @Inject
    public SinglePortHostnameBuilderProvider(
        @Named("che.single.port") boolean isSinglePortEnabled,
        @Nullable @Named("che.docker.ip") String internalIpOfContainers,
        @Nullable @Named("che.docker.ip.external") String externalIpOfContainers,
        @Nullable @Named("che.singleport.wildcard_domain.host") String wildcardHost) {
      if (isSinglePortEnabled && internalIpOfContainers == null && externalIpOfContainers == null) {
        throw new ConfigurationException(
            "Value of both of the properties 'che.docker.ip' and 'che.docker.ip.external' is null,"
                + " which is unsuitable for the single-port mode");
      }
      this.instance =
          isSinglePortEnabled
              ? new SinglePortHostnameBuilder(
                  externalIpOfContainers, internalIpOfContainers, wildcardHost)
              : null;
    }

