  @Override
  public void provision(DockerEnvironment internalEnv, RuntimeIdentity identity)
      throws InfrastructureException {

    for (Entry<String, DockerContainerConfig> containerEntry :
        internalEnv.getContainers().entrySet()) {

      DockerContainerConfig value = containerEntry.getValue();
      List<String> newVolumes = new ArrayList<>();
      for (String volume : value.getVolumes()) {
        String[] volumeSourceTarget = volume.split(":");
        if (VolumeNames.matches(
            volumeSourceTarget[0],
            ProjectsVolumeForWsAgentProvisioner.PROJECTS_VOLUME_NAME,
            identity.getWorkspaceId())) {
          newVolumes.add(getProjectsVolumeSpec(identity.getWorkspaceId(), volumeSourceTarget[1]));
        } else {
          newVolumes.add(volume);
        }
      }
      value.setVolumes(newVolumes);
    }
  }

