  public void performMigration(String workspaceProjectsRootFolder) {
    LOG.info("Starting migration of workspace project files");
    Map<String, String> workspaceName2id = getId2NameWorkspaceMapping();
    for (Entry<String, String> entry : workspaceName2id.entrySet()) {
      Path workspaceStoredByNameLocation =
          Paths.get(workspaceProjectsRootFolder).resolve(entry.getValue());
      if (!Files.exists(workspaceStoredByNameLocation)) {
        // migration is not needed for this workspace
        continue;
      }
      Path workspaceStoredByIdLocation =
          Paths.get(workspaceProjectsRootFolder).resolve(entry.getKey());
      try {
        Files.move(
            workspaceStoredByNameLocation,
            workspaceStoredByIdLocation,
            StandardCopyOption.ATOMIC_MOVE);
        LOG.info(
            "Successfully migrated projects of workspace with id '{}' and name '{}'",
            entry.getKey(),
            entry.getValue());
      } catch (IOException e) {
        LOG.error(
            "Failed to migrate projects of workspace with id '{}' and name '{}'",
            entry.getKey(),
            entry.getValue());
      }
    }
  }

