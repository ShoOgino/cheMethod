  @Override
  protected InternalEnvironment create(
      Map<String, InternalMachineConfig> machines, InternalRecipe recipe, List<Warning> warnings)
      throws InfrastructureException, ValidationException {
    DockerEnvironment dockerEnvironment =
        asDockerEnvironment(parse(recipe.getContent(), recipe.getContentType()));

    return new ComposeInternalEnvironment(machines, recipe, warnings, dockerEnvironment);
  }

