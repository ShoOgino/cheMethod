  @Override
  public void provision(DockerEnvironment internalEnv, RuntimeIdentity identity)
      throws InfrastructureException {

    for (Map.Entry<String, InternalMachineConfig> entry : internalEnv.getMachines().entrySet()) {
      String name = entry.getKey();
      DockerContainerConfig container = internalEnv.getContainers().get(name);
      container
          .getLabels()
          .putAll(
              Labels.newSerializer()
                  .machineName(name)
                  .machineAttributes(entry.getValue().getAttributes())
                  .runtimeId(identity)
                  .labels());
    }
  }

