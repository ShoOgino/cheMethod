  @Override
  public InternalEnvironment estimate(Environment environment)
      throws ValidationException, InfrastructureException {
    // workaround that in dockerimage environment image is in location field instead of content
    if (DockerImageEnvironmentParser.TYPE.equals(environment.getRecipe().getType())
        && environment.getRecipe().getLocation() != null) {
      // move image from location to content
      EnvironmentImpl envCopy = new EnvironmentImpl(environment);
      envCopy.getRecipe().setContent(environment.getRecipe().getLocation());
      envCopy.getRecipe().setLocation(null);
      return super.estimate(envCopy);
    }
    return super.estimate(environment);
  }

