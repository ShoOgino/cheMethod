  @Inject
  public SinglePortUrlRewriter(
      @Nullable @Named("che.docker.ip") String internalIpOfContainers,
      @Named("che.port") int chePort,
      @Nullable @Named("che.docker.ip.external") String externalIpOfContainers,
      @Nullable @Named("che.singleport.wildcard_domain.host") String wildcardHost) {
    if (internalIpOfContainers == null && externalIpOfContainers == null) {
      throw new IllegalStateException(
          "Value of both of the properties 'che.docker.ip' and 'che.docker.ip.external' is null,"
              + " which is unsuitable for the single-port mode");
    }
    this.hostnameBuilder =
        new SinglePortHostnameBuilder(externalIpOfContainers, internalIpOfContainers, wildcardHost);
    this.chePort = chePort;
  }

