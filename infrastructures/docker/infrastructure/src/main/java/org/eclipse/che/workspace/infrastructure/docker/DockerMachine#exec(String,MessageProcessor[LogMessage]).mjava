  public void exec(String script, MessageProcessor<LogMessage> messageProcessor)
      throws InfrastructureException {
    try {
      Exec exec =
          docker.createExec(
              CreateExecParams.create(container, new String[] {"/bin/sh", "-c", script})
                  .withDetach(false));
      docker.startExec(StartExecParams.create(exec.getId()), messageProcessor);
    } catch (IOException e) {
      throw new InfrastructureException(e.getLocalizedMessage(), e);
    }
  }

