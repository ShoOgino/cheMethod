  @Override
  protected InternalEnvironment create(
      Map<String, InternalMachineConfig> machines, InternalRecipe recipe, List<Warning> warnings)
      throws InfrastructureException, ValidationException {

    DockerEnvironment dockerEnvironment = dockerEnv(machines, recipe);
    validator.validate(machines, dockerEnvironment);
    return new DockerfileInternalEnvironment(machines, recipe, warnings, dockerEnvironment);
  }

