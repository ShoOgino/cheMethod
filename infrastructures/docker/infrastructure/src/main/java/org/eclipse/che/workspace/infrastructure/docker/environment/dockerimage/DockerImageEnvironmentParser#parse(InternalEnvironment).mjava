  @Override
  public DockerEnvironment parse(InternalEnvironment environment) throws ValidationException {
    InternalRecipe recipe = environment.getRecipe();

    if (!TYPE.equals(recipe.getType())) {
      throw new ValidationException(
          format(
              "Docker image environment parser doesn't support recipe type '%s'",
              recipe.getType()));
    }

    DockerEnvironment dockerEnv = new DockerEnvironment();
    DockerContainerConfig container = new DockerContainerConfig();
    dockerEnv.getContainers().put(getMachineName(environment), container);
    container.setImage(recipe.getContent());

    return dockerEnv;
  }

