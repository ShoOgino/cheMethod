  @PreDestroy
  private void terminate() throws InterruptedException {
    if (!executor.isShutdown()) {
      executor.shutdown();
      if (!executor.awaitTermination(30, TimeUnit.SECONDS)) {
        executor.shutdownNow();
        if (!executor.awaitTermination(30, TimeUnit.SECONDS)) {
          LoggerFactory.getLogger(DockerSharedPool.class)
              .error("Couldn't terminate docker infrastructure thread pool");
        }
      }
    }
  }

