  /**
   * Looks up all runtime identifiers provided by running containers labels.
   *
   * @return unique runtime identifiers of running containers
   * @throws InternalInfrastructureException when any error occurs during lookup
   */
  public Set<RuntimeIdentity> findIdentities() throws InternalInfrastructureException {
    return listNonStoppedContainers(
            Labels.LABEL_WORKSPACE_ID, Labels.LABEL_WORKSPACE_ENV, Labels.LABEL_WORKSPACE_OWNER)
        .stream()
        .map(e -> Labels.newDeserializer(e.getLabels()).runtimeId())
        .collect(Collectors.toSet());
  }

