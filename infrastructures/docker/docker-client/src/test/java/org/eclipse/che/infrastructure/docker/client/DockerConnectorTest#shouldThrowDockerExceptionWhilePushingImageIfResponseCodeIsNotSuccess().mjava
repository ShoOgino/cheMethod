  @Test(
      expectedExceptions = DockerException.class,
      expectedExceptionsMessageRegExp = EXCEPTION_ERROR_MESSAGE)
  public void shouldThrowDockerExceptionWhilePushingImageIfResponseCodeIsNotSuccess()
      throws IOException, InterruptedException {
    PushParams pushParams = PushParams.create(REPOSITORY);

    when(dockerResponse.getStatus()).thenReturn(RESPONSE_ERROR_CODE);

    dockerConnector.push(pushParams, progressMonitor);

    verify(dockerResponse).getStatus();
  }

