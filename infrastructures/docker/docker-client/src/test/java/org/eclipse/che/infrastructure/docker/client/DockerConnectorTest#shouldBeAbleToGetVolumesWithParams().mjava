  @Test
  public void shouldBeAbleToGetVolumesWithParams() throws Exception {
    // given
    Volumes originVolumes = createVolumes();
    ByteArrayInputStream inputStream =
        new ByteArrayInputStream(GSON.toJson(originVolumes).getBytes());
    doReturn(inputStream).when(dockerResponse).getInputStream();
    GetVolumesParams getVolumesParams =
        GetVolumesParams.create().withFilters(new Filters().withFilter("key", "value1", "value2"));

    // when
    Volumes actual = dockerConnector.getVolumes(getVolumesParams);

    // then
    assertEquals(actual, originVolumes);
    verify(dockerConnectionFactory).openConnection(nullable(URI.class));
    verify(dockerConnection).method(REQUEST_METHOD_GET);
    verify(dockerConnection).path("/volumes");
    verify(dockerConnection).query(eq("filters"), any());
    verify(dockerConnection).request();
    verify(dockerResponse).getStatus();
    verify(dockerResponse).getInputStream();
  }

