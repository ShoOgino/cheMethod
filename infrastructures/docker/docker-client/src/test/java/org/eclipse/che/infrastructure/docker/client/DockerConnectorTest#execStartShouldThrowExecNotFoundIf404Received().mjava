  @Test(
    expectedExceptions = ExecNotFoundException.class,
    expectedExceptionsMessageRegExp = EXCEPTION_ERROR_MESSAGE
  )
  public void execStartShouldThrowExecNotFoundIf404Received() throws IOException {
    StartExecParams startExecParams = StartExecParams.create(EXEC_ID);

    doReturn(new ByteArrayInputStream(EXCEPTION_ERROR_MESSAGE.getBytes()))
        .when(dockerResponse)
        .getInputStream();
    when(dockerResponse.getStatus()).thenReturn(RESPONSE_NOT_FOUND_CODE);

    dockerConnector.startExec(startExecParams, logMessageProcessor);
  }

