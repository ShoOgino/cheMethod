  @Test(
      expectedExceptions = IOException.class,
      expectedExceptionsMessageRegExp = EXCEPTION_ERROR_MESSAGE)
  public void topShouldThrowIOExceptionWhileGettingProcessesIfResponseCodeIsNotSuccess()
      throws IOException {
    TopParams topParams = TopParams.create(CONTAINER);

    when(dockerResponse.getStatus()).thenReturn(RESPONSE_ERROR_CODE);

    dockerConnector.top(topParams);

    verify(dockerResponse).getStatus();
  }

