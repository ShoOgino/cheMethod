  public TcpConnection(
      URI baseUri, DockerCertificates certificates, int connectionTimeoutMs, int readTimeoutMs) {
    if ("https".equals(baseUri.getScheme())) {
      if (certificates == null) {
        throw new IllegalArgumentException("Certificates are required for https connection.");
      }
    } else if (!("http".equals(baseUri.getScheme()))) {
      throw new IllegalArgumentException(
          String.format("Invalid URL '%s', only http and https protocols are supported.", baseUri));
    }
    this.baseUri = baseUri;
    this.certificates = certificates;
    this.connectionTimeout = connectionTimeoutMs;
    this.readTimeout = readTimeoutMs;
  }

