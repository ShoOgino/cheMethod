  private static PrivateKey getPrivateKey(Path clientKeyPath)
      throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {
    final PEMKeyPair clientKeyPair;
    try (Reader reader = Files.newBufferedReader(clientKeyPath, Charset.defaultCharset())) {
      try (PEMParser parser = new PEMParser(reader)) {
        clientKeyPair = (PEMKeyPair) parser.readObject();
      }
    }
    final PKCS8EncodedKeySpec spec =
        new PKCS8EncodedKeySpec(clientKeyPair.getPrivateKeyInfo().getEncoded());
    final KeyFactory kf = KeyFactory.getInstance("RSA");
    return kf.generatePrivate(spec);
  }

