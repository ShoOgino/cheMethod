  /** Checks that registry is available and if it is not - logs warning message. */
  @PostConstruct
  private void checkRegistryIsAvailable() throws IOException {
    if (!isNullOrEmpty(machineDockerRegistry)) {
      String registryUrl = "http://" + machineDockerRegistry;

      LOG.info("Probing registry '{}'", registryUrl);
      final HttpURLConnection conn = (HttpURLConnection) new URL(registryUrl).openConnection();
      conn.setConnectTimeout(30 * 1000);
      try {
        final int responseCode = conn.getResponseCode();
        LOG.info(
            "Probe of registry '{}' succeed with HTTP response code '{}'",
            registryUrl,
            responseCode);
      } catch (IOException ioEx) {
        LOG.warn(
            "Docker registry {} is not available, "
                + "which means that you won't be able to save snapshots of your workspaces."
                + "\nHow to configure registry?"
                + "\n\tLocal registry  -> https://docs.docker.com/registry/"
                + "\n\tRemote registry -> set up 'che.docker.registry.auth.*' properties",
            registryUrl);
      } finally {
        conn.disconnect();
      }
    }
  }

