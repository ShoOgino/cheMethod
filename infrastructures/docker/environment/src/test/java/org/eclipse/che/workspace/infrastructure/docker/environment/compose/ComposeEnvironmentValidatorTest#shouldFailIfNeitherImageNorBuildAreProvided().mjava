  @Test(
    expectedExceptions = ValidationException.class,
    expectedExceptionsMessageRegExp =
        "Field 'image' or 'build.context' is required in service '.*' in environment"
  )
  public void shouldFailIfNeitherImageNorBuildAreProvided() throws Exception {
    // given
    when(service.getBuild()).thenReturn(null);
    when(service.getImage()).thenReturn(null);

    // when
    composeEnvironmentValidator.validate(composeEnv);
  }

