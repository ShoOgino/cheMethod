  @Test
  public void shouldParseBuildArgsWhenProvided() throws Exception {
    // given
    String recipeContent =
        "services:\n"
            + " dev-machine:\n"
            + "  build:\n"
            + "   context: .\n"
            + "   args:\n"
            + "    buildno: 1\n"
            + "    password: secret\n";

    Map<String, String> expected =
        new HashMap<String, String>() {
          {
            put("buildno", "1");
            put("password", "secret");
          }
        };

    // when
    ComposeRecipe composeRecipe = factory.doParse(recipeContent);

    // then
    assertEquals(composeRecipe.getServices().get("dev-machine").getBuild().getArgs(), expected);
  }

