  @Test(
    expectedExceptions = ValidationException.class,
    expectedExceptionsMessageRegExp = "Service link '.*' is invalid"
  )
  public void shouldFailIfLinksFieldHasIllegalFormat() throws Exception {
    // given
    Map<String, ComposeService> services = new HashMap<>();
    services.put(
        "second", new ComposeService().withLinks(singletonList("first:broken:dependency")));
    services.put("third", new ComposeService());
    services.put("first", new ComposeService());

    // when
    strategy.order(services);
  }

