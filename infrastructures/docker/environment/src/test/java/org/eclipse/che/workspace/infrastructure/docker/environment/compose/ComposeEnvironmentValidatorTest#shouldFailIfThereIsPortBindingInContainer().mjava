  @Test(
    expectedExceptions = ValidationException.class,
    expectedExceptionsMessageRegExp =
        "Ports binding is forbidden but found in service '.*' of environment"
  )
  public void shouldFailIfThereIsPortBindingInContainer() throws Exception {
    // given
    when(service.getPorts()).thenReturn(singletonList("8080:8080"));

    // when
    composeEnvironmentValidator.validate(composeEnv);
  }

