  @Test(
      dataProvider = "badServiceNameProvider",
      expectedExceptions = ValidationException.class,
      expectedExceptionsMessageRegExp = "Name of service '.*' in environment is invalid")
  public void shouldFailIfContainerNameIsInvalid(String name) throws Exception {
    // given
    when(composeEnv.getServices()).thenReturn(newLinkedHashMap(singletonMap(name, service)));
    when(composeEnv.getMachines()).thenReturn(singletonMap(name, machineConfig));

    // when
    composeEnvironmentValidator.validate(composeEnv);
  }

