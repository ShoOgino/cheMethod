  @Test
  public void shouldPassIfServiceFromRecipeIsNotInTheListOfMachines() throws Exception {
    // given
    ComposeService service2 = mock(ComposeService.class);
    when(service2.getImage()).thenReturn("test/image:latest");
    when(composeEnv.getMachines()).thenReturn(singletonMap(MACHINE_NAME, machineConfig));
    when(composeEnv.getServices())
        .thenReturn(
            newLinkedHashMap(ImmutableMap.of(MACHINE_NAME, service, "anotherContainer", service2)));

    // when
    composeEnvironmentValidator.validate(composeEnv);
  }

