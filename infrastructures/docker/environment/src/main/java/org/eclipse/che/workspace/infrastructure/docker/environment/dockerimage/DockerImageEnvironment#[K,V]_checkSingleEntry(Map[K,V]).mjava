  private static <K, V> Map<K, V> checkSingleEntry(Map<K, V> map) {
    if (map.size() == 1) {
      return map;
    } else {
      throw new IllegalArgumentException(
          format(
              "A docker image environment must contain precisely 1 machine configuration but found %d.",
              map.size()));
    }
  }

