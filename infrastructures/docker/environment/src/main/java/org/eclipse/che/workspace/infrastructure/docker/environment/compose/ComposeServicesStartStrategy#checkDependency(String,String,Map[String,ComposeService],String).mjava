  private void checkDependency(
      String dependency,
      String containerName,
      Map<String, ComposeService> containers,
      String errorMessage)
      throws ValidationException {
    if (containerName.equals(dependency)) {
      throw new ValidationException(errorMessage + ": " + containerName);
    }
    if (!containers.containsKey(dependency)) {
      throw new ValidationException(
          format(
              "Dependency '%s' in service '%s' points to unknown service.",
              dependency, containerName));
    }
  }

