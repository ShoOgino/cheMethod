  /**
   * Convert list [key1=value1, key2=value2] into Map<String, String>{ key1: value1, key2: value2 }.
   *
   * @param environment list form of compose environment to parse
   * @return map of key/value which are divided by "=" sign in item.
   * @throws IllegalArgumentException if there is no "=" sign in environment item, or if there is
   *     empty key in item
   */
  private Map<String, String> parseArrayEnvironment(List<String> environment)
      throws IllegalArgumentException {
    Map<String, String> map = new HashMap<>();
    for (String item : environment) {
      int valueDividerIndex = item.indexOf(ARRAY_ITEM_VALUE_DIVIDER);
      if (valueDividerIndex < 1) {
        throw new IllegalArgumentException(format(UNSUPPORTED_VALUE_MESSAGE, item));
      }

      String key = item.substring(0, valueDividerIndex);
      String value = item.substring(valueDividerIndex + 1, item.length());

      map.put(key, value);
    }

    return map;
  }

