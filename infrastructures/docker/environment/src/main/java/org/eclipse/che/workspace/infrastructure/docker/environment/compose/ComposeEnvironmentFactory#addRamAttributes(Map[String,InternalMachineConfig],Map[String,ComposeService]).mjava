  @VisibleForTesting
  void addRamAttributes(
      Map<String, InternalMachineConfig> machines, Map<String, ComposeService> services)
      throws InfrastructureException {
    for (Entry<String, ComposeService> entry : services.entrySet()) {
      InternalMachineConfig machineConfig;
      if ((machineConfig = machines.get(entry.getKey())) == null) {
        machineConfig = new InternalMachineConfig();
        machines.put(entry.getKey(), machineConfig);
      }
      memoryProvisioner.provision(
          machineConfig, entry.getValue().getMemLimit(), entry.getValue().getMemRequest());
    }
  }

