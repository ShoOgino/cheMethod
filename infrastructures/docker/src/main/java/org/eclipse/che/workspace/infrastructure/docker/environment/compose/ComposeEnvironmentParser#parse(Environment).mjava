    /**
     * Parses compose file from {@link Environment} into {@link DockerEnvironment}.
     *
     * @param environment
     *         environment with {@link Recipe} to parse.
     *         {@link Recipe} contains {@link DockerEnvironment} definition.
     * @throws IllegalArgumentException
     *         when environment or environment recipe is invalid
     * @throws ServerException
     *         when environment recipe can not be retrieved
     */
    @Override
    public DockerEnvironment parse(Environment environment) throws ServerException {
        requireNonNull(environment, "Environment should not be null");
        Recipe recipe = environment.getRecipe();
        requireNonNull(environment.getRecipe(), "Environment recipe should not be null");

        String content = getContentOfRecipe(recipe);
        ComposeEnvironment composeEnvironment = parse(content, recipe.getContentType());
        return asDockerEnvironment(composeEnvironment);
    }

