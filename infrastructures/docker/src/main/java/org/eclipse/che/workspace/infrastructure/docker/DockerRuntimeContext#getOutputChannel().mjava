    @Override
    public URI getOutputChannel() throws InfrastructureException, UnsupportedOperationException {
        try {
            final URI apiURI = URI.create(apiEndpoint);
            return UriBuilder.fromUri(apiURI)
                             .scheme("https".equals(apiURI.getScheme()) ? "wss" : "ws")
                             .replacePath(apiURI.getPath().replace("/api", ""))
                             .path(OUTPUT_WEBSOCKET_ENDPOINT_BASE)
                             .build();
        } catch (UriBuilderException | IllegalArgumentException ex) {
            throw new InternalInfrastructureException("Failed to get the output channel because: " +
                                                      ex.getLocalizedMessage());
        }
    }

