    private DockerContainerConfig configForSnapshot(SnapshotImpl snapshot, DockerContainerConfig originCfg)
            throws NotFoundException, SnapshotException {
        MachineSourceImpl machineSource = snapshot.getMachineSource();
        // Snapshot image location has SHA-256 digest which needs to be removed,
        // otherwise it will be pulled without tag and cause problems
        String imageName = machineSource.getLocation();
        if (imageName.contains("@sha256:")) {
            machineSource.setLocation(imageName.substring(0, imageName.indexOf('@')));
        }
        return normalizeSource(originCfg, machineSource);
    }

