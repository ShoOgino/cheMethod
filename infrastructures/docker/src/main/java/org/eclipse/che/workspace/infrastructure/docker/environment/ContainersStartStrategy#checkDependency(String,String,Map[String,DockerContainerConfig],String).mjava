    private void checkDependency(String dependency,
                                 String containerName,
                                 Map<String, DockerContainerConfig> containers,
                                 String errorMessage)
            throws ValidationException {
        if (containerName.equals(dependency)) {
            throw new ValidationException(errorMessage + ": " + containerName);
        }
        if (!containers.containsKey(dependency)) {
            throw new ValidationException(
                    format("Dependency '%s' in machine '%s' points to unknown machine.",
                           dependency, containerName));
        }
    }

