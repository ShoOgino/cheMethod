  void check(InternalEnvironment environment, DockerInternalRuntime runtime)
      throws ValidationException {
    Map<String, InternalMachineConfig> configs = environment.getMachines();
    Map<String, ? extends Machine> machines = runtime.getMachines();
    if (configs.size() != machines.size()) {
      throw new ValidationException(
          "Runtime has '%d' machines while configuration defines '%d'."
              + "Runtime machines: %s. Configuration machines: %s",
          machines.size(), configs.size(), machines.keySet(), configs.keySet());
    }
    if (!configs.keySet().containsAll(machines.keySet())) {
      throw new ValidationException(
          "Runtime has different set of machines than defined by configuration. "
              + "Runtime machines: %s. Configuration machines: %s",
          machines.keySet(), configs.keySet());
    }
  }

