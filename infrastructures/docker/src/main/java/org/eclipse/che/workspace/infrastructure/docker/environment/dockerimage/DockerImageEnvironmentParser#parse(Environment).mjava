  @Override
  public DockerEnvironment parse(Environment environment) throws ValidationException {
    Recipe recipe = environment.getRecipe();

    if (!"dockerimage".equals(recipe.getType())) {
      throw new ValidationException(
          format(
              "Docker image environment parser doesn't support recipe type '%s'",
              recipe.getType()));
    }

    DockerEnvironment dockerEnv = new DockerEnvironment();
    DockerContainerConfig container = new DockerContainerConfig();
    dockerEnv.getContainers().put(getMachineName(environment), container);

    container.setImage(recipe.getLocation());

    return dockerEnv;
  }

