    @Override
    public DockerEnvironment parse(Environment environment) throws IllegalArgumentException, ServerException {
        Recipe recipe = environment.getRecipe();

        if (!"dockerimage".equals(recipe.getType())) {
            throw new IllegalArgumentException(format("Docker image environment parser doesn't support recipe type '%s'",
                                                      recipe.getType()));
        }

        DockerEnvironment dockerEnv = new DockerEnvironment();
        DockerService service = new DockerService();
        dockerEnv.getServices().put(getMachineName(environment), service);

        service.setImage(recipe.getLocation());

        return dockerEnv;
    }

