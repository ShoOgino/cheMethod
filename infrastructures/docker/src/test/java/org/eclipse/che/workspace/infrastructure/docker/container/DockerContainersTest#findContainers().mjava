    @Test
    public void findContainers() throws Exception {
        RuntimeIdentity id = new RuntimeIdentityImpl("workspace123", "default", "test");
        ContainerListEntry entry1 = mockContainer(id, "container1");
        ContainerListEntry entry2 = mockContainer(id, "container2");

        when(docker.listContainers(anyObject())).thenReturn(Arrays.asList(entry1, entry2));

        assertEquals(containers.find(id), Arrays.asList(entry1, entry2));

        ArgumentCaptor<ListContainersParams> paramsCaptor = ArgumentCaptor.forClass(ListContainersParams.class);
        verify(docker).listContainers(paramsCaptor.capture());
        ListContainersParams params = paramsCaptor.getValue();
        assertEquals(params.getFilters().getFilter("label"),
                     Labels.newSerializer()
                           .runtimeId(id)
                           .labels()
                           .entrySet()
                           .stream()
                           .map(entry -> entry.getKey() + '=' + entry.getValue())
                           .collect(Collectors.toList()));
    }

