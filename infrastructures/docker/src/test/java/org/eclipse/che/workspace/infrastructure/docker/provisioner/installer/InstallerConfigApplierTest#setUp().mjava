  @BeforeMethod
  public void setUp() throws Exception {
    installerConfigApplier = new InstallerConfigApplier(installerRegistry);
    when(installerRegistry.getInstaller("installer1")).thenReturn(installer1);
    when(installerRegistry.getInstaller("installer2")).thenReturn(installer2);
    when(installerRegistry.getInstaller("installer3")).thenReturn(installer3);

    when(installer1.getScript()).thenReturn("script1");
    when(installer1.getDependencies()).thenReturn(singletonList("installer3"));

    when(installer2.getScript()).thenReturn("script2");
    when(installer2.getDependencies()).thenReturn(singletonList("installer2"));

    when(installer3.getScript()).thenReturn("script3");
  }

