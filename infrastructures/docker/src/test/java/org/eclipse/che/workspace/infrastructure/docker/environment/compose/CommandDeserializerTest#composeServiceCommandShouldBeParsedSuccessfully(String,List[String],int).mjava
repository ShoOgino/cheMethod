  @Test(dataProvider = "validCommand")
  public void composeServiceCommandShouldBeParsedSuccessfully(
      String command, List<String> commandWords, int commandNumberOfWords) throws Exception {
    String content = format(RECIPE_WITHOUT_COMMAND_VALUE, command);
    ComposeEnvironment composeEnvironment =
        composeEnvironmentParser.parse(content, "application/x-yaml");

    assertEquals(composeEnvironment.getServices().size(), 1);
    ComposeService service = composeEnvironment.getServices().get("machine1");
    assertEquals(service.getImage(), "codenvy/mysql");
    assertEquals(service.getMemLimit().longValue(), 2147483648L);
    Map<String, String> environment = service.getEnvironment();
    assertEquals(environment.size(), 2);
    assertEquals(environment.get("MYSQL_USER"), "petclinic");
    assertEquals(environment.get("MYSQL_PASSWORD"), "password");
    assertTrue(service.getExpose().containsAll(asList("4403", "5502")));

    assertEquals(service.getCommand(), commandWords);
  }

