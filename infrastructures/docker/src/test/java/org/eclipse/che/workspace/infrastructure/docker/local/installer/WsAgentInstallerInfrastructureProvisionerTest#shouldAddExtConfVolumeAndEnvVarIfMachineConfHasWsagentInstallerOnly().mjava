    @Test
    public void shouldAddExtConfVolumeAndEnvVarIfMachineConfHasWsagentInstallerOnly() throws Exception {
        // given
        String volumeValue = "/host/path:/container/path";
        when(extConfBindingProvider.get()).thenReturn(volumeValue);
        provisioner = new WsAgentInstallerInfrastructureProvisioner(binariesProvisioner, extConfBindingProvider);

        envConfig = createEnvironment(MACHINE_1_NAME, MACHINE_2_NAME, MACHINE_1_NAME);
        dockerEnv = createDockerEnvironment(MACHINE_1_NAME, MACHINE_2_NAME);
        EnvironmentImpl expectedEnvConfig = new EnvironmentImpl(envConfig);
        DockerContainerConfig expectedContainerConfig =
                new DockerContainerConfig(dockerEnv.getContainers().get(MACHINE_2_NAME));

        // when
        provisioner.provision(envConfig, dockerEnv, RUNTIME_IDENTITY);

        // then
        assertEquals(dockerEnv.getContainers().get(MACHINE_2_NAME), expectedContainerConfig);
        assertEquals(envConfig, expectedEnvConfig);
    }

