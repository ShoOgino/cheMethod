  @Test
  public void shouldBeAbleToParseDockerfileEnvironment() throws Exception {
    // given
    DockerContainerConfig container =
        new DockerContainerConfig()
            .setBuild(new DockerBuildContext().setDockerfileContent(DEFAULT_DOCKERFILE));
    DockerEnvironment expected =
        new DockerEnvironment().setContainers(singletonMap(DEFAULT_MACHINE_NAME, container));

    // when
    DockerEnvironment actual = parser.parse(environment);

    // then
    assertEquals(actual, expected);
  }

