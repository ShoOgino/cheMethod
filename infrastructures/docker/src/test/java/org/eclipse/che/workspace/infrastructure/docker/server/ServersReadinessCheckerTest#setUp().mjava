    @BeforeMethod
    public void setUp() throws Exception {
        compFuture = new CompletableFuture<>();

        when(factory.httpChecker(any(URL.class), anyString(), anyString(), any(Timer.class)))
                .thenReturn(connectionChecker);
        when(connectionChecker.getReportCompFuture()).thenReturn(compFuture);

        checker = new ServersReadinessChecker(MACHINE_NAME, getDefaultServers(), readinessHandler, factory);
    }

