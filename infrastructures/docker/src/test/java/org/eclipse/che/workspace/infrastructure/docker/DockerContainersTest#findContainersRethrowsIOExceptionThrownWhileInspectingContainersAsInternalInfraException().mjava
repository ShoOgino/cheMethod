    @Test(expectedExceptions = InternalInfrastructureException.class, expectedExceptionsMessageRegExp = "oops")
    public void findContainersRethrowsIOExceptionThrownWhileInspectingContainersAsInternalInfraException() throws Exception {
        RuntimeIdentity id = new RuntimeIdentityImpl("workspace123", "default", "test");
        List<ContainerListEntry> entries = Collections.singletonList(mockContainer(id, "container"));
        when(docker.listContainers(ListContainersParams.create().withAll(false))).thenReturn(entries);

        when(docker.inspectContainer(anyString())).thenThrow(new IOException("oops"));

        containers.find(id);
    }

