    @Test(dataProvider = "incorrectContentTestData")
    public void shouldThrowError(String content, String errorPattern) throws Exception {
        try {
            parser.parse(content, "application/x-yaml");
        } catch (ValidationException e) {
            assertTrue(e.getMessage().matches(errorPattern),
                       format("Actual error message \"%s\" doesn't match regex \"%s\" for content \"%s\"",
                              e.getMessage(),
                              errorPattern,
                              content));
            return;
        }

        fail(format("Content \"%s\" should throw IllegalArgumentException", content));
    }

