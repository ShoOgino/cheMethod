    @Test
    public void shouldBeAbleToCreateContainerWithCpuSet() throws Exception {
        provider = spy(new MachineProviderBuilder().setCpuSet("0-3")
                                                   .build());

        createInstanceFromRecipe();

        ArgumentCaptor<CreateContainerParams> argumentCaptor = ArgumentCaptor.forClass(CreateContainerParams.class);
        verify(dockerConnector).createContainer(argumentCaptor.capture());
        assertEquals(argumentCaptor.getValue().getContainerConfig().getHostConfig().getCpusetCpus(), "0-3");
    }

