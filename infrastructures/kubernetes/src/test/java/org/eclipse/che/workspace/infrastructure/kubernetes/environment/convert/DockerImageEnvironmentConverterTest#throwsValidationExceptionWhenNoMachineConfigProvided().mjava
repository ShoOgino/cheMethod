  @Test(
      expectedExceptions = InfrastructureException.class,
      expectedExceptionsMessageRegExp =
          "DockerImage environment must contain at least one machine configuration")
  public void throwsValidationExceptionWhenNoMachineConfigProvided() throws Exception {
    when(dockerEnv.getMachines()).thenReturn(emptyMap());

    converter.convert(dockerEnv);
  }

