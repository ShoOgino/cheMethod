  @Test(
      expectedExceptions = ValidationException.class,
      expectedExceptionsMessageRegExp = "Pod metadata must not be null")
  public void exceptionOnPodWithNoMetadata() throws Exception {
    final List<HasMetadata> recipeObjects = singletonList(new PodBuilder().build());
    when(validatedObjects.getItems()).thenReturn(recipeObjects);

    k8sEnvironmentFactory.doCreate(internalRecipe, emptyMap(), emptyList());
  }

