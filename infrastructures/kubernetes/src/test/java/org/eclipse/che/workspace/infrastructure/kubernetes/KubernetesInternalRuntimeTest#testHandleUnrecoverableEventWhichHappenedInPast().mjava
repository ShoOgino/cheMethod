  @Test
  public void testHandleUnrecoverableEventWhichHappenedInPast() throws Exception {
    final UnrecoverableEventHanler unrecoverableEventHanler =
        internalRuntime.new UnrecoverableEventHanler(k8sEnv.getPods());
    final ContainerEvent regularEvent =
        mockContainerEvent(
            WORKSPACE_POD_NAME,
            "Pulling",
            "pulling image",
            EVENT_CREATION_TIMESTAMP,
            EVENT_LAST_TIMESTAMP_IN_PAST);
    unrecoverableEventHanler.handle(regularEvent);
    // 'internalStop' is NOT expected to be called since unrecoverable event had happened in the
    // past. Namespace cleanup will not be triggered
    verify(namespace, never()).cleanUp();
  }

