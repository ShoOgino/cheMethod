  @Test
  public void shouldCompleteFinishFutureWhenDoneEventIsReceivedAndToolingIsNotNull() {
    // given
    BrokerEvent event =
        new BrokerEvent()
            .withWorkspaceId(WORKSPACE_ID)
            .withStatus(BrokerStatus.DONE)
            .withTooling(emptyList());

    // when
    brokerStatusListener.onEvent(event);

    // then
    verify(finishFuture).complete(emptyList());
  }

