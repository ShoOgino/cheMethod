  @Test(expectedExceptions = TimeoutException.class)
  public void shouldThrowTimeoutExceptionIfNotAllResultsAreSubmitted() throws Exception {
    // given
    brokersResult.oneMoreBroker();
    brokersResult.oneMoreBroker();
    executeWhenResultIsStarted(
        () -> {
          brokersResult.brokerResult(singletonList(new ChePlugin()));
          return null;
        });

    // when
    brokersResult.get(1, TimeUnit.SECONDS);
  }

