  @Test
  public void shouldRemoveNamespaceOnWorkspaceRemovedEventIfNamespaceIsManaged() throws Exception {
    when(namespaceFactory.isManagingNamespace(any())).thenReturn(true);

    removeNamespaceOnWorkspaceRemove.onEvent(new WorkspaceRemovedEvent(workspace));

    verify(namespaceFactory).delete(WORKSPACE_ID);
  }

