  @SuppressWarnings("SameParameterValue")
  private void verifyNumberOfMachinesWithSpecificVolume(
      Collection<InternalMachineConfig> machineConfigs,
      int numberOfMachines,
      String volumeName,
      String volumeMountPath) {

    long numberOfMatchingMachines =
        machineConfigs
            .stream()
            .filter(machineConfig -> machineConfig.getVolumes().size() == 1)
            .filter(machineConfig -> machineConfig.getVolumes().get(volumeName) != null)
            .filter(
                machineConfig ->
                    volumeMountPath.equals(machineConfig.getVolumes().get(volumeName).getPath()))
            .count();
    assertEquals(numberOfMatchingMachines, numberOfMachines);
  }

