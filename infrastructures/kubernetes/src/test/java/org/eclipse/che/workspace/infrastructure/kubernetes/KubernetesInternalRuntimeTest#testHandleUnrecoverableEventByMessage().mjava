  @Test
  public void testHandleUnrecoverableEventByMessage() throws Exception {
    final String unrecoverableEventMessage =
        "Failed to pull image eclipse/che-server:nightly-centos";
    final UnrecoverableEventHandler unrecoverableEventHandler =
        internalRuntime.new UnrecoverableEventHandler(k8sEnv.getPods());
    final ContainerEvent unrecoverableEvent =
        mockContainerEvent(
            WORKSPACE_POD_NAME,
            "Pulling",
            unrecoverableEventMessage,
            EVENT_CREATION_TIMESTAMP,
            getCurrentTimestampWithOneHourShiftAhead());
    unrecoverableEventHandler.handle(unrecoverableEvent);

    verify(startSynchronizer).completeExceptionally(any(InfrastructureException.class));
  }

