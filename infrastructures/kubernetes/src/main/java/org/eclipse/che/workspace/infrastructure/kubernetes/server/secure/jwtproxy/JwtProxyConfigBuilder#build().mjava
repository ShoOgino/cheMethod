  public String build() {
    StringBuilder configBuilder = new StringBuilder();

    configBuilder.append("jwtproxy:\n" + "  verifier_proxies:\n");
    for (VerifierProxy verifierProxy : verifierProxies) {
      configBuilder.append(
          String.format(
              "  - listen_addr: :%s\n" // :4471
                  + "    verifier:\n"
                  + "      upstream: %s/\n" // http://localhost:4401
                  + "      audience: http://%s\n"
                  + "      max_skew: 1m\n"
                  + "      max_ttl: 3h\n"
                  + "      key_server:\n"
                  + "        type: preshared\n"
                  + "        options:\n"
                  + "          issuer: wsmaster\n"
                  + "          key_id: mykey\n"
                  + "          public_key_path: "
                  + JWT_PROXY_CONFIG_FOLDER
                  + "/"
                  + JWT_PROXY_PUBLIC_KEY_FILE
                  + "\n"
                  + "      claims_verifiers:\n"
                  + "      - type: static\n"
                  + "        options:\n"
                  + "          iss: wsmaster\n"
                  + "      nonce_storage:\n"
                  + "        type: void\n",
              verifierProxy.listenPort,
              verifierProxy.upstream,
              workspaceId));
    }
    configBuilder.append("  signer_proxy:\n" + "    enabled: false\n");
    return configBuilder.toString();
  }

