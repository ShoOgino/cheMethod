  @Transactional(rollbackOn = {RuntimeException.class, InfrastructureException.class})
  @Override
  public KubernetesServerImpl getServer(
      RuntimeIdentity runtimeIdentity, String machineName, String serverName)
      throws InfrastructureException {
    try {
      KubernetesServerImpl server =
          managerProvider
              .get()
              .find(
                  KubernetesServerImpl.class,
                  new ServerId(runtimeIdentity.getWorkspaceId(), machineName, serverName));
      if (server == null) {
        throw new InfrastructureException("Server with name '" + serverName + "' was not found");
      }
      return server;
    } catch (RuntimeException e) {
      throw new InfrastructureException(e.getMessage(), e);
    }
  }

