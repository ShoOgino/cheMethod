  /**
   * Note that if this invocation caused a transition of failure to a completed state then
   * notification about machine start failed will be published.
   */
  private Function<Throwable, Void> publishFailedStatus(
      CompletableFuture<Void> failure, KubernetesMachine machine) {
    return ex -> {
      if (failure.completeExceptionally(ex)) {
        eventPublisher.sendFailedEvent(
            machine.getName(), ex.getMessage(), getContext().getIdentity());
      }
      return null;
    };
  }

