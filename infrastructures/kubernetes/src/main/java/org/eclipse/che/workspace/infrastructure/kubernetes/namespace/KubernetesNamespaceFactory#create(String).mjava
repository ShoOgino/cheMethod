  /**
   * Creates a Kubernetes namespace for the specified workspace.
   *
   * <p>The namespace name will be chosen according to a configuration, and it will be prepared
   * (created if necessary).
   *
   * @param workspaceId identifier of the workspace
   * @return created namespace
   * @throws InfrastructureException if any exception occurs during namespace preparing
   */
  public KubernetesNamespace create(String workspaceId) throws InfrastructureException {
    final String namespaceName =
        isNullOrEmpty(this.namespaceName) ? workspaceId : this.namespaceName;
    KubernetesNamespace namespace =
        new KubernetesNamespace(clientFactory, namespaceName, workspaceId);
    namespace.prepare();
    return namespace;
  }

