  private io.fabric8.kubernetes.api.model.Container addContainer(
      Pod toolingPod, String image, List<EnvVar> env, List<ChePluginEndpoint> containerEndpoints) {

    List<ContainerPort> containerPorts =
        containerEndpoints
            .stream()
            .map(
                endpoint ->
                    new ContainerPortBuilder()
                        .withContainerPort(endpoint.getTargetPort())
                        .withProtocol("TCP")
                        .build())
            .collect(Collectors.toList());

    io.fabric8.kubernetes.api.model.Container container =
        new ContainerBuilder()
            .withImage(image)
            .withName(Names.generateName("tooling"))
            .withEnv(toK8sEnv(env))
            .withPorts(containerPorts)
            .build();

    toolingPod.getSpec().getContainers().add(container);
    return container;
  }

