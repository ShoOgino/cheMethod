  @Override
  @Traced
  public void provision(KubernetesEnvironment k8sEnv, RuntimeIdentity identity)
      throws InfrastructureException {
    TracingTags.WORKSPACE_ID.set(identity::getWorkspaceId);

    try {
      List<SshPairImpl> sshPairs = sshManager.getPairs(identity.getOwnerId(), "vcs");
      if (sshPairs.isEmpty()) {
        return;
      }

      StringBuilder sshConfigData = new StringBuilder();

      for (SshPair sshPair : sshPairs) {
        doProvisionSshKey(sshPair, k8sEnv, identity.getWorkspaceId());

        sshConfigData.append(buildConfig(sshPair.getName()));
      }

      String sshConfigMapName = identity.getWorkspaceId() + SSH_CONFIG_MAP_NAME_SUFFIX;
      doProvisionSshConfig(sshConfigMapName, sshConfigData.toString(), k8sEnv);
    } catch (ServerException e) {
      LOG.warn("Unable get SSH Keys. Cause: %s", e.getMessage(), e);
    }
  }

