  protected KubernetesNamespace(
      KubernetesClientFactory clientFactory, String name, String workspaceId, boolean doPrepare)
      throws InfrastructureException {
    this.workspaceId = workspaceId;
    this.pods = new KubernetesPods(name, workspaceId, clientFactory);
    this.services = new KubernetesServices(name, workspaceId, clientFactory);
    this.pvcs = new KubernetesPersistentVolumeClaims(name, clientFactory);
    this.ingresses = new KubernetesIngresses(name, workspaceId, clientFactory);
    if (doPrepare) {
      doPrepare(name, clientFactory.create());
    }
  }

