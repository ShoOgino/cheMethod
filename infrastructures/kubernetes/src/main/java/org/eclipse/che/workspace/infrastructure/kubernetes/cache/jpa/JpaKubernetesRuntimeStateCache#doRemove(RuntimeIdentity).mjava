  @Transactional
  protected void doRemove(RuntimeIdentity runtimeIdentity) throws ServerException {
    EntityManager em = managerProvider.get();

    KubernetesRuntimeState runtime =
        em.find(KubernetesRuntimeState.class, new RuntimeId(runtimeIdentity));

    if (runtime != null) {
      eventService
          .publish(
              new BeforeKubernetesRuntimeStateRemovedEvent(new KubernetesRuntimeState(runtime)))
          .propagateException();

      em.remove(runtime);
    }
  }

