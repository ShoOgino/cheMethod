  @Override
  public void onEvent(BrokerEvent event) {
    if (!workspaceId.equals(event.getWorkspaceId())) {
      return;
    }

    switch (event.getStatus()) {
      case DONE:
        finishFuture.complete(event.getTooling());
        break;
      case FAILED:
        finishFuture.completeExceptionally(
            new InfrastructureException("Broker process failed with error: " + event.getError()));
        break;
      default:
        // do nothing
    }
  }

