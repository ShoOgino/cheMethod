  @Inject
  public void subscribe(EventService eventService) {
    if (pvcEnabled) {
      eventService.subscribe(
          event -> {
            final Workspace workspace = event.getWorkspace();
            try {
              if (namespaceFactory.isManagingNamespace(workspace.getId())) {
                // the namespaces of managed workspaces are deleted, so no need to do the cleanup
                LOG.debug(
                    "Not cleaning up the PVCs of workspace %s, because its namespace is"
                        + " going to be deleted.");
                return;
              }
              strategy.cleanup(workspace);
            } catch (InfrastructureException ex) {
              LOG.error(
                  "Failed to cleanup workspace '{}' data. Cause: {}",
                  workspace.getId(),
                  ex.getMessage());
            }
          },
          WorkspaceRemovedEvent.class);
    }
  }

