  protected String evalPlaceholders(String namespace, Subject currentUser, String workspaceId) {
    checkArgument(!isNullOrEmpty(namespace));
    String evaluated = namespace;
    PlaceholderResolutionContext ctx = new PlaceholderResolutionContext(currentUser, workspaceId);
    for (Entry<String, Function<PlaceholderResolutionContext, String>> placeHolder :
        NAMESPACE_NAME_PLACEHOLDERS.entrySet()) {

      String key = placeHolder.getKey();
      String value = placeHolder.getValue().apply(ctx);

      if (value != null) {
        evaluated = evaluated.replaceAll(key, value);
      }
    }
    return evaluated;
  }

