  @Override
  @Traced
  public void provision(KubernetesEnvironment k8sEnv, RuntimeIdentity identity)
      throws InfrastructureException {

    TracingTags.WORKSPACE_ID.set(identity::getWorkspaceId);

    if (!proxyEnvVars.isEmpty()) {
      for (PodData pod : k8sEnv.getPodData().values()) {
        pod.getSpec()
            .getContainers()
            .forEach(
                container ->
                    proxyEnvVars.forEach((k, v) -> container.getEnv().add(new EnvVar(k, v, null))));
      }
    }
  }

