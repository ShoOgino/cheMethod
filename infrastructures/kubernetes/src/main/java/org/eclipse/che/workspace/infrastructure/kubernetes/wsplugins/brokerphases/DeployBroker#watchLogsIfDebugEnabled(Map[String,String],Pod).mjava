  private void watchLogsIfDebugEnabled(Map<String, String> startOptions, Pod pluginBrokerPod)
      throws InfrastructureException {
    if (startOptions == null || startOptions.isEmpty()) {
      LOG.debug(
          "'startOptions' is null or empty so we won't watch the plugin broker pod logs for workspace '{}'",
          runtimeId.getWorkspaceId());
      return;
    }
    boolean shouldWatchContainerStartupLogs =
        Boolean.parseBoolean(
            startOptions.getOrDefault(DEBUG_WORKSPACE_START, Boolean.FALSE.toString()));

    if (shouldWatchContainerStartupLogs) {
      namespace
          .deployments()
          .watchLogs(
              new PodLogToEventPublisher(runtimeEventsPublisher, runtimeId),
              LogWatchTimeouts.AGGRESSIVE,
              ImmutableSet.of(pluginBrokerPod.getMetadata().getName()),
              LogWatcher.getLogLimitBytes(startOptions));
    }
  }

