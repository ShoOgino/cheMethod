  protected void doProvisionContainer(
      OpenShiftEnvironment osEnv,
      Container container,
      RuntimeIdentity identity,
      String machineName,
      InternalMachineConfig machineConf) {
    Map<String, ServerConfig> name2Server = new HashMap<>();
    for (Installer installer : machineConf.getInstallers()) {
      provisionEnv(container, installer.getProperties());
      name2Server.putAll(installer.getServers());
    }
    ServerExposer serverExposer = new ServerExposer(machineName, container, osEnv);
    serverExposer.expose("agents", name2Server);

    // CHE_API is used by installers for agent binary downloading
    putEnv(container.getEnv(), "CHE_API", cheServerEndpoint);
  }

