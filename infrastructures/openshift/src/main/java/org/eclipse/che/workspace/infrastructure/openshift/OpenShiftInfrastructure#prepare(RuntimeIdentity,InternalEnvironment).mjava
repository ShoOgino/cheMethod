  @Override
  public OpenShiftRuntimeContext prepare(RuntimeIdentity id, InternalEnvironment environment)
      throws ValidationException, InfrastructureException {

    String recipeType = environment.getRecipe().getType();
    if (recipeType.equals("openshift")) {

      OpenShiftInternalEnvironment openShiftEnvironment =
          (OpenShiftInternalEnvironment) environment;
      infrastructureProvisioner.provision(openShiftEnvironment, id);

      return runtimeContextFactory.create(openShiftEnvironment, id, this);
    } else {
      throw new InfrastructureException("Unknown recipe type " + recipeType);
    }
  }

