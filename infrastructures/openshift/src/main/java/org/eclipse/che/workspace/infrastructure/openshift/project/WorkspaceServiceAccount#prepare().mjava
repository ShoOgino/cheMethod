  /**
   * Make sure that workspace service account exists and has `view` and `exec` role bindings.
   *
   * <p>Note that `view` role is used from cluster scope and `exec` role is created in the current
   * namespace if does not exit.
   *
   * @throws InfrastructureException when any exception occurred
   */
  void prepare() throws InfrastructureException {
    OpenShiftClient osClient = clientFactory.createOC(workspaceId);

    if (osClient.serviceAccounts().inNamespace(projectName).withName(name).get() == null) {
      createWorkspaceServiceAccount(osClient);
    }

    String execRoleName = "exec";
    if (osClient.roles().inNamespace(projectName).withName(execRoleName).get() == null) {
      createExecRole(osClient, execRoleName);
    }

    String execRoleBindingName = name + "-exec";
    if (osClient.roleBindings().inNamespace(projectName).withName(execRoleBindingName).get()
        == null) {
      createExecRoleBinding(osClient, execRoleBindingName);
    }

    String viewRoleBindingName = name + "-view";
    if (osClient.roleBindings().inNamespace(projectName).withName(viewRoleBindingName).get()
        == null) {
      createViewRoleBinding(osClient, viewRoleBindingName);
    }
  }

