  private void normalizeEnvironment(
      OpenShiftEnvironment openShiftEnvironment, Environment environment)
      throws ValidationException {
    for (Pod podConfig : openShiftEnvironment.getPods().values()) {
      String podName = podConfig.getMetadata().getName();
      getLabels(podConfig).put(CHE_POD_NAME_LABEL, podName);

      for (Container containerConfig : podConfig.getSpec().getContainers()) {
        String machineName = podName + "/" + containerConfig.getName();
        MachineConfig machineConfig = environment.getMachines().get(machineName);
        if (machineConfig != null && !machineConfig.getServers().isEmpty()) {
          ServerExposer serverExposer =
              new ServerExposer(machineName, containerConfig, openShiftEnvironment);
          serverExposer.expose("servers", machineConfig.getServers());
        }
      }
    }
  }

