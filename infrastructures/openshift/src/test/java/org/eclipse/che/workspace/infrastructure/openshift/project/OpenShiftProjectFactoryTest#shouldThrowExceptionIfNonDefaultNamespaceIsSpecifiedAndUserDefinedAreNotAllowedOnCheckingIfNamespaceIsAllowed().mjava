  @Test(
      expectedExceptions = ValidationException.class,
      expectedExceptionsMessageRegExp =
          "User defined namespaces are not allowed. Only the default namespace 'defaultNs' is available.")
  public void
      shouldThrowExceptionIfNonDefaultNamespaceIsSpecifiedAndUserDefinedAreNotAllowedOnCheckingIfNamespaceIsAllowed()
          throws Exception {
    projectFactory =
        new OpenShiftProjectFactory(
            "legacy",
            "",
            "",
            "defaultNs",
            false,
            clientFactory,
            configFactory,
            stopWorkspaceRoleProvisioner,
            userManager,
            pool);

    projectFactory.checkIfNamespaceIsAllowed("any-namespace");
  }

