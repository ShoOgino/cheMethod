  @BeforeMethod
  public void setup() throws Exception {
    commonPVCStrategy =
        new CommonPVCStrategy(
            PVC_NAME,
            PVC_QUANTITY,
            PVC_ACCESS_MODE,
            PROJECT_FOLDER_PATH,
            pvcSubPathHelper,
            factory);
    final InternalMachineConfig machine = mock(InternalMachineConfig.class);
    when(machine.getServers())
        .thenReturn(singletonMap(SERVER_WS_AGENT_HTTP_REFERENCE, mock(ServerConfig.class)));
    when(osEnv.getMachines()).thenReturn(singletonMap(MACHINE_NAME, machine));
    doNothing().when(pvcSubPathHelper).execute(any(), any(), any());
    when(osEnv.getPersistentVolumeClaims()).thenReturn(new HashMap<>());
    when(pvcSubPathHelper.removeDirsAsync(anyString(), any(String.class)))
        .thenReturn(CompletableFuture.completedFuture(null));
    when(factory.create(WORKSPACE_ID)).thenReturn(osProject);
    when(osProject.persistentVolumeClaims()).thenReturn(osPVCs);
  }

