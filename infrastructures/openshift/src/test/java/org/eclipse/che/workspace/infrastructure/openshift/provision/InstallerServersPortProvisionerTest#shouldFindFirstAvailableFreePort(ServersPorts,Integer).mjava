  @Test(dataProvider = "occupiedPorts")
  public void shouldFindFirstAvailableFreePort(ServersPorts ports, Integer result)
      throws Exception {
    // given
    int originalOccupiedPortsNumber = ports.getOccupiedPorts().size();

    // when
    Integer availablePort = ports.findFreePort();

    // then
    assertEquals(availablePort, result);
    assertTrue(ports.getOccupiedPorts().contains(result));
    assertEquals(ports.getOccupiedPorts().size(), originalOccupiedPortsNumber + 1);
  }

