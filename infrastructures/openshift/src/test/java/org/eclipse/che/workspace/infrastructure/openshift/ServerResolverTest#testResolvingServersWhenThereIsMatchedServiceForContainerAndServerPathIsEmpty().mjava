  @Test
  public void testResolvingServersWhenThereIsMatchedServiceForContainerAndServerPathIsEmpty() {
    Container container = createContainer();
    Pod pod = createPod(singletonMap("kind", "web-app"));
    Service nonMatchedByPodService =
        createService("matched", CONTAINER_PORT, singletonMap("kind", "web-app"));
    Route route =
        createRoute(
            "matched", singletonMap("http-server", new ServerConfigImpl("3054", "http", "")));

    ServerResolver serverResolver =
        ServerResolver.of(singletonList(nonMatchedByPodService), singletonList(route));

    Map<String, ServerImpl> resolved = serverResolver.resolve(pod, container);

    assertEquals(resolved.size(), 1);
    assertEquals(resolved.get("http-server"), new ServerImpl("http://localhost"));
  }

