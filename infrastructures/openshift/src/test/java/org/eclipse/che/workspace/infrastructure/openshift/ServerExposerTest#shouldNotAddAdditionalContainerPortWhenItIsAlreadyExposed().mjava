  @Test
  public void shouldNotAddAdditionalContainerPortWhenItIsAlreadyExposed() {
    //given
    ServerConfigImpl httpServerConfig = new ServerConfigImpl("8080/tcp", "http", "/api");
    Map<String, ServerConfigImpl> serversToExpose =
        ImmutableMap.of("http-server", httpServerConfig);
    container.setPorts(
        singletonList(
            new ContainerPortBuilder()
                .withName("port-8080")
                .withContainerPort(8080)
                .withProtocol("TCP")
                .build()));

    //when
    serverExposer.expose(serversToExpose);

    //then
    assertThatServerIsExposed("http-server", "tcp", 8080, httpServerConfig);
  }

