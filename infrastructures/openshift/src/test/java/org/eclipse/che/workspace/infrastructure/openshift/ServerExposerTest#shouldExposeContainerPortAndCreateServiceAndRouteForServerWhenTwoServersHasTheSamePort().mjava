  @Test
  public void
      shouldExposeContainerPortAndCreateServiceAndRouteForServerWhenTwoServersHasTheSamePort() {
    // given
    ServerConfigImpl httpServerConfig = new ServerConfigImpl("8080/tcp", "http", "/api");
    ServerConfigImpl wsServerConfig = new ServerConfigImpl("8080/tcp", "ws", "/connect");
    Map<String, ServerConfigImpl> serversToExpose =
        ImmutableMap.of(
            "http-server", httpServerConfig,
            "ws-server", wsServerConfig);

    // when
    serverExposer.expose(serversToExpose);

    // then
    assertEquals(openShiftEnvironment.getServices().size(), 1);
    assertEquals(openShiftEnvironment.getRoutes().size(), 1);
    assertThatServerIsExposed("http-server", "tcp", 8080, httpServerConfig);
    assertThatServerIsExposed("ws-server", "tcp", 8080, wsServerConfig);
  }

