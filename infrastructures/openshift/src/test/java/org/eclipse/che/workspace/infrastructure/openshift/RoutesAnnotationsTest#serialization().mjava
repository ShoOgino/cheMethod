    @Test
    public void serialization() {
        Map<String, String> serialized = RoutesAnnotations.newSerializer()
                                                          .server("my-server1/http", new ServerConfigImpl("8000/tcp", "http", "/api/info"))
                                                          .servers(ImmutableMap.of("my-server2", new ServerConfigImpl("8080/tcp", "ws", "/connect")))
                                                          .annotations();
        Map<String, String> expected =
                ImmutableMap.<String, String>builder()
                        .put("org.eclipse.che.server.my-server1/http.port", "8000/tcp")
                        .put("org.eclipse.che.server.my-server1/http.protocol", "http")
                        .put("org.eclipse.che.server.my-server1/http.path", "/api/info")
                        .put("org.eclipse.che.server.my-server2.port", "8080/tcp")
                        .put("org.eclipse.che.server.my-server2.protocol", "ws")
                        .put("org.eclipse.che.server.my-server2.path", "/connect")
                        .build();

        assertEquals(serialized, expected);
    }

