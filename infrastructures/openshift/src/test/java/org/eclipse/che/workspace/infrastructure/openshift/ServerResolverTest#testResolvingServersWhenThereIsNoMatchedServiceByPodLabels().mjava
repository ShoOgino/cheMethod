  @Test
  public void testResolvingServersWhenThereIsNoMatchedServiceByPodLabels() {
    // given
    Container container = createContainer();
    Pod pod = createPod(ImmutableMap.of("kind", "web-app"));
    Service nonMatchedByPodService =
        createService("nonMatched", CONTAINER_PORT, ImmutableMap.of("kind", "db"));
    Route route =
        createRoute(
            "nonMatched",
            ImmutableMap.of("http-server", new ServerConfigImpl("3054", "http", "/api")));

    ServerResolver serverResolver =
        ServerResolver.of(singletonList(nonMatchedByPodService), singletonList(route));

    // when
    Map<String, ServerImpl> resolved = serverResolver.resolve(pod, container);

    // then
    assertTrue(resolved.isEmpty());
  }

