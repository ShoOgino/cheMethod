  @Test
  public void testReplacePVCWhenItsAlreadyInOsEnvironment() throws Exception {
    final Map<String, PersistentVolumeClaim> claims = new HashMap<>();
    final PersistentVolumeClaim provisioned = mock(PersistentVolumeClaim.class);
    claims.put(PVC_UNIQUE_NAME + '-' + VOLUME_1_NAME, provisioned);
    when(osEnv.getPersistentVolumeClaims()).thenReturn(claims);

    uniqueWorkspacePVCStrategy.prepare(osEnv, WORKSPACE_ID);

    assertNotEquals(
        osEnv.getPersistentVolumeClaims().get(PVC_UNIQUE_NAME + '-' + VOLUME_1_NAME), provisioned);
  }

