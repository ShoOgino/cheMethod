  @Test
  public void addRoutesWhenRecipeContainsThem() throws Exception {
    Route route = new RouteBuilder().withNewMetadata().withName("test-route").endMetadata().build();
    final List<HasMetadata> recipeObjects = singletonList(route);
    when(parsedList.getItems()).thenReturn(recipeObjects);

    final OpenShiftEnvironment parsed =
        osEnvFactory.doCreate(internalRecipe, emptyMap(), emptyList());

    assertEquals(parsed.getRoutes().size(), 1);
    assertEquals(
        parsed.getRoutes().get("test-route").getMetadata().getName(),
        route.getMetadata().getName());
  }

