  @Test
  public void shouldMarkNamespaceManagedIfWorkspaceIdIsUsedInItsName() throws Exception {
    // given
    projectFactory =
        spy(
            new OpenShiftProjectFactory(
                "", "", "", "<workspaceid>", false, clientFactory, configFactory, userManager));
    OpenShiftProject toReturnProject = mock(OpenShiftProject.class);
    doReturn(toReturnProject).when(projectFactory).doCreateProjectAccess(any(), any());

    // when
    RuntimeIdentity identity =
        new RuntimeIdentityImpl("workspace123", null, USER_ID, "workspace123");
    OpenShiftProject project = projectFactory.getOrCreate(identity);

    // then
    assertEquals(toReturnProject, project);
    verify(projectFactory, never()).doCreateServiceAccount(any(), any());
    verify(toReturnProject).prepare(eq(true), eq(true));
  }

