  @Test
  public void provideUniquePodsNames() throws Exception {
    when(runtimeIdentity.getWorkspaceId()).thenReturn(WORKSPACE_ID);
    final HashMap<String, Pod> pods = new HashMap<>();
    pods.put(POD_NAME, newPod());
    doReturn(pods).when(osEnv).getPods();

    uniqueNamesProvisioner.provision(environment, osEnv, runtimeIdentity);

    final String expected = WORKSPACE_ID + SEPARATOR + POD_NAME;
    final ObjectMeta podMeta = osEnv.getPods().get(expected).getMetadata();
    assertEquals(podMeta.getName(), expected);
    assertEquals(podMeta.getLabels().get(CHE_ORIGINAL_NAME_LABEL), POD_NAME);
  }

