  @Test
  public void testResolvingInternalServersWithPortWithTransportProtocol() {
    Container container = createContainer();
    Pod pod = createPod(singletonMap("kind", "web-app"));
    Service service =
        createService(
            "service11",
            CONTAINER_PORT,
            singletonMap("kind", "web-app"),
            singletonMap(
                "http-server", new ServerConfigImpl("3054/udp", "xxx", "api", ATTRIBUTES_MAP)));
    Route route = createRoute("matched", null);

    ServerResolver serverResolver = ServerResolver.of(singletonList(service), singletonList(route));

    Map<String, ServerImpl> resolved = serverResolver.resolve(pod, container);

    assertEquals(resolved.size(), 1);
    assertEquals(
        resolved.get("http-server"),
        new ServerImpl()
            .withUrl("xxx://service11:3054/api")
            .withStatus(UNKNOWN)
            .withAttributes(ATTRIBUTES_MAP));
  }

