  @Test
  public void shouldRemoveProjectOnWorkspaceRemovedEventIfFactoryIsManagingNamespaces()
      throws Exception {
    when(projectFactory.isManagingNamespace(any())).thenReturn(true);

    removeProjectOnWorkspaceRemove.onEvent(new WorkspaceRemovedEvent(workspace));

    verify(projectFactory).delete(WORKSPACE_ID);
  }

