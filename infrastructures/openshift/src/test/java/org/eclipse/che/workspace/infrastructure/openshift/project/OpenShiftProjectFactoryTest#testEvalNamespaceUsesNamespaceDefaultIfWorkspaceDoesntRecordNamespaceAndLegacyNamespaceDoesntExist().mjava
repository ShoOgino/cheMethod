  @Test
  public void
      testEvalNamespaceUsesNamespaceDefaultIfWorkspaceDoesntRecordNamespaceAndLegacyNamespaceDoesntExist()
          throws Exception {
    projectFactory =
        new OpenShiftProjectFactory(
            "blabol-<userid>-<username>-<userid>-<username>--",
            "",
            "",
            "che-<userid>",
            false,
            clientFactory,
            configFactory,
            workspaceManager);

    when(projectResource.get()).thenThrow(new KubernetesClientException("", 403, null));

    String namespace =
        projectFactory.evalNamespaceName(null, new SubjectImpl("JonDoe", "123", null, false));

    assertEquals(namespace, "che-123");
  }

