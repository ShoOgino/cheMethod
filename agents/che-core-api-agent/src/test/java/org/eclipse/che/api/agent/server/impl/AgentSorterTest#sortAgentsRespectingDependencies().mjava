  @Test
  public void sortAgentsRespectingDependencies() throws Exception {
    List<AgentKey> sorted = agentSorter.sort(Arrays.asList("fqn1", "fqn2", "fqn3"));

    assertEquals(sorted.size(), 3);
    assertEquals(sorted.get(0).getId(), "fqn3");
    assertEquals(sorted.get(1).getId(), "fqn1");
    assertEquals(sorted.get(2).getId(), "fqn2");
  }

