    private void estimateAndSetAttributes() {
        appContext.getWorkspaceRoot().getContainer(dataObject.getPath()).then(new Operation<Optional<Container>>() {
            @Override
            public void apply(Optional<Container> container) throws OperationException {
                if (!container.isPresent()) {
                    return;
                }

                container.get().estimate(COMPOSER_PROJECT_TYPE_ID).then(new Operation<SourceEstimation>() {
                    @Override
                    public void apply(SourceEstimation estimation) throws OperationException {
                        if (!estimation.isMatched()) {
                            final String resolution = estimation.getResolution();
                            final String errorMessage = resolution.isEmpty() ? localization.composerPageEstimateErrorMessage() : resolution;
                            dialogFactory.createMessageDialog(localization.composerPageErrorDialogTitle(), errorMessage, null).show();
                            return;
                        }

                        Map<String, List<String>> estimatedAttributes = estimation.getAttributes();
                        List<String> artifactIdValues = estimatedAttributes.get(PACKAGE);
                        if (artifactIdValues != null && !artifactIdValues.isEmpty()) {
                            setAttribute(PACKAGE, artifactIdValues);
                        }

                        updateDelegate.updateControls();
                    }
                });
            }
        });
    }

