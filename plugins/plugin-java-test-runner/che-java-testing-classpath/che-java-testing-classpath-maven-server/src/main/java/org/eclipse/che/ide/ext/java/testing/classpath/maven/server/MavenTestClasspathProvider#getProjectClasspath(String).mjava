    private List<URL> getProjectClasspath(String projectPath) throws IOException {

        List<URL> classUrls = new ArrayList<>();
        File cpFile = Paths.get(projectPath, "target", "test.classpath.maven").toFile();

        FileReader fileReader = new FileReader(cpFile);
        BufferedReader bufferedReader = new BufferedReader(fileReader);

        String line = bufferedReader.readLine();
        String[] paths = line.split(":");

        for (String path : paths) {
            classUrls.add(new File(path).toURI().toURL());
        }
        bufferedReader.close();
        fileReader.close();

        classUrls.add(Paths.get(projectPath, "target", "classes").toUri().toURL());
        classUrls.add(Paths.get(projectPath, "target", "test-classes").toUri().toURL());

        return classUrls;
    }

