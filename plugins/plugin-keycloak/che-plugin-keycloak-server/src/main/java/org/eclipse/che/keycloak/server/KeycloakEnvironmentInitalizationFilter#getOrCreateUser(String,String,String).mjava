    private User getOrCreateUser(String id, String email, String username) throws ServletException {
        try {
            return  userManager.getById(id);
        } catch (NotFoundException ex) {
            try {
                final UserImpl cheUser = new UserImpl(id,
                                                      email,
                                                      username,
                                                      "secret",
                                                      emptyList());
                return userManager.create(cheUser, false);
            } catch (ServerException | ConflictException e) {
                throw new ServletException("Unable to create new user");
            }
        } catch (ServerException e) {
            throw new ServletException("Unable to get user");
        }

    }

