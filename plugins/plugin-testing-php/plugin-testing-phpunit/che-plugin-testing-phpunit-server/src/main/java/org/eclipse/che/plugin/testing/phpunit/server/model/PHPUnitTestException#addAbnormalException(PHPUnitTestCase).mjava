  /**
   * Sets abnormal exception if occurred.
   *
   * @param testCase
   */
  public static void addAbnormalException(PHPUnitTestCase testCase) {
    // if(ABNORMAL_EXCEPTION == null) {
    Map<String, String> exception = new HashMap<String, String>();
    exception.put(PHPUnitMessageParser.PROPERTY_CLASS, "An unexpected termination has occurred");
    exception.put(
        PHPUnitMessageParser.PROPERTY_MESSAGE, "The test case was unexpectedly terminated");
    PHPUnitTestException abnormalException = new PHPUnitTestException(exception, null);
    abnormalException.setParent(testCase);
    testCase.setException(abnormalException);
    testCase.setStatus(AbstractPHPUnitTestResult.STATUS_ERROR);
    PHPUnitTestSuite parent = (PHPUnitTestSuite) testCase.getParent();
    if (parent != null) {
      parent.setStatus(testCase.getStatus());
    }
    testCase.setException(new PHPUnitTestException(exception, testCase));
  }

