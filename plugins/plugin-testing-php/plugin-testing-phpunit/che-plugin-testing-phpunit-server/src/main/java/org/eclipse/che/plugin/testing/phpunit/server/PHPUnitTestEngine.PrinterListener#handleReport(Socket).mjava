    @SuppressWarnings("unchecked")
    private void handleReport(final Socket socket) {
      try {
        final BufferedReader reader =
            new BufferedReader(new InputStreamReader(socket.getInputStream()));
        final PHPUnitMessageParser messageParser = new PHPUnitMessageParser(phpTestsRoot);
        String line;
        Map<String, String> value = null;
        while ((line = reader.readLine()) != null) {
          try {
            value = gson.fromJson(line, LinkedTreeMap.class);
            messageParser.parse(value);
          } catch (final Throwable e) {
            value = null;
          }
        }
        latchDone.countDown();
        shutdown();
      } catch (final IOException e) {
        Thread.currentThread().interrupt();
        shutdown();
      }
    }

