  @Override
  public void updateInPerspective(@NotNull ActionEvent e) {
    if ((appContext.getRootProject() == null)) {
      e.getPresentation().setVisible(true);
      e.getPresentation().setEnabled(false);
      return;
    }
    final Selection<?> selection = selectionAgent.getSelection();
    if (selection == null || selection.isEmpty()) {
      e.getPresentation().setEnabled(false);
      return;
    }
    if (selection.isMultiSelection()) {
      e.getPresentation().setEnabled(false);
      return;
    }
    final Object possibleNode = selection.getHeadElement();
    if (possibleNode instanceof ContainerNode) {
      String projectType = ((ContainerNode) possibleNode).getData().getProject().getType();
      if ("php".equalsIgnoreCase(projectType) || "composer".equalsIgnoreCase(projectType)) {
        e.getPresentation().setVisible(true);
        e.getPresentation().setEnabled(true);
        return;
      }
    }
    e.getPresentation().setVisible(false);
    e.getPresentation().setEnabled(false);
  }

