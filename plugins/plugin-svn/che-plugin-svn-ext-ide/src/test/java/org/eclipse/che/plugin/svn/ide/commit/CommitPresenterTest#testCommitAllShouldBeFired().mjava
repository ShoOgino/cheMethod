    @Test
    public void testCommitAllShouldBeFired() throws Exception {
        when(view.getMessage()).thenReturn("foo");
        when(view.isKeepLocksStateSelected()).thenReturn(false);
        when(view.isCommitAllSelected()).thenReturn(true);

        presenter.onCommitClicked();

        verify(service).commit(eq("/plugin-svn-test"),
                               eq(Collections.singletonList(".")),
                               eq("foo"),
                               eq(false),
                               eq(false),
                               asyncRequestCallbackCommitCaptor.capture());
    }

