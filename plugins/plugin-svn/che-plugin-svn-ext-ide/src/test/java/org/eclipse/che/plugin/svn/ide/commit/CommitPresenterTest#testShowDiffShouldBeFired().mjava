    @Test
    public void testShowDiffShouldBeFired() throws Exception {
        presenter.showDiff("/path");

        CLIOutputResponse response = mock(CLIOutputResponse.class);

        when(response.getOutput()).thenReturn(Collections.EMPTY_LIST);

        verify(service).showDiff(eq("/plugin-svn-test"),
                                 eq(Collections.singletonList("/path")),
                                 eq("HEAD"),
                                 asyncRequestCallbackStatusCaptor.capture());
        AsyncRequestCallback<CLIOutputResponse> requestCallback = asyncRequestCallbackStatusCaptor.getValue();
        GwtReflectionUtils.callPrivateMethod(requestCallback, "onSuccess", response);

        verify(diffViewerPresenter).showDiff("");
    }

