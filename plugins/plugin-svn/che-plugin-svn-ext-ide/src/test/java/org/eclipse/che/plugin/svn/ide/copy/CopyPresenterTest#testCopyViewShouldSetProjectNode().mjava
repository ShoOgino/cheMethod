    //    @Test
    public void testCopyViewShouldSetProjectNode() throws Exception {
        when(treeStructureProvider.get()).thenReturn(filteredTreeStructure);

        presenter.showCopy(mock(FileReferenceNode.class));

        List<ResourceBasedNode<?>> children = new ArrayList<>();
        children.add(mock(ProjectNode.class));

        verify(filteredTreeStructure).getRootNodes(asyncRequestCallbackStatusCaptor.capture());
        AsyncCallback<List<TreeNode<?>>> requestCallback = asyncRequestCallbackStatusCaptor.getValue();
        GwtReflectionUtils.callPrivateMethod(requestCallback, "onSuccess", children);

        verify(copyView).setProjectNodes(eq(children));
    }

