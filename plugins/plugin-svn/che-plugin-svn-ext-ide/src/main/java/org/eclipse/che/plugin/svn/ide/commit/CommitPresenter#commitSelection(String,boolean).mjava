  private void commitSelection(String message, boolean keepLocks) {
    final Project project = appContext.getRootProject();

    checkState(project != null);

    final Resource[] resources = appContext.getResources();

    checkState(!Arrays.isNullOrEmpty(resources));

    doCommit(message, toRelative(project, resources), keepLocks);
  }

