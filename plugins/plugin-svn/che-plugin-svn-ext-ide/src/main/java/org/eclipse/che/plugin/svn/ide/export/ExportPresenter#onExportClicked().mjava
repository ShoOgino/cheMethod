    /** {@inheritDoc} */
    @Override
    public void onExportClicked() {
        final String projectPath = getCurrentProjectPath();

        if (projectPath == null) {
            return;
        }

        final String exportPath = Strings.emptyToNull(relPath(projectPath, selectedNode.getStorablePath()));
        final String revision = view.isRevisionSpecified() ? view.getRevision() : null;

        notificationManager.notify(constants.exportStarted(exportPath));

        view.onClose();

        char prefix = '?';
        StringBuilder url = new StringBuilder(baseHttpUrl + "/export" + projectPath);

        if (!Strings.isNullOrEmpty(exportPath)) {
            url.append(prefix).append("path").append('=').append(exportPath);
            prefix = '&';
        }

        if (!Strings.isNullOrEmpty(revision)) {
            url.append(prefix).append("revision").append('=').append(revision);
        }

        Window.open(url.toString(), "_self", "");
    }

