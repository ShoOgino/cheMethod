  private void openExportPopup(
      Path project, Path exportPath, String revision, StatusNotification notification) {
    final WorkspaceImpl workspace = appContext.getWorkspace();
    final Optional<MachineImpl> devMachine = workspace.getDevMachine();

    if (!devMachine.isPresent()) {
      return;
    }

    final StringBuilder url =
        new StringBuilder(
            appContext.getWsAgentServerApiEndpoint()
                + "/svn/"
                + devMachine.get().getName()
                + "/export"
                + project.toString());
    char separator = '?';
    if (!".".equals(exportPath.toString())) {
      url.append(separator).append("path").append('=').append(exportPath);
      separator = '&';
    }

    if (!isNullOrEmpty(revision)) {
      url.append(separator).append("revision").append('=').append(revision);
    }

    BrowserUtils.openHere(url.toString());
    notification.setTitle(constants.exportSuccessful(exportPath.toString()));
    notification.setStatus(SUCCESS);
  }

