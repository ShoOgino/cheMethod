        /** Prepare target directory and item name to normal path. */
        String normalize() {
            dir = dir.endsWith("/") ? dir : dir + '/';

            if (!Strings.isNullOrEmpty(name)) {
                name = name.startsWith("/") ? name.substring(1) : name;
            } else if (!Strings.isNullOrEmpty(view.getNewName())) {
                name = view.getNewName();
            } else if (sourceNode != null) {
                name = sourceNode.getName();
            }

            return dir + name;
        }

