  @Inject
  public SwitchViewImpl(
      SubversionExtensionResources resources, SubversionExtensionLocalizationConstants constants) {
    this.resources = resources;
    this.constants = constants;

    this.ensureDebugId("svn-switch-window");

    this.setTitle(constants.switchDescription());
    this.setWidget(ourUiBinder.createAndBindUi(this));

    this.depth.addItem("", "");
    this.depth.addItem(this.constants.subversionDepthInfinityLabel(), "infinity");
    this.depth.addItem(this.constants.subversionDepthImmediatesLabel(), "immediates");
    this.depth.addItem(this.constants.subversionDepthFilesLabel(), "files");
    this.depth.addItem(this.constants.subversionDepthEmptyLabel(), "empty");
    this.depth.setSelectedIndex(1);

    this.workingCopyDepth.addItem("", "");
    this.workingCopyDepth.addItem(
        this.constants.subversionWorkingCopyDepthInfinityLabel(), "infinity");
    this.workingCopyDepth.addItem(
        this.constants.subversionWorkingCopyDepthImmediatesLabel(), "immediates");
    this.workingCopyDepth.addItem(this.constants.subversionWorkingCopyDepthFilesLabel(), "files");
    this.workingCopyDepth.addItem(this.constants.subversionWorkingCopyDepthEmptyLabel(), "empty");
    this.workingCopyDepth.setSelectedIndex(0);

    this.accept.addItem(this.constants.subversionAcceptPostponeLabel(), "postpone");
    this.accept.addItem(this.constants.subversionAcceptMineFullLabel(), "mine-full");
    this.accept.addItem(this.constants.subversionAcceptTheirsFullLabel(), "theirs-full");

    btnCancel =
        createButton(
            constants.buttonCancel(),
            "svn-switch-cancel",
            new ClickHandler() {
              @Override
              public void onClick(ClickEvent event) {
                delegate.onCancelClicked();
              }
            });
    addButtonToFooter(btnCancel);

    btnSwitch =
        createPrimaryButton(
            constants.buttonSwitch(),
            "svn-switch-switch",
            new ClickHandler() {
              @Override
              public void onClick(ClickEvent event) {
                delegate.onSwitchClicked();
              }
            });
    addButtonToFooter(btnSwitch);
  }

