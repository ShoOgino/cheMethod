    /**
     * Colorizes and prints response to the output.
     *
     * @param command
     * @param output
     * @param errors
     */
    protected void printResponse(final String command, final List<String> output, final List<String> errors) {
        ensureViewOpened();

        if (command != null) {
            printCommand(command);
        }

        if (output != null) {
            for (final String line : output) {
                boolean found = false;

                if (!line.trim().isEmpty()) {
                    String prefix = line.trim().substring(0, 1);

                    for (String[] stcol : STATUS_COLORS) {
                        if (stcol[0].equals(prefix)) {
                            // TODO: Turn the file paths into links (where appropriate)
                            console.print("<span style=\"color:" + stcol[1] + ";\">" + SafeHtmlUtils.htmlEscape(line) + "</span>");
                            found = true;
                            break;
                        }
                    }
                }

                if (!found) {
                    console.print(SafeHtmlUtils.htmlEscape(line));
                }
            }
        }

        if (errors != null) {
            for (final String line : errors) {
                console.print("<span style=\"color:red;\">" + SafeHtmlUtils.htmlEscape(line) + "</span>");
            }
        }

        console.print("");
    }

