    protected Path[] toRelative(Container project, Resource[] paths) {
        if (paths == null || paths.length == 0) {
            return new Path[0];
        }

        Path[] rel = new Path[0];

        for (Resource resource : paths) {
            if (project.getLocation().isPrefixOf(resource.getLocation())) {
                Path temp = resource.getLocation().removeFirstSegments(project.getLocation().segmentCount());
                if (temp.segmentCount() == 0) {
                    temp = Path.valueOf(".");
                }
                rel = Arrays.add(rel, temp);
            }
        }

        return rel;
    }

