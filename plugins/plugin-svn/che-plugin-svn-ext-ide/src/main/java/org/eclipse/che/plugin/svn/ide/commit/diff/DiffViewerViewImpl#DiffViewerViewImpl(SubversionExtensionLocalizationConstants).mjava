    @Inject
    public DiffViewerViewImpl(SubversionExtensionLocalizationConstants locale) {
        this.setTitle(locale.commitTitle());
        this.setWidget(uiBinder.createAndBindUi(this));

        lineRules = new HashMap<>();
        lineRules.put("+", Style.getVcsConsoleStagedFilesColor());
        lineRules.put("-", Style.getVcsConsoleErrorColor());
        lineRules.put("@", Style.getVcsConsoleChangesLineNumbersColor());
        lineRules.put("default", Style.getMainFontColor());

        Button btnClose = createButton("Close", "svn-diff-view-close", new ClickHandler() {
            @Override
            public void onClick(final ClickEvent event) {
                delegate.onCloseClicked();
            }
        });

        addButtonToFooter(btnClose);

        diffViewer.setEnabled(false);
    }

