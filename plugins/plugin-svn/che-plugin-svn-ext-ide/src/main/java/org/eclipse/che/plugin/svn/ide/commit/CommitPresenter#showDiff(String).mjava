    /** {@inheritDoc} */
    @Override
    public void showDiff(String path) {
        final Project project = appContext.getRootProject();

        checkState(project != null);

        service.showDiff(project.getLocation(), new Path[]{valueOf(path)}, "HEAD").then(new Operation<CLIOutputResponse>() {
            @Override
            public void apply(CLIOutputResponse response) throws OperationException {
                String content = Joiner.on('\n').join(response.getOutput());
                diffViewerPresenter.showDiff(content);
            }
        }).catchError(new Operation<PromiseError>() {
            @Override
            public void apply(PromiseError error) throws OperationException {
                notificationManager.notify(error.getMessage(), FAIL, FLOAT_MODE);
            }
        });
    }

