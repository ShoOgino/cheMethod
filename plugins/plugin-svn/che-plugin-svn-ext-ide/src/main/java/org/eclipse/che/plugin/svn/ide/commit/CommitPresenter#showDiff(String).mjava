    /** {@inheritDoc} */
    @Override
    public void showDiff(final String path) {
        final Project project = appContext.getRootProject();

        checkState(project != null);

        performOperationWithCredentialsRequestIfNeeded(new RemoteSubversionOperation<CLIOutputResponse>() {
            @Override
            public Promise<CLIOutputResponse> perform(Credentials credentials) {
                return service.showDiff(project.getLocation(),
                                        new Path[]{valueOf(path)},
                                        "HEAD",
                                        credentials);
            }
        }, null).then(new Operation<CLIOutputResponse>() {
            @Override
            public void apply(CLIOutputResponse response) throws OperationException {
                String content = Joiner.on('\n').join(response.getOutput());
                diffViewerPresenter.showDiff(content);
            }
        }).catchError(new Operation<PromiseError>() {
            @Override
            public void apply(PromiseError error) throws OperationException {
                notificationManager.notify(error.getMessage(), FAIL, FLOAT_MODE);
            }
        });
    }

