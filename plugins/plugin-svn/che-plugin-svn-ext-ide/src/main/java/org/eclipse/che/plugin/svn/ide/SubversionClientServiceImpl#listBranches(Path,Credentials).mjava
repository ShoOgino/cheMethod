    @Override
    public Promise<CLIOutputResponse> listBranches(Path project, @Nullable Credentials credentials) {
        ListRequest request = dtoFactory.createDto(ListRequest.class)
                                        .withProjectPath(project.toString());
        if (credentials != null) {
            request.setUsername(credentials.getUsername());
            request.setPassword(credentials.getPassword());
        }

        return asyncRequestFactory.createPostRequest(getBaseUrl() + "/branches", request)
                                  .loader(loader)
                                  .send(dtoUnmarshallerFactory.newUnmarshaller(CLIOutputResponse.class));
    }

