    public static HistoryState fromChar(final char state) {
      switch (state) {
        case '+':
          return HISTORY;
        case ' ':
          return NO_HISTORY;
        default:
          throw new IllegalArgumentException("'" + state + "' is not a valid history state");
      }
    }

