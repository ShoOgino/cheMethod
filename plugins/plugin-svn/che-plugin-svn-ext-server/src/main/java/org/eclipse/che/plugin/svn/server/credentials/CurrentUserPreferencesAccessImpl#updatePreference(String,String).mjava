    @Override
    public void updatePreference(final String key, final String value) throws PreferencesAccessException {
        final Subject currentSubject = getCurrentSubject();
        Map<String, String> content;
        try {
            content = this.preferencesDao.getPreferences(currentSubject.getUserId());
        } catch (final ServerException e) {
            throw new PreferencesAccessException(e);
        }
        content.put(key, value);
        try {
            this.preferencesDao.setPreferences(currentSubject.getUserId(), content);
        } catch (final ServerException | NotFoundException e) {
            throw new PreferencesAccessException(e);
        }
    }

