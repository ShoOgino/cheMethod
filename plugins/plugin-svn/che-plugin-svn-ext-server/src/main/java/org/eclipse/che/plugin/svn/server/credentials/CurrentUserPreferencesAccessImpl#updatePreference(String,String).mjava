    @Override
    public void updatePreference(final String key, final String value) throws PreferencesAccessException {
        final User currentUser = getCurrentUser();
        Map<String, String> content;
        try {
            content = this.preferencesDao.getPreferences(currentUser.getId());
        } catch (final ServerException e) {
            throw new PreferencesAccessException(e);
        }
        content.put(key, value);
        try {
            this.preferencesDao.setPreferences(currentUser.getId(), content);
        } catch (final ServerException | NotFoundException e) {
            throw new PreferencesAccessException(e);
        }
    }

