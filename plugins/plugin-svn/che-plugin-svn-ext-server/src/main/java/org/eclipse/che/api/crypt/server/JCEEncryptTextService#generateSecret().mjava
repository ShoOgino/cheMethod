    private SecretKey generateSecret() throws NoSuchAlgorithmException, InvalidKeySpecException {
        final SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(this.secretKeyFactoryAlgorithm);
        final KeySpec keySpec = new PBEKeySpec(getMasterPassword(), this.salt, 65536, this.keySize);
        final SecretKey tempKey = keyFactory.generateSecret(keySpec);
        final SecretKey secret = new SecretKeySpec(tempKey.getEncoded(), this.cipher);
        return secret;
    }

