    public static <T> Matcher<List<T>> sameAsList(final List<T> expectedList) {
        return new BaseMatcher<List<T>>() {
            @Override
            public void describeTo(final Description description) {
                description.appendText("should contain all and only these elements").appendValue(expectedList);
            }

            @Override
            public boolean matches(final Object o) {
                List<T> actualList;

                try {
                    actualList = (List<T>)o;
                } catch (ClassCastException e) {
                    return false;
                }

                return actualList.containsAll(expectedList);
            }
        };
    }

