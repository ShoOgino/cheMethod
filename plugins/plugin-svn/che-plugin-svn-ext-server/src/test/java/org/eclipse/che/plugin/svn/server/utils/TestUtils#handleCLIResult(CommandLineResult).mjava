    /**
     * Throws an exception if the CLI result is no a valid "success" response.
     * <p/>
     * <b>Note:</b> Might make sense to move this to a core API instead of a test API
     *
     * @param result
     *         the CLI result
     * @throws Exception
     *         if the CLI result indicates an error
     */
    public static void handleCLIResult(final CommandLineResult result) throws Exception {
        if (result.getExitCode() != 0) {
            throw new SubversionException(Joiner.on("\n")
                                                .join(result.getStderr().size() != 0 ?
                                                      result.getStderr()
                                                            .toArray(new String[result.getStderr().size()]) :
                                                      result.getStdout()
                                                            .toArray(new String[result.getStdout().size()])));
        }
    }

