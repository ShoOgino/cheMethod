  /**
   * Tests for {@link SubversionApi#update(UpdateRequest)}.
   *
   * @throws Exception if anything goes wrong
   */
  @Test
  public void testUpdate() throws Exception {
    final long coRevision =
        this.subversionApi
            .checkout(
                DtoFactory.getInstance()
                    .createDto(CheckoutRequest.class)
                    .withProjectPath(tmpDir.toFile().getAbsolutePath())
                    .withUrl(repoUrl)
                    .withDepth("immediates"))
            .getRevision();
    final CLIOutputWithRevisionResponse response =
        this.subversionApi.update(
            DtoFactory.getInstance()
                .createDto(UpdateRequest.class)
                .withProjectPath(tmpDir.toFile().getAbsolutePath()));

    assertTrue(coRevision > -1);
    assertTrue(response.getRevision() > -1);

    assertTrue(coRevision <= response.getRevision());
  }

