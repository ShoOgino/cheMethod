    @Override
    public void start(LineConsumer output) throws MachineException {
        try (BufferedReader reader = new BufferedReader(new InputStreamReader(exec.getInputStream()));
             BufferedReader errReader = new BufferedReader(new InputStreamReader(exec.getErrStream()))) {

            exec.connect();

            String line;
            while ((line = reader.readLine()) != null) {
                // todo format output as it is done in docker impl
                // todo use async streams?
                // todo how to manage disconnections due to network failures?
                output.writeLine(line);
            }
            while ((line = errReader.readLine()) != null) {
                output.writeLine(line);
            }
        } catch (IOException | JSchException e) {
            throw new MachineException("Ssh machine command execution error:" + e.getLocalizedMessage());
        }
    }

