  public SshMachineInstance(
      Machine machine,
      SshClient sshClient,
      LineConsumer outputConsumer,
      SshMachineFactory machineFactory,
      Set<ServerConf> machinesServers) {
    this.id = machine.getId();
    this.workspaceId = machine.getWorkspaceId();
    this.envName = machine.getEnvName();
    this.owner = machine.getOwner();
    this.sshClient = sshClient;
    this.outputConsumer = outputConsumer;
    this.machineFactory = machineFactory;
    this.machineConfig = machine.getConfig();
    this.status = machine.getStatus();
    this.machinesServers =
        new HashSet<>(machinesServers.size() + machine.getConfig().getServers().size());
    this.machinesServers.addAll(machinesServers);
    this.machinesServers.addAll(machine.getConfig().getServers());
    this.machineProcesses = new ConcurrentHashMap<>();
  }

