  @POST
  @Path("pullrequest/{user}/{repository}")
  @Produces(MediaType.APPLICATION_JSON)
  public GitHubPullRequest createPullRequest(
      @PathParam("user") String user,
      @PathParam("repository") String repository,
      @HeaderParam(AUTH_HEADER_NAME) String oauthToken,
      GitHubPullRequestCreationInput input)
      throws ApiException {
    try {
      GHPullRequest pullRequest =
          gitHubFactory
              .oauthConnect(oauthToken)
              .getUser(user)
              .getRepository(repository)
              .createPullRequest(
                  input.getTitle(), input.getHead(), input.getBase(), input.getBody());
      return gitHubDTOFactory.createPullRequest(pullRequest);
    } catch (Exception e) {
      if (!e.getMessage().contains("No commits between master and master")) {
        LOG.error("Creating  pull request fail", e);
      }
      throw new ServerException(e.getMessage());
    }
  }

