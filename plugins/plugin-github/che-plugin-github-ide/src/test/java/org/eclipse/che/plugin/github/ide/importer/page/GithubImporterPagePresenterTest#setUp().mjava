  @Before
  public void setUp() {
    MockitoAnnotations.initMocks(this);
    when(dataObject.getSource()).thenReturn(source);
    doReturn("AccountName").when(gitHubUser).getName();
    doReturn("AccountLogin").when(gitHubUser).getLogin();
    when(gitHubAuthenticatorRegistry.getAuthenticator(eq("github")))
        .thenReturn(gitHubAuthenticator);
    presenter =
        spy(
            new GithubImporterPagePresenter(
                view,
                gitHubAuthenticatorRegistry,
                gitHubClientService,
                dtoFactory,
                dialogFactory,
                appContext,
                locale,
                sshKeyManager,
                oAuthServiceClient,
                notificationManager));
    doReturn(Collections.singletonList(gitHubUser))
        .when(presenter)
        .toOrgList(nullable(JsArrayMixed.class));
    doReturn(Collections.emptyList()).when(presenter).toRepoList(nullable(JsArrayMixed.class));
    presenter.setUpdateDelegate(updateDelegate);
    presenter.init(dataObject);
  }

