    @Test
    public void onLoadRepoClickedWhenGetUserReposIsSuccessful() throws Exception {
        final Map<String, List<GitHubRepository>> repositories = new HashMap<>();
        List<GitHubRepository> repo = new ArrayList<>();
        repositories.put("AccountName", repo);
        when(view.getAccountName()).thenReturn("AccountName");

        presenter.onLoadRepoClicked();

        verify(gitHubClientService).getAllRepositories(asyncRequestCallbackRepoListCaptor.capture());
        AsyncRequestCallback<Map<String, List<GitHubRepository>>> asyncRequestCallback = asyncRequestCallbackRepoListCaptor.getValue();
        GwtReflectionUtils.callOnSuccess(asyncRequestCallback, repositories);

        verify(notificationManager, never()).notify(anyString(), any(ProjectConfigDto.class));
        verify(view).setLoaderVisibility(eq(true));
        verify(view).setInputsEnableState(eq(false));
        verify(view).setLoaderVisibility(eq(false));
        verify(view).setInputsEnableState(eq(true));
        verify(gitHubClientService).getAllRepositories(Matchers.<AsyncRequestCallback<Map<String, List<GitHubRepository>>>>anyObject());
        verify(view).setAccountNames(Matchers.<Set>anyObject());
        verify(view, times(2)).showGithubPanel();
        verify(view).setRepositories(Matchers.<List<ProjectData>>anyObject());
        verify(view).reset();
    }

