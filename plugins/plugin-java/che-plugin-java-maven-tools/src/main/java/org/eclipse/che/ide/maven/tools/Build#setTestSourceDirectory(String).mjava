    /**
     * Sets the path to directory containing the unit test source of the project.
     * <p/>
     * If {@code testSourceDirectory} is {@code null} and this build instance is associated with
     * xml element then {@code testSourceDirectory} will be removed from model as well as from xml.
     *
     * @param testSourceDirectory
     *         new build test source directory
     * @return this build instance
     */
    public Build setTestSourceDirectory(String testSourceDirectory) {
        this.testSourceDirectory = testSourceDirectory;
        if (!isNew()) {
            if (testSourceDirectory == null) {
                buildElement.removeChild("testSourceDirectory");
            } else if (buildElement.hasSingleChild("testSourceDirectory")) {
                buildElement.getSingleChild("testSourceDirectory").setText(testSourceDirectory);
            } else {
                buildElement.appendChild(createElement("testSourceDirectory", testSourceDirectory));
            }
        }
        return this;
    }

