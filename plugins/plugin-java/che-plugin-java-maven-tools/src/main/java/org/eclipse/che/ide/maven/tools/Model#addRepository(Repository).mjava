    /**
     * Adds plugin repository
     *
     * @param repository
     *         new plugin repository
     */
    public Model addRepository(Repository repository) {
        requireNonNull(repository, "Required not null repository");
        repositories().add(repository);
        //add repository to xml
        if (root.hasSingleChild("repositories")) {
            root.getSingleChild("repositories").appendChild(repository.asXMLElement());
            repository.element = root.getLastChild();
        } else {
            root.insertChild(createElement("repositories", repository.asXMLElement()),
                             beforeAnyOf("pluginRepositories",
                                         "build",
                                         "reporting",
                                         "profiles").or(inTheEnd()));
            repository.element = root.getSingleChild("repositories").getFirstChild();
        }
        return this;
    }

