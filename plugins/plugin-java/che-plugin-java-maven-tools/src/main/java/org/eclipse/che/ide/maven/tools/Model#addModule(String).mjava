    /**
     * Adds new module to the project.
     * If project doesn't have modules it will be created as well.
     *
     * @param newModule
     *         module name to be added
     * @return this model instance
     * @throws NullPointerException
     *         when given module name is {@code null}
     */
    public Model addModule(String newModule) {
        requireNonNull(newModule, "Required not null module");
        modules().add(newModule);
        //add module to xml tree
        if (root.hasSingleChild("modules")) {
            root.getSingleChild("modules")
                .appendChild(createElement("module", newModule));
        } else {
            root.insertChild(createElement("modules", createElement("module", newModule)),
                             beforeAnyOf("dependencyManagement",
                                         "dependencies",
                                         "build").or(inTheEnd()));
        }
        return this;
    }

