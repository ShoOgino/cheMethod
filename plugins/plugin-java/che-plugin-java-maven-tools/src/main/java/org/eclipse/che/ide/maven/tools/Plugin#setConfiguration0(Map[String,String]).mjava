    private void setConfiguration0(Map<String, String> configuration) {
        this.configuration = new HashMap<>(configuration);

        if (isNew()) return;

        if (pluginElement.hasSingleChild("configuration")) {
            final Element confElement = pluginElement.getSingleChild("configuration");
            //remove all configuration properties from element
            for (Element property : confElement.getChildren()) {
                property.remove();
            }
            //append each new property to "configuration" element
            for (Map.Entry<String, String> property : configuration.entrySet()) {
                confElement.appendChild(createElement(property.getKey(), property.getValue()));
            }
        } else {
            final NewElement newConfiguration = createElement("configuration");
            for (Map.Entry<String, String> entry : configuration.entrySet()) {
                newConfiguration.appendChild(createElement(entry.getKey(), entry.getValue()));
            }
            //insert new configuration to xml
            pluginElement.appendChild(newConfiguration);
        }
    }

