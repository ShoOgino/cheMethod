    @Test
    public void shouldBeAbleToChangeRepositorySnapshots() throws Exception {
        final File pom = getTestPomFile();
        write(pom, "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
                   "<project>\n" +
                   "    <!-- Repositories --> \n" +
                   "    <repositories>\n" +
                   "        <repository>\n" +
                   "            <snapshots>\n" +
                   "                <enabled>true</enabled>\n" +
                   "                <updatePolicy>daily</updatePolicy>\n" +
                   "                <checksumPolicy>warn</checksumPolicy>\n" +
                   "            </snapshots>" +
                   "        </repository>" +
                   "    </repositories>\n" +
                   "</project>");
        final Model model = Model.readFrom(pom);

        model.getRepositories()
             .get(0)
             .getSnapshots()
             .setEnabled(false)
             .setUpdatePolicy("monthly")
             .setChecksumPolicy(null);
        model.writeTo(pom);

        assertEquals(read(pom), "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
                                "<project>\n" +
                                "    <!-- Repositories --> \n" +
                                "    <repositories>\n" +
                                "        <repository>\n" +
                                "            <snapshots>\n" +
                                "                <enabled>false</enabled>\n" +
                                "                <updatePolicy>monthly</updatePolicy>\n" +
                                "            </snapshots>" +
                                "        </repository>" +
                                "    </repositories>\n" +
                                "</project>");
    }

