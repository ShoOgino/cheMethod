  @Test
  public void projectShouldBeCreatedWithCustomSourceFolders() throws Exception {
    attributes = new HashMap<>();
    options = new HashMap<>();

    attributes.put(Constants.SOURCE_FOLDER, new AttributeValue("src2"));
    PlainJavaProjectGenerator generator =
        new PlainJavaProjectGenerator(vfsProvider, classpathBuilder);

    generator.onCreateProject(Path.of("project"), attributes, options);

    VirtualFile project1 =
        vfsProvider.getVirtualFileSystem().getRoot().getChild(Path.of("project"));

    IJavaProject project =
        JavaModelManager.getJavaModelManager().getJavaModel().getJavaProject("project");

    VirtualFile mainClass = project1.getChild(Path.of("/src2/Main.java"));
    assertNotNull(mainClass);
    assertTrue(project.exists());
    verify(classpathBuilder)
        .generateClasspath(
            project, singletonList("src2"), singletonList(DEFAULT_LIBRARY_FOLDER_VALUE));
  }

