  @Test
  public void attributeShouldBeSet() throws Exception {
    when(projectManager.get(PROJECT_PATH)).thenReturn(Optional.of(registeredProject));
    when(registeredProject.getAttributes()).thenReturn(attributes);
    when(registeredProject.getPath()).thenReturn(PROJECT_PATH);

    plainJavaValueProviderFactory
        .newInstance(PROJECT_PATH)
        .setValues(SOURCE_FOLDER, singletonList("src"));

    verify(attributes).put(SOURCE_FOLDER, singletonList("src"));
  }

