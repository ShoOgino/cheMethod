    @Test
    public void severalSourceFoldersShouldBeSet() throws Exception {
        when(view.getLibraryFolder()).thenReturn("lib1,   lib2");
        when(view.getSourceFolder()).thenReturn("src1,   src2");

        page.setUpdateDelegate(updateDelegate);
        page.init(dataObject);
        page.onCoordinatesChanged();

        verify(view, times(2)).getSourceFolder();
        verify(updateDelegate).updateControls();
        verify(view).showSourceFolderMissingIndicator(false);

        assertEquals(2, dataObject.getAttributes().get(LIBRARY_FOLDER).size());
        assertEquals(2, dataObject.getAttributes().get(SOURCE_FOLDER).size());

        assertThat(dataObject.getAttributes().get(LIBRARY_FOLDER), hasItems("lib1", "lib2"));
        assertThat(dataObject.getAttributes().get(SOURCE_FOLDER), hasItems("src1", "src2"));
    }

