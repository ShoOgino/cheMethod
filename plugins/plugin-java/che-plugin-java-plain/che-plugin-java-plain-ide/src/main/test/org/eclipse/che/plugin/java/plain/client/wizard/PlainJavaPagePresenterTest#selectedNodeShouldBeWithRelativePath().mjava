    @Test
    public void selectedNodeShouldBeWithRelativePath() throws Exception {
        when(view.getLibraryFolder()).thenReturn("lib1,   lib2");
        when(view.getSourceFolder()).thenReturn("src1,   src2");
        List<Node> selectedNodes = new ArrayList<>();
        ResourceNode selectedNode1 = mock(ResourceNode.class);
        ResourceNode selectedNode2 = mock(ResourceNode.class);
        Resource resource1 = mock(Resource.class);
        Resource resource2 = mock(Resource.class);

        selectedNodes.add(selectedNode1);
        selectedNodes.add(selectedNode2);

        when(selectedNode1.getData()).thenReturn(resource1);
        when(resource1.getLocation()).thenReturn(Path.valueOf("projectName/folder1/folder2"));

        when(selectedNode2.getData()).thenReturn(resource2);
        when(resource2.getLocation()).thenReturn(Path.valueOf("projectName/folder"));

        when(dataObject.getName()).thenReturn("projectName");

        page.setUpdateDelegate(updateDelegate);
        page.init(dataObject);
        page.onNodeSelected(selectedNodes);

        verify(view).setLibraryFolder(eq("folder1/folder2,   folder"));
    }

