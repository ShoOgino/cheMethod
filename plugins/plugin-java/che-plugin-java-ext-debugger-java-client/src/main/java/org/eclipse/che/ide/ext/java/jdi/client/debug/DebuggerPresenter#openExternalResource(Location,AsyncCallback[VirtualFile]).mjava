    private void openExternalResource(Location location, final AsyncCallback<VirtualFile> callback) {
        String className = location.getClassName();

        JarEntry jarEntry = dtoFactory.createDto(JarEntry.class);
        jarEntry.setPath(className);
        jarEntry.setName(className.substring(className.lastIndexOf(".") + 1) + ".class");
        jarEntry.setType(JarEntry.JarEntryType.CLASS_FILE);

        final JarFileNode jarFileNode =
                javaNodeManager.getJavaNodeFactory().newJarFileNode(jarEntry,
                                                                    null,
                                                                    appContext.getCurrentProject().getProjectConfig(),
                                                                    javaNodeManager.getJavaSettingsProvider()
                                                                                   .getSettings());

        editorAgent.openEditor(jarFileNode, new EditorAgent.OpenEditorCallback() {
            @Override
            public void onEditorOpened(EditorPartPresenter editor) {
                // give the editor some time to fully render it's view
                new Timer() {
                    @Override
                    public void run() {
                        callback.onSuccess(jarFileNode);
                    }
                }.schedule(300);
            }

            @Override
            public void onEditorActivated(EditorPartPresenter editor) {
                new Timer() {
                    @Override
                    public void run() {
                        callback.onSuccess(jarFileNode);
                    }
                }.schedule(300);
            }
        });
    }

