    @Test
    public void testEvaluateExpressionRequestIsSuccessful() throws Exception {
        when(debugger.evaluateExpression(anyString())).thenReturn(promise);
        when(view.getExpression()).thenReturn(EXPRESSION);
        when(promise.then(any(Operation.class))).thenReturn(promise);

        when(debuggerManager.getDebugger()).thenReturn(debugger);

        presenter.showDialog();
        presenter.onEvaluateClicked();

        verify(view, atLeastOnce()).setEnableEvaluateButton(eq(DISABLE_BUTTON));
        verify(debugger).evaluateExpression(eq(EXPRESSION));
    }

