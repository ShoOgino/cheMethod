    @Test
    public void testAddBreakpointWithoutConnection() throws Exception {
        debugger.setJavaDebuggerInfo(null);
        debugger.addBreakpoint(file, LINE_NUMBER);

        verify(service, never()).addBreakpoint(any(), any());
        verify(observer).onBreakpointAdded(breakpointCaptor.capture());
        assertEquals(breakpointCaptor.getValue(), TEST_BREAKPOINT);
    }

