    @Test
    public void testGetValueWithoutConnection() throws Exception {
        debugger.setJavaDebuggerInfo(null);

        try {
            debugger.getValue(null);
        } catch (UnsatisfiedLinkError e) {
            assertTrue(e.getMessage().contains("JsPromiseError.create"));  // verify calling "Promises.resolve(null)"
            verify(service, never()).getValue(any(), any());
            return;
        }

        fail("debugger.getValue() didn't try to obtain rejected promise when there is no connection");
    }

