    @Before
    public void setup() {
        doReturn(debugger).when(debuggerManager).getActiveDebugger();

        doReturn(ERROR_MESSAGE).when(promiseError).getMessage();

        presenter = new DebuggerPresenter(view, constant, breakpointManager, notificationManager, javaRuntimeResources, debuggerToolbar, fqnResolverFactory, dtoFactory, debuggerManager, workspaceAgent, fileTypeRegistry);

        presenter.onSelectedVariableElement(selectedVariable);

        FileType fileType = mock(FileType.class);
        doReturn(Collections.singletonList("application/java")).when(fileType).getMimeTypes();
        doReturn(fileType).when(fileTypeRegistry).getFileTypeByFile(eq(file));
    }

