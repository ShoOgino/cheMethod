  /**
   * Updates the differential indices following the parent chain. All nodes from <code>from.parent
   * </code> to <code>to</code> (exclusive) are updated.
   *
   * @param from the child of the first node to update
   * @param to the first node not to update
   * @param deltaLength the character delta
   * @param deltaLines the line delta
   */
  private void updateParentChain(Node from, Node to, int deltaLength, int deltaLines) {
    Node parent = from.parent;
    while (parent != to) {
      // only update node if update comes from left subtree
      if (from == parent.left) {
        parent.offset += deltaLength;
        parent.line += deltaLines;
      }
      from = parent;
      parent = from.parent;
    }
  }

