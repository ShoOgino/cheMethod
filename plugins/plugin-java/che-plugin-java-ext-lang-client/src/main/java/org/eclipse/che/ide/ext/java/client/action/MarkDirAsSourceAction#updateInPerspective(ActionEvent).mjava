    @Override
    public void updateInPerspective(ActionEvent e) {
        final Resource[] resources = appContext.getResources();
        final boolean inJavaProject = resources != null && resources.length == 1 && isJavaProject(resources[0].getRelatedProject().get());

        e.getPresentation().setEnabledAndVisible(inJavaProject && !resources[0].getMarker(SourceFolderMarker.ID).isPresent());
    }

