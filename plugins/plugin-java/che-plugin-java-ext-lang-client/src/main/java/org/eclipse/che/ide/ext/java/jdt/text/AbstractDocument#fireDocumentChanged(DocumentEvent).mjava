  /**
   * Updates the internal document structures and informs all document listeners if listener
   * notification has been enabled. Otherwise it remembers the event to be sent to the listeners on
   * resume.
   *
   * @param event the document event to be sent out
   */
  protected void fireDocumentChanged(DocumentEvent event) {
    updateDocumentStructures(event);

    if (fStoppedListenerNotification == 0) doFireDocumentChanged(event);
    else fDeferredDocumentEvent = event;
  }

