  /**
   * Gets effective pom for maven project.
   *
   * @param pathToProject path to project relatively to projects root (e.g. /projects)
   * @return effective pom
   */
  public Promise<String> effectivePom(String pathToProject) {
    return Promises.create(
        (resolve, reject) ->
            requestTransmitter
                .newRequest()
                .endpointId(WS_AGENT_JSON_RPC_ENDPOINT_ID)
                .methodName("java/effective-pom")
                .paramsAsString(pathToProject)
                .sendAndReceiveResultAsString(EFFECTIVE_POM_REQUEST_TIMEOUT)
                .onSuccess(resolve::apply)
                .onTimeout(
                    () ->
                        reject.apply(
                            JsPromiseError.create(
                                new TimeoutException("Timeout while getting effective pom."))))
                .onFailure(error -> reject.apply(ServiceUtil.getPromiseError(error))));
  }

