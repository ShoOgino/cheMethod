    /** {@inheritDoc} */
    @Override
    public void onAcceptButtonClicked() {
        eventBus.fireEvent(newFileTrackingSuspendEvent());

        refactoringService.applyRefactoring(session).then(new Operation<RefactoringResult>() {
            @Override
            public void apply(RefactoringResult result) throws OperationException {
                if (result.getSeverity() == OK) {
                    view.hide();
                    refactoringUpdater.updateAfterRefactoring(result.getChanges());
                } else {
                    view.showErrorMessage(result);
                }
                for (ChangeInfo change : result.getChanges()) {
                    final String path = change.getPath();
                    final String oldPath = change.getOldPath();

                    eventBus.fireEvent(newFileTrackingMoveEvent(path, oldPath));
                }
                eventBus.fireEvent(newFileTrackingResumeEvent());
            }
        });
    }

