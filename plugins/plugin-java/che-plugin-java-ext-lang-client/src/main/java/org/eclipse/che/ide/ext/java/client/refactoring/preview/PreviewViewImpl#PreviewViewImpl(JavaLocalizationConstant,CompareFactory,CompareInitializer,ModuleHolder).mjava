  @Inject
  public PreviewViewImpl(
      JavaLocalizationConstant locale,
      CompareFactory compareFactory,
      CompareInitializer compareInitializer,
      ModuleHolder moduleHolder) {
    this.locale = locale;
    this.compareFactory = compareFactory;
    this.compareInitializer = compareInitializer;
    this.moduleHolder = moduleHolder;

    setTitle(locale.moveDialogTitle());

    setWidget(UI_BINDER.createAndBindUi(this));

    addFooterButton(
        locale.moveDialogButtonBack(),
        "preview-back-button",
        event -> delegate.onBackButtonClicked());

    addFooterButton(
        locale.moveDialogButtonCancel(),
        "preview-cancel-button",
        event -> {
          hide();
          delegate.onCancelButtonClicked();
        });

    addFooterButton(
        locale.moveDialogButtonOk(),
        "preview-ok-button",
        event -> delegate.onAcceptButtonClicked());

    diff.getElement().setId("compareParentDiv");
    showDiff(null);
  }

