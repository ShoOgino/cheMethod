  /**
   * Traverses the edit tree to perform the consistency check.
   *
   * @param processor the text edit processor
   * @param document the document to be manipulated
   * @param sourceEdits the list of source edits to be performed before the actual tree is applied
   *     to the document
   * @return the number of indirect move or copy target edit children
   */
  int traverseConsistencyCheck(
      TextEditProcessor processor, Document document, List<List<TextEdit>> sourceEdits) {
    int result = 0;
    if (fChildren != null) {
      for (int i = fChildren.size() - 1; i >= 0; i--) {
        TextEdit child = (TextEdit) fChildren.get(i);
        result = Math.max(result, child.traverseConsistencyCheck(processor, document, sourceEdits));
      }
    }
    if (processor.considerEdit(this)) {
      performConsistencyCheck(processor, document);
    }
    return result;
  }

