  @Inject
  public FileStructureImpl(
      NodeFactory nodeFactory,
      JavaLocalizationConstant locale,
      KeyBindingAgent keyBindingAgent,
      ActionManager actionManager,
      PresentationFactory presentationFactory) {
    super(false);
    this.nodeFactory = nodeFactory;
    this.locale = locale;
    this.actionManager = actionManager;
    this.presentationFactory = presentationFactory;
    this.keyBindingAgent = keyBindingAgent;

    setWidget(UI_BINDER.createAndBindUi(this));

    NodeStorage storage =
        new NodeStorage((NodeUniqueKeyProvider) item -> String.valueOf(item.hashCode()));
    NodeLoader loader = new NodeLoader(Collections.emptySet());
    tree = new Tree(storage, loader);
    tree.setAutoExpand(false);
    tree.getSelectionModel().setSelectionMode(SINGLE);

    KeyboardNavigationHandler handler =
        new KeyboardNavigationHandler() {
          @Override
          public void onEnter(NativeEvent evt) {
            hide();
          }
        };
    tree.addDomHandler(
        event -> {
          if (all(tree.getSelectionModel().getSelectedNodes(), LEAFS)) {
            hide();
          }
        },
        DoubleClickEvent.getType());

    handler.bind(tree);

    treeContainer.add(tree);

    tree.enableSpeedSearch(true);
  }

