    /* @see org.eclipse.jface.text.ILineTracker#getNumberOfLines(int, int) */
    public final int getNumberOfLines(int offset, int length) throws BadLocationException {
        if (length == 0)
            return 1;

        int startLine = lineByOffset(offset);
        int endLine = lineByOffset(offset + length);

        return endLine - startLine + 1;
    }

