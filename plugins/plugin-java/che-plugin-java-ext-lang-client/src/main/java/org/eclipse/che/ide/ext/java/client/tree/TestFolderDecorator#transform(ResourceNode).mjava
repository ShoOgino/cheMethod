  protected Node transform(ResourceNode resourceNode) {
    final Optional<Resource> srcFolder =
        resourceNode.getData().getParentWithMarker(SourceFolderMarker.ID);

    if (!srcFolder.isPresent()) {
      return resourceNode;
    }

    final Optional<Marker> marker = srcFolder.get().getMarker(SourceFolderMarker.ID);

    final ContentRoot contentRoot = ((SourceFolderMarker) marker.get()).getContentRoot();

    if (contentRoot == ContentRoot.TEST_SOURCE
        && !resourceNode.getData().getLocation().equals(srcFolder.get().getLocation())) {
      resourceNode
          .getAttributes()
          .put(
              CUSTOM_BACKGROUND_FILL,
              singletonList(Style.theme.projectExplorerTestItemBackground()));
    }

    return resourceNode;
  }

