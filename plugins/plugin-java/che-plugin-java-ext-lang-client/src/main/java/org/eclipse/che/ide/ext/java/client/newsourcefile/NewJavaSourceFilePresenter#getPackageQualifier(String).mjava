  private String getPackageQualifier(String packageFragment) {
    final Optional<Resource> srcFolder = parent.getParentWithMarker(SourceFolderMarker.ID);

    if (!srcFolder.isPresent() && isNullOrEmpty(packageFragment)) {
      return "\n";
    }

    final Path path =
        parent.getLocation().removeFirstSegments(srcFolder.get().getLocation().segmentCount());

    String packageFQN = path.toString().replace('/', '.');
    if (!packageFragment.isEmpty()) {
      packageFQN = packageFQN.isEmpty() ? packageFragment : packageFQN + '.' + packageFragment;
    }
    if (!packageFQN.isEmpty()) {
      return "package " + packageFQN + ";\n\n";
    } else {
      return "\n";
    }
  }

