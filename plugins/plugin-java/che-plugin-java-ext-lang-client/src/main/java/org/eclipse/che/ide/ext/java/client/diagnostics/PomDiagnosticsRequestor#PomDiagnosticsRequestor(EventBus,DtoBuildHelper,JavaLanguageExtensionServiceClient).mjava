  @Inject
  public PomDiagnosticsRequestor(
      final EventBus eventBus,
      final DtoBuildHelper buildHelper,
      final JavaLanguageExtensionServiceClient service) {
    eventBus.addHandler(
        EditorOpenedEvent.TYPE,
        new EditorOpenedEventHandler() {
          @Override
          public void onEditorOpened(EditorOpenedEvent event) {
            String uri = buildHelper.getUri(event.getFile());
            if (!uri.endsWith(POM_FILE)) {
              return;
            }
            new Timer() {
              @Override
              public void run() {
                processEditorOpened(uri);
              }
            }.schedule(300);
          }

          private void processEditorOpened(String uri) {
            service.reComputePomDiagnostics(uri);
          }
        });
  }

