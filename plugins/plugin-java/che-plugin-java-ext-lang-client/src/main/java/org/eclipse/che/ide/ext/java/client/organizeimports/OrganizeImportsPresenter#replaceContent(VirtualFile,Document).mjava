    private void replaceContent(VirtualFile file, final Document document) {
        projectService.getFileContent(appContext.getDevMachine(),
                                      file.getPath(),
                                      new AsyncRequestCallback<String>(new StringUnmarshaller()) {
                                          @Override
                                          protected void onSuccess(String result) {
                                              document.replace(0, document.getContents().length(), result);
                                          }

                                          @Override
                                          protected void onFailure(Throwable exception) {
                                              Log.error(getClass(), exception);
                                          }
                                      });
    }

