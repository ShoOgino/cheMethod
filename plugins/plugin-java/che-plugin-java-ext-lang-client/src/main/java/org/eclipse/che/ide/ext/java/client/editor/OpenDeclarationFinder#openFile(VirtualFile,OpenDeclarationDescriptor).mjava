    private void openFile(VirtualFile result, final OpenDeclarationDescriptor descriptor) {
        final Map<String, EditorPartPresenter> openedEditors = editorAgent.getOpenedEditors();
        Log.info(getClass(), result.getPath());
        if (openedEditors.containsKey(result.getPath())) {
            EditorPartPresenter editorPartPresenter = openedEditors.get(result.getPath());
            editorAgent.activateEditor(editorPartPresenter);
            fileOpened(editorPartPresenter, descriptor.getOffset());
        } else {
            editorAgent.openEditor(result, new OpenEditorCallbackImpl() {
                @Override
                public void onEditorOpened(EditorPartPresenter editor) {
                    fileOpened(editor, descriptor.getOffset());
                }
            });
        }
    }

