  private TextEdit doCopy(TextEdit edit) {
    TextEdit result = edit.doCopy();
    List children = edit.internalGetChildren();
    if (children != null) {
      List newChildren = new ArrayList(children.size());
      for (Iterator iter = children.iterator(); iter.hasNext(); ) {
        TextEdit childCopy = doCopy((TextEdit) iter.next());
        childCopy.internalSetParent(result);
        newChildren.add(childCopy);
      }
      result.internalSetChildren(newChildren);
    }
    addCopy(edit, result);
    return result;
  }

