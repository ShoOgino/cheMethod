  /**
   * Organize imports in a file or in all files in the specific directory.
   *
   * @param path the path to the file or to the directory
   * @return {@link WorkspaceEdit} changes to apply
   */
  public Promise<WorkspaceEdit> organizeImports(String path) {
    return Promises.create(
        (resolve, reject) ->
            requestTransmitter
                .newRequest()
                .endpointId(WS_AGENT_JSON_RPC_ENDPOINT_ID)
                .methodName(ORGANIZE_IMPORTS)
                .paramsAsString(path)
                .sendAndReceiveResultAsDto(WorkspaceEdit.class, REQUEST_TIMEOUT)
                .onSuccess(resolve::apply)
                .onTimeout(() -> onTimeout(reject))
                .onFailure(error -> reject.apply(ServiceUtil.getPromiseError(error))));
  }

