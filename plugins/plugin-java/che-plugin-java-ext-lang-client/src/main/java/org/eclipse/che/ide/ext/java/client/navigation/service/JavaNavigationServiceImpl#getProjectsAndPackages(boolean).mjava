  @Override
  public Promise<List<JavaProject>> getProjectsAndPackages(boolean includePackage) {
    final String url =
        appContext.getDevMachine().getWsAgentBaseUrl()
            + "/java/navigation/get/projects/and/packages"
            + "?includepackages="
            + includePackage;

    return requestFactory
        .createGetRequest(url)
        .header(ACCEPT, APPLICATION_JSON)
        .loader(loaderFactory.newLoader())
        .send(unmarshallerFactory.newListUnmarshaller(JavaProject.class));
  }

