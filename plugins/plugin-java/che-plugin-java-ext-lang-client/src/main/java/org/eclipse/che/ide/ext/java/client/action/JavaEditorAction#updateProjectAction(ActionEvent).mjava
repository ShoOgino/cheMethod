  @Override
  protected void updateProjectAction(ActionEvent e) {
    if (editorAgent.getActiveEditor() != null) {
      EditorInput input = editorAgent.getActiveEditor().getEditorInput();
      VirtualFile file = input.getFile();
      final String fileExtension = fileTypeRegistry.getFileTypeByFile(file).getExtension();
      if ("java".equals(fileExtension) || "class".equals(fileExtension)) {
        e.getPresentation().setEnabledAndVisible(true);
        return;
      }
    }
    e.getPresentation().setEnabledAndVisible(false);
  }

