    /**
     * Connects the given document with all document partitioners stored in the given map under their partitioning name. This
     * method cleans the given map.
     *
     * @param document
     *         the document
     * @param partitioners
     *         the map containing the partitioners to be connected (key type: {@link String}, value type:
     *         {@link DocumentPartitioner})
     */
    public static void addDocumentPartitioners(Document document, Map<String, DocumentPartitioner> partitioners) {
        Iterator<String> e = partitioners.keySet().iterator();
        while (e.hasNext()) {
            String partitioning = e.next();
            DocumentPartitioner partitioner = partitioners.get(partitioning);
            partitioner.connect(document);
            document.setDocumentPartitioner(partitioning, partitioner);
        }
        partitioners.clear();
        //      }
        //      else
        //      {
        //         IDocumentPartitioner partitioner =
        //            (IDocumentPartitioner)partitioners.get(IDocumentExtension3.DEFAULT_PARTITIONING);
        //         partitioner.connect(document);
        //         document.setDocumentPartitioner(partitioner);
        //      }
    }

