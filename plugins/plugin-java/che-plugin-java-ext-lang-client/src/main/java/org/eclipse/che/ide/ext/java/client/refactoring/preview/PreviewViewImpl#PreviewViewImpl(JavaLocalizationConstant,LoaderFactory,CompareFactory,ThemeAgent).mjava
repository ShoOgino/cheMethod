    @Inject
    public PreviewViewImpl(JavaLocalizationConstant locale,
                           LoaderFactory loaderFactory,
                           CompareFactory compareFactory, ThemeAgent themeAgent) {
        this.locale = locale;
        this.loaderFactory = loaderFactory;
        this.compareFactory = compareFactory;
        this.themeAgent = themeAgent;

        setTitle(locale.moveDialogTitle());

        setWidget(UI_BINDER.createAndBindUi(this));

        Button backButton = createButton(locale.moveDialogButtonBack(), "preview-back-button", new ClickHandler() {
            @Override
            public void onClick(ClickEvent event) {
                delegate.onBackButtonClicked();
            }
        });

        Button cancelButton = createButton(locale.moveDialogButtonCancel(), "preview-cancel-button", new ClickHandler() {
            @Override
            public void onClick(ClickEvent event) {
                hide();
                delegate.onCancelButtonClicked();
            }
        });

        Button acceptButton = createButton(locale.moveDialogButtonOk(), "preview-ok-button", new ClickHandler() {
            @Override
            public void onClick(ClickEvent event) {
                delegate.onAcceptButtonClicked();
            }
        });

        addButtonToFooter(acceptButton);
        addButtonToFooter(cancelButton);
        addButtonToFooter(backButton);

        diff.getElement().setId(Document.get().createUniqueId());
        showDiff(null);
    }

