  @Override
  public Promise<String> expand() {
    final Resource[] resources = appContext.getResources();

    if (resources != null && resources.length == 1) {

      final Resource resource = resources[0];
      Project project = resource.getProject();

      if (!project.exists() || !isJavaProject(project)) {
        return promises.resolve("");
      }

      if (project.getAttributes().containsKey(OUTPUT_FOLDER)) {
        return promises.resolve(
            appContext
                .getProjectsRoot()
                .append(project.getLocation())
                .append(project.getAttributes().get(OUTPUT_FOLDER).get(0))
                .toString());
      } else {
        return promises.resolve(
            appContext.getProjectsRoot().append(project.getLocation()).toString());
      }
    }

    return promises.resolve("");
  }

