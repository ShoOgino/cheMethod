    private Promise<OrganizeImportResult> doOrganizeImports(String fqn, Optional<Project> project) {
        return javaCodeAssistClient.organizeImports(project.get().getLocation().toString(), fqn)
                                   .then(result -> {
                                       if (result.getConflicts() != null && !result.getConflicts().isEmpty()) {
                                           show(result.getConflicts());
                                       } else {
                                           applyChanges(document, result.getChanges());
                                       }

                                       clientServerEventService.sendFileTrackingResumeEvent();
                                   })
                                   .catchError(error -> {
                                       String title = locale.failedToProcessOrganizeImports();
                                       String message = error.getMessage();
                                       notificationManager.notify(title, message, FAIL, FLOAT_MODE);

                                       clientServerEventService.sendFileTrackingResumeEvent();
                                   });
    }

