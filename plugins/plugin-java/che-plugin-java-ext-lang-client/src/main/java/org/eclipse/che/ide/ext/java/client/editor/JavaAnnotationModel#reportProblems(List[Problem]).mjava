    private void reportProblems(final List<Problem> problems) {
        boolean temporaryProblemsChanged = false;

        if (!generatedAnnotations.isEmpty()) {
            temporaryProblemsChanged = true;
            super.clear();
            generatedAnnotations.clear();
        }

        if (reportedProblems != null && !reportedProblems.isEmpty()) {

            for (final Problem problem : reportedProblems) {
                final Position position = createPositionFromProblem(problem);

                if (position != null) {
                    final ProblemAnnotation annotation = new ProblemAnnotation(problem);
                    addAnnotation(annotation, position, false);
                    generatedAnnotations.add(annotation);

                    temporaryProblemsChanged = true;
                }
            }
        }

        if (temporaryProblemsChanged) {
            fireModelChanged();
        }
    }

