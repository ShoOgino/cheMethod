  /**
   * Creates edits that describe how to format the given string. Returns the changes required to
   * format source. Note: Java code formatting is supported only.
   *
   * @param offset The given offset to start recording the edits (inclusive).
   * @param length the given length to stop recording the edits (exclusive).
   * @param content the content to format
   */
  public Promise<List<Change>> format(final int offset, final int length, final String content) {
    return getFormatChanges(offset, length, content)
        .then(
            new Function<List<Change>, List<Change>>() {
              @Override
              public List<Change> apply(List<Change> arg) throws FunctionException {
                return arg.stream().collect(Collectors.toList());
              }
            });
  }

