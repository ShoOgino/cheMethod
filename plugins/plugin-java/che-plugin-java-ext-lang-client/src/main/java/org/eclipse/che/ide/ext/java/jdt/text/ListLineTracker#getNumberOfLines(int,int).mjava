    /* @see org.eclipse.jface.text.ILineTracker#getNumberOfLines(int, int) */
    public final int getNumberOfLines(int position, int length) throws BadLocationException {

        if (position < 0 || position + length > fTextLength)
            throw new BadLocationException();

        if (length == 0) // optimization
            return 1;

        return getNumberOfLines(getLineNumberOfOffset(position), position, length);
    }

