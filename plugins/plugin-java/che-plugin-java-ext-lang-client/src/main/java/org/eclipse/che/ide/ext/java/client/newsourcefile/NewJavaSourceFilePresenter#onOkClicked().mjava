    @Override
    public void onOkClicked() {
        final String fileNameWithExtension = getFileNameWithExtension(view.getName());
        final String fileNameWithoutExtension = fileNameWithExtension.substring(0, fileNameWithExtension.lastIndexOf(".java"));
        final String packageFragment = getPackageFragment(view.getName());

        if (!packageFragment.isEmpty() && !isValidPackageName(packageFragment)) {
            return;
        }
        if (isValidCompilationUnitName(fileNameWithExtension)) {
            view.close();

            switch (view.getSelectedType()) {
                case CLASS:
                    createClass(fileNameWithoutExtension, packageFragment);
                    break;
                case INTERFACE:
                    createInterface(fileNameWithoutExtension, packageFragment);
                    break;
                case ENUM:
                    createEnum(fileNameWithoutExtension, packageFragment);
                    break;
                case ANNOTATION:
                    createAnnotation(fileNameWithoutExtension, packageFragment);
                    break;
            }
        }
    }

