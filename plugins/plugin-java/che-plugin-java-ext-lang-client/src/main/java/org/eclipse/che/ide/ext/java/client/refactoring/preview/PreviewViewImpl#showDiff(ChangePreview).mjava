    /** {@inheritDoc} */
    @Override
    public void showDiff(@Nullable ChangePreview preview) {
        if (preview == null) {
            showDiffPanel(false);
        } else {
            showDiffPanel(true);
            if (compare == null) {
                prepareDiffEditor(preview);
                return;
            }
            refreshComperingFiles(preview);

            compare.refresh();
        }
    }

