    public static String getFQNForFile(VirtualFile file) {
        String packageName = "";
        if (file instanceof JavaFileNode) {
            if (((JavaFileNode)file).getParent() instanceof PackageNode) {
                packageName = ((PackageNode)((JavaFileNode)file).getParent()).getPackage();
            }
            if (!packageName.isEmpty()) {
                packageName = packageName + ".";
            }
            return packageName + file.getName().substring(0, file.getName().lastIndexOf('.'));
        } else if (file instanceof JarFileNode) {
            return file.getPath();
        }
        return file.getName().substring(0, file.getName().lastIndexOf('.'));
    }

