    public Promise<RefactoringResult> perform(CancelOperationHandler cancelOperationHandler) {
      this.cancelOperationHandler = cancelOperationHandler;

      view.setLoaderVisibility(true);

      RenameSettings renameSettings = createRenameSettings();
      RenameParams renameParams = createRenameParams(renameSettings);
      renameSettings.setRenameParams(renameParams);

      status = IN_PROGRESS;

      return Promises.create(
          (resolve, reject) ->
              extensionServiceClient
                  .rename(renameSettings)
                  .then(
                      result -> {
                        if (status != CANCELLED) {
                          onComplete(SUCCESS);

                          resolve.apply(result);
                        }
                      })
                  .catchError(
                      arg -> {
                        if (status != CANCELLED) {
                          onComplete(FAIL);

                          notificationManager.notify(
                              locale.failedToRename(),
                              arg.getMessage(),
                              StatusNotification.Status.FAIL,
                              FLOAT_MODE);
                        }
                      }));
    }

