    int traverseDocumentUpdating(TextEditProcessor processor, Document document) throws BadLocationException {
        int delta = 0;
        if (fChildren != null) {
            for (int i = fChildren.size() - 1; i >= 0; i--) {
                TextEdit child = (TextEdit)fChildren.get(i);
                delta += child.traverseDocumentUpdating(processor, document);
                childDocumentUpdated();
            }
        }
        if (processor.considerEdit(this)) {
            if (delta != 0)
                adjustLength(delta);
            int r = performDocumentUpdating(document);
            if (r != 0)
                adjustLength(r);
            delta += r;
        }
        return delta;
    }

