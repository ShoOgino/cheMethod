  public void applyProposal(
      String sessionId,
      int index,
      boolean insert,
      final AsyncCallback<ProposalApplyResult> callback) {
    String url =
        appContext.getDevMachine().getWsAgentBaseUrl()
            + CODE_ASSIST_URL_PREFIX
            + "/apply/completion/?sessionid="
            + sessionId
            + "&index="
            + index
            + "&insert="
            + insert;
    Unmarshallable<ProposalApplyResult> unmarshaller =
        unmarshallerFactory.newUnmarshaller(ProposalApplyResult.class);
    asyncRequestFactory
        .createGetRequest(url)
        .send(
            new AsyncRequestCallback<ProposalApplyResult>(unmarshaller) {
              @Override
              protected void onSuccess(ProposalApplyResult proposalApplyResult) {
                callback.onSuccess(proposalApplyResult);
              }

              @Override
              protected void onFailure(Throwable throwable) {
                callback.onFailure(throwable);
              }
            });
  }

