  public static String resolveFQN(Resource resource) {
    final Optional<Resource> srcFolder = resource.getParentWithMarker(SourceFolderMarker.ID);

    if (!srcFolder.isPresent()) {
      throw new IllegalStateException(
          "Fully qualified name can not be resolved for '" + resource.getLocation() + "'");
    }

    return resolveFQN((Container) srcFolder.get(), resource);
  }

