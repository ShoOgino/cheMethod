    public int compare(TextEdit edit1, TextEdit edit2) throws MalformedTreeException {
      int offset1 = edit1.getOffset();
      int length1 = edit1.getLength();

      int offset2 = edit2.getOffset();
      int length2 = edit2.getLength();

      if (offset1 == offset2 && length1 == 0 && length2 == 0) {
        return 0;
      }
      if (offset1 + length1 <= offset2) {
        return -1;
      }
      if (offset2 + length2 <= offset1) {
        return 1;
      }
      throw new MalformedTreeException(null, edit1, "Overlapping text edits"); // $NON-NLS-1$
    }

