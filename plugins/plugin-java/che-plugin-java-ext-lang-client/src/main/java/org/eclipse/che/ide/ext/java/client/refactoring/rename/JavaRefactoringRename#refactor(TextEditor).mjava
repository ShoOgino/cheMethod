  /**
   * Launch java rename refactoring process
   *
   * @param textEditorPresenter editor where user makes refactoring
   */
  public void refactor(final TextEditor textEditorPresenter) {
    if (!(textEditorPresenter instanceof HasLinkedMode)) {
      return;
    }

    if (isActiveLinkedEditor) {
      if (mode != null) {
        mode.exitLinkedMode(false);
      }
      renamePresenter.show(RefactorInfo.of(RefactoredItemType.JAVA_ELEMENT, null));
      isActiveLinkedEditor = false;
    } else {
      isActiveLinkedEditor = true;
      textEditor = textEditorPresenter;
      createLinkedRename();
    }

    linkedEditor = (HasLinkedMode) textEditorPresenter;
    textEditorPresenter.setFocus();
  }

