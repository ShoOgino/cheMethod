    @Override
    public Promise<List<Node>> intercept(Node parent, List<Node> children) {
        if (parent instanceof ResourceNode) {

            final Resource resource = ((ResourceNode)parent).getData();

            if (resource.getResourceType() != PROJECT) {
                return promises.resolve(children);
            }

            final Project project = (Project)resource;

            if (isJavaProject(project) && isDisplayLibraries(project)) {
                final List<Node> intercepted = newArrayList(children);

                intercepted.add(nodeFactory.newLibrariesNode(project.getLocation(), settingsProvider.getSettings()));

                return promises.resolve(intercepted);
            }
        }

        return promises.resolve(children);
    }

