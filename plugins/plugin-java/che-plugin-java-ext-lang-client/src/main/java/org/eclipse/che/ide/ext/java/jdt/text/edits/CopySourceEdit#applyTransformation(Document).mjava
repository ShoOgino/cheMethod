  private void applyTransformation(Document document) throws MalformedTreeException {
    TextEdit newEdit = new MultiTextEdit(0, document.getLength());
    ReplaceEdit[] replaces = fModifier.getModifications(document.get());
    for (int i = 0; i < replaces.length; i++) {
      newEdit.addChild(replaces[i]);
    }
    try {
      newEdit.apply(document, TextEdit.NONE);
    } catch (BadLocationException cannotHappen) {
      // skip
    }
  }

