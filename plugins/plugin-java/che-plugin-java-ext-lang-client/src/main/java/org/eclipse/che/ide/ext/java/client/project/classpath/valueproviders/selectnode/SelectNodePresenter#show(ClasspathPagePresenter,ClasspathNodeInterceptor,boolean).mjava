  /**
   * Show tree view with all needed nodes of the workspace.
   *
   * @param pagePresenter delegate from the property page
   * @param nodeInterceptor interceptor for showing nodes
   * @param forCurrent if is true - show only current project, otherwise - whole workspace
   */
  public void show(
      ClasspathPagePresenter pagePresenter,
      ClasspathNodeInterceptor nodeInterceptor,
      boolean forCurrent) {
    this.classpathPagePresenter = pagePresenter;
    this.interceptor = nodeInterceptor;
    if (forCurrent) {
      final Project project = appContext.getRootProject();

      view.setStructure(
          Collections.<Node>singletonList(
              nodeFactory.newContainerNode(project, settingsProvider.getSettings())),
          interceptor);
    } else {
      final List<Node> nodes = new ArrayList<>();
      for (Project project : appContext.getProjects()) {
        nodes.add(nodeFactory.newContainerNode(project, settingsProvider.getSettings()));
      }

      view.setStructure(nodes, interceptor);
    }

    view.show();
  }

