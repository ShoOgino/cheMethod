  /**
   * Fires the given document event to all registers document listeners informing them about the
   * forthcoming document manipulation. Uses a robust iterator.
   *
   * @param event the event to be sent out
   */
  protected void fireDocumentAboutToBeChanged(DocumentEvent event) {
    if (fDocumentPartitioners != null) {
      for (DocumentPartitioner p : fDocumentPartitioners.values()) {
        try {
          p.documentAboutToBeChanged(event);
        } catch (Exception ex) {
          fail(ex);
        }
      }
    }

    aboutToBeChangedForAll(event, fPrenotifiedDocumentListeners.getListeners());
    aboutToBeChangedForAll(event, fDocumentListeners.getListeners());
  }

