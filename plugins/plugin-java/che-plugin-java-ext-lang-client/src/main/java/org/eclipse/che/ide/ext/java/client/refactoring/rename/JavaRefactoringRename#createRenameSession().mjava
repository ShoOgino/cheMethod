  private void createRenameSession() {
    final CreateRenameRefactoring refactoringSession =
        createRenameRefactoringDto(textEditor, false);

    Promise<RenameRefactoringSession> createRenamePromise =
        refactoringServiceClient.createRenameRefactoring(refactoringSession);
    createRenamePromise
        .then(
            new Operation<RenameRefactoringSession>() {
              @Override
              public void apply(RenameRefactoringSession session) throws OperationException {
                renamePresenter.show(session);
                if (mode != null) {
                  mode.exitLinkedMode(false);
                }
              }
            })
        .catchError(
            new Operation<PromiseError>() {
              @Override
              public void apply(PromiseError arg) throws OperationException {
                showError();
              }
            });
  }

