    public void setMainClass(String path, String fqn) {
        if (editedConfiguration.getMainClass().equals(path)) {
            return;
        }

        String projectPath = appContext.getCurrentProject().getProjectConfig().getPath();
        String relativePath = path.substring(path.indexOf(projectPath) + projectPath.length() + 1);

        view.setMainClass(relativePath);

        String commandLine = editedConfiguration.getCommandLine();
        commandLine = commandLine.replace(editedConfiguration.getMainClass(), relativePath);
        commandLine = commandLine.replace(' ' + editedConfiguration.getMainClassFqn(),' ' + fqn);
        editedConfiguration.setCommandLine(commandLine);

        editedConfiguration.setMainClass(relativePath);
        listener.onDirtyStateChanged();
    }

