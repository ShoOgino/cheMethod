  @Inject
  public NewJavaSourceFileViewImpl(
      AddToIndexViewImplUiBinder uiBinder, JavaLocalizationConstant constant) {
    setTitle(constant.title());

    addFooterButton(
        constant.buttonCancel(), "newJavaClass-dialog-cancel", event -> delegate.onCancelClicked());

    btnOk =
        addFooterButton(
            constant.buttonOk(), "newJavaClass-dialog-ok", event -> delegate.onOkClicked());

    Widget widget = uiBinder.createAndBindUi(this);
    this.setWidget(widget);
    this.ensureDebugId("newJavaSourceFileView-window");

    nameField.addKeyUpHandler(
        event -> {
          delegate.onNameChanged();
          final boolean isNameEmpty = nameField.getText().trim().isEmpty();
          btnOk.setEnabled(!isNameEmpty);
          if (!isNameEmpty && KeyCodes.KEY_ENTER == event.getNativeKeyCode()) {
            delegate.onOkClicked();
          }
        });
  }

