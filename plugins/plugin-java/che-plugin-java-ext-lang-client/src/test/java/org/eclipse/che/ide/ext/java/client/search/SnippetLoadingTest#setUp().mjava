  @Before
  public void setUp() {
    service = mock(TextDocumentServiceClient.class);
    List<SnippetResult> snippets =
        Arrays.asList(
            new SnippetResult(new LinearRange(2, 7), "foofoo", 37, new LinearRange(5, 18)),
            new SnippetResult(new LinearRange(200, 37), "foofoo", 37, new LinearRange(70, 18)),
            new SnippetResult(new LinearRange(27, 207), "foofoo", 37, new LinearRange(12, 18)),
            new SnippetResult(new LinearRange(13, 8), "foofoo", 37, new LinearRange(13, 8)));

    Promise<List<SnippetResult>> promise =
        new PromiseMocker<List<SnippetResult>>().applyOnThenFunction(snippets).getPromise();
    when(service.getSnippets(any(SnippetParameters.class))).thenReturn(promise);
  }

