    @Test
    public void renameShouldBeDisabledIfResourceIsFolderAndHasSourceParentFolder() throws Exception {
        when(resource.getParentWithMarker(SourceFolderMarker.ID)).thenReturn(Optional.of(resource));
        when(resource.isFolder()).thenReturn(true);

        assertFalse(validator.isRenameAllowed(resource));
    }

