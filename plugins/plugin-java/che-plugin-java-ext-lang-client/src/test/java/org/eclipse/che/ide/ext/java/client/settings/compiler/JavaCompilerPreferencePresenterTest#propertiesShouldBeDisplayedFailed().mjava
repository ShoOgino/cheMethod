  @Test
  public void propertiesShouldBeDisplayedFailed() throws OperationException {
    PromiseError promiseError = mock(PromiseError.class);
    NotificationManager notificationManager = mock(NotificationManager.class);

    when(notificationManagerProvider.get()).thenReturn(notificationManager);

    presenter.onWorkspaceRunning(workspaceRunningEvent);
    presenter.go(container);

    verify(mapPromise).catchError(errorOperationCaptor.capture());

    errorOperationCaptor.getValue().apply(promiseError);

    verify(preferencesManager).loadPreferences();
    verify(notificationManager).notify(nullable(String.class), eq(FAIL), eq(FLOAT_MODE));
  }

