    @Test
    public void renamePackageWizardShouldBeShow() throws Exception {
        when(session.getWizardType()).thenReturn(RenameRefactoringSession.RenameWizard.PACKAGE);
        renamePresenter.show(refactorInfo);

        verifyPreparingRenameRefactoringDto();

        verify(refactorService).createRenameRefactoring(createRenameRefactoringDto);
        verify(renameRefactoringSessionPromise).then(renameRefactoringSessionCaptor.capture());
        renameRefactoringSessionCaptor.getValue().apply(session);

        verifyPreparingWizard();

        verify(locale).renamePackageTitle();
        verify(view).setTitle(anyString());
        verify(view).setVisiblePatternsPanel(true);
        verify(view).setVisibleFullQualifiedNamePanel(true);
        verify(view).setVisibleRenameSubpackagesPanel(true);

        verify(view).show();
    }

