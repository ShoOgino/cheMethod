    @Before
    public void setUp() throws Exception {
        when(editorPartPresenter.getEditorInput()).thenReturn(editorInput);
        when(editorPartPresenter.getDocument()).thenReturn(document);
        when(editorInput.getFile()).thenReturn(virtualFile);
        when(virtualFile.getName()).thenReturn(CLASS_NAME);
        when(virtualFile.getProject()).thenReturn(hasProjectConfig);
        when(hasProjectConfig.getProjectConfig()).thenReturn(profileConfig);
        when(profileConfig.getPath()).thenReturn(PROJECT_PATH);
        when(service.getImplementations(anyString(), anyString(), anyInt())).thenReturn(promise);
        when(promise.then(Matchers.<Operation<ImplementationsDescriptorDTO>>anyObject())).thenReturn(promise);
        when(promise.catchError(Matchers.<Operation<PromiseError>>anyObject())).thenReturn(promise);

        presenter = new OpenImplementationPresenter(service,
                                                    context,
                                                    dtoFactory,
                                                    javaResources,
                                                    popupResources,
                                                    locale,
                                                    editorAgent,
                                                    projectExplorer,
                                                    javaNodeManager);
    }

