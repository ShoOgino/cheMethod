    @Before
    public void setUp() throws Exception {
        resources = new Resource[]{resource1};
        attributes.put(LANGUAGE, singletonList("java"));

        when(appContext.getResources()).thenReturn(resources);
        when(resource1.getRelatedProject()).thenReturn(projectOptional);
        when(projectOptional.isPresent()).thenReturn(true);
        when(projectOptional.get()).thenReturn(relatedProject);
        when(appContext.getProjectsRoot()).thenReturn(new Path("/projects"));
        when(relatedProject.getLocation()).thenReturn(new Path("projectParent/project"));
        when(relatedProject.getAttributes()).thenReturn(attributes);
    }

