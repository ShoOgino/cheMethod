  @Test
  public void defaultValueOfClasspathShouldBeBuilt() throws Exception {
    List<ClasspathEntry> entries = new ArrayList<>();
    Set<String> libs = new HashSet<>();
    Path projectsRoot = Path.valueOf("/projects");

    when(appContext.getProjectsRoot()).thenReturn(projectsRoot);
    when(classpathContainer.getClasspathEntries(anyString())).thenReturn(classpathEntriesPromise);
    when(classpathResolver.getLibs()).thenReturn(libs);

    classpathMacro.expand();

    verify(classpathEntriesPromise).then(classpathEntriesCapture.capture());
    String classpath = classpathEntriesCapture.getValue().apply(entries);

    verify(classpathResolver).resolveClasspathEntries(entries);
    assertEquals("/projects/name:", classpath);
  }

