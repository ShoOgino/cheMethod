  @Test
  public void viewShouldBeShowed() throws Exception {
    presenter.show(SESSION_ID, refactorInfo);

    verify(refactoringSession).setSessionId(SESSION_ID);
    verify(refactoringPreviewPromise).then(refactoringPreviewOperation.capture());
    refactoringPreviewOperation.getValue().apply(refactoringPreview);
    verify(view).setTreeOfChanges(refactoringPreview);
    verify(view).show();
  }

