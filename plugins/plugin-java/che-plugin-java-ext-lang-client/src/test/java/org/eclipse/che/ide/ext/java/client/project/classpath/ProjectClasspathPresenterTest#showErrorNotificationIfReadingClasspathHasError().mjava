    @Test
    public void showErrorNotificationIfReadingClasspathHasError() throws Exception {
        PromiseError promiseError = mock(PromiseError.class);
        when(promiseError.getMessage()).thenReturn(TEXT);
        when(projectConfigDto.getPath()).thenReturn("path");
        when(classpathContainer.getClasspathEntries(anyString())).thenReturn(promise);
        when(promise.then(Matchers.<Operation<List<ClasspathEntryDto>>>anyObject())).thenReturn(promise);
        when(page1.getCategory()).thenReturn(TEXT);
        when(page2.getCategory()).thenReturn(TEXT);

        presenter.show();

        verify(classpathContainer).getClasspathEntries("path");
        verify(promise).catchError(errorCaptor.capture());
        errorCaptor.getValue().apply(promiseError);
        verify(notificationManager).notify("Problems with getting classpath", TEXT, FAIL, EMERGE_MODE);
    }

