    @Before
    public void setUp() throws Exception {
        when(appContext.getCurrentProject()).thenReturn(currentProject);
        when(currentProject.getProjectConfig()).thenReturn(projectConfigDto);
        when(projectConfigDto.getPath()).thenReturn(PROJECT_PATH);
        when(projectExplorerPresenter.getSelection()).thenReturn(selection);
        when(selection.getHeadElement()).thenReturn(sourceFolder);
        when(actionEvent.getPresentation()).thenReturn(presentation);

        SourceFolderNode folder = mock(SourceFolderNode.class);
        when(selection.getHeadElement()).thenReturn(folder);
        when(folder.getStorablePath()).thenReturn(TEXT);

        when(classpathService.getClasspath(anyString())).thenReturn(classpathPromise);
        when(classpathPromise.then(Matchers.<Operation<List<ClasspathEntryDTO>>>anyObject())).thenReturn(classpathPromise);
    }

