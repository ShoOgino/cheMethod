  @Test
  public void defaultValueOfSourcepathShouldBeBuilt() throws Exception {
    List<ClasspathEntryDto> entries = new ArrayList<>();
    Path projectsRoot = Path.valueOf("/projects");

    when(appContext.getProjectsRoot()).thenReturn(projectsRoot);
    when(classpathContainer.getClasspathEntries(anyString())).thenReturn(classpathEntriesPromise);

    sourcepathMacro.expand();

    verify(classpathEntriesPromise).then(classpathEntriesCapture.capture());
    String classpath = classpathEntriesCapture.getValue().apply(entries);

    verify(classpathResolver).resolveClasspathEntries(entries);
    assertEquals("/projects/name", classpath);
  }

