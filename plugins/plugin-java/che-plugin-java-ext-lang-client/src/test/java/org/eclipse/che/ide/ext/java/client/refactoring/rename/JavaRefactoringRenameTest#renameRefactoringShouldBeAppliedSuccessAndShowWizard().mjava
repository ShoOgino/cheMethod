    @Test
    public void renameRefactoringShouldBeAppliedSuccessAndShowWizard() throws OperationException {
        when(result.getSeverity()).thenReturn(OK);

        refactoringRename.refactor(textEditor);
        refactoringRename.refactor(textEditor);

        verify(refactoringServiceClient, times(2)).createRenameRefactoring(createRenameRefactoringDto);
        verify(createRenamePromise, times(2)).then(renameRefCaptor.capture());
        renameRefCaptor.getValue().apply(session);
        verify(renamePresenter).show(session);
    }

