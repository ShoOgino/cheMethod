    @Test
    public void hideLoaderAndShowErrorIfSomesingIsWrong() throws Exception {
        when(editorPartPresenter.getCursorOffset()).thenReturn(0);
        when(arg.getMessage()).thenReturn(TEXT);

        presenter.show(editorPartPresenter);

        verify(profileConfig).getPath();
        verify(service).getImplementations(PROJECT_PATH, "Class", 0);

        verify(promise).catchError(operationErrorCapture.capture());
        operationErrorCapture.getValue().apply(arg);

        verify(arg).getMessage();
    }

