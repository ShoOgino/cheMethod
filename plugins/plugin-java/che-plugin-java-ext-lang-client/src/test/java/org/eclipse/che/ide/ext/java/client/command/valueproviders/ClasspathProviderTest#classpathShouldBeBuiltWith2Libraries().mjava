    @Test
    public void classpathShouldBeBuiltWith2Libraries() throws Exception {
        String lib1 = "lib1.jar";
        String lib2 = "lib2.jar";

        List<ClasspathEntryDto> entries = new ArrayList<>();

        Set<String> libs = new HashSet<>();
        libs.add(lib1);
        libs.add(lib2);

        when(classpathContainer.getClasspathEntries(anyString())).thenReturn(classpathEntriesPromise);
        when(classpathResolver.getLibs()).thenReturn(libs);

        classpathProvider.getValue();

        verify(classpathEntriesPromise).then(classpathEntriesCapture.capture());
        String classpath = classpathEntriesCapture.getValue().apply(entries);

        verify(classpathResolver).resolveClasspathEntries(entries);
        assertEquals("lib2.jar:lib1.jar:", classpath);
    }

