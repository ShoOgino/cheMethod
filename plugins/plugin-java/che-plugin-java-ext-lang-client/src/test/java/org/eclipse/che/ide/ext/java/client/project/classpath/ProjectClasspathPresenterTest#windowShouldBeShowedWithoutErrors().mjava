    @Test
    public void windowShouldBeShowedWithoutErrors() throws Exception {
        List<ClasspathEntryDTO> arg = new ArrayList<>();
        when(projectConfigDto.getPath()).thenReturn("path");
        when(service.getClasspath(anyString())).thenReturn(promise);
        when(promise.then(Matchers.<Operation<List<ClasspathEntryDTO>>>anyObject())).thenReturn(promise);
        when(page1.getCategory()).thenReturn(TEXT);
        when(page2.getCategory()).thenReturn(TEXT);

        presenter.show();

        verify(service).getClasspath("path");
        verify(promise).then(acceptCaptor.capture());
        acceptCaptor.getValue().apply(arg);

        verify(classpathResolve).resolveClasspathEntries(arg);
        verify(view).setPages(Matchers.<Map<String, Set<ClasspathPagePresenter>>>anyObject());
        verify(view).selectPage(Matchers.<ClasspathPagePresenter>anyObject());
    }

