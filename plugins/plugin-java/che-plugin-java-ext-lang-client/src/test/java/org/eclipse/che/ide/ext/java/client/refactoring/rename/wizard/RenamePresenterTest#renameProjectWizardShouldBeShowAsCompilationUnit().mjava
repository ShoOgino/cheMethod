  @Test
  public void renameProjectWizardShouldBeShowAsCompilationUnit() throws Exception {
    refactorInfo =
        RefactorInfo.of(
            MoveType.REFACTOR_MENU,
            RefactoredItemType.COMPILATION_UNIT,
            new Resource[] {container});
    when(session.getWizardType())
        .thenReturn(RenameRefactoringSession.RenameWizard.COMPILATION_UNIT);

    renamePresenter.show(refactorInfo);

    verify(createRenameRefactoringDto).setType(PACKAGE);
    verify(createRenameRefactoringDto).setPath("/project/src/a/b/c");

    verify(refactorService).createRenameRefactoring(createRenameRefactoringDto);
    verify(renameRefactoringSessionPromise).then(renameRefactoringSessionCaptor.capture());
    renameRefactoringSessionCaptor.getValue().apply(session);

    verifyPreparingWizard();

    verify(locale).renameCompilationUnitTitle();
    verify(view).setTitle(anyString());

    verify(view).show();
  }

