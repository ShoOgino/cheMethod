  @Test
  public void renameTypeParameterWizardShouldBeShow() throws Exception {
    when(session.getWizardType()).thenReturn(RenameRefactoringSession.RenameWizard.TYPE_PARAMETER);

    RefactorInfo refactorInfo =
        RefactorInfo.of(
            MoveType.REFACTOR_MENU, RefactoredItemType.COMPILATION_UNIT, new Resource[] {file});

    renamePresenter.show(refactorInfo);

    verifyPreparingRenameRefactoringDto();

    verify(refactorService).createRenameRefactoring(createRenameRefactoringDto);
    verify(renameRefactoringSessionPromise).then(renameRefactoringSessionCaptor.capture());
    renameRefactoringSessionCaptor.getValue().apply(session);

    verifyPreparingWizard();

    verify(locale).renameTypeVariableTitle();
    verify(view).setTitleCaption(nullable(String.class));

    verify(view).showDialog();
  }

