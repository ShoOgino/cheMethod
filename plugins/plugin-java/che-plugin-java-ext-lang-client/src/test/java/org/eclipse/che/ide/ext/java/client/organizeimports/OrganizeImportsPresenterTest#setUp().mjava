    @Before
    public void setUp() throws Exception {
        when(editor.getEditorInput()).thenReturn(editorInput);
        when(editorInput.getFile()).thenReturn(file);
        when(file.getProject()).thenReturn(hasProjectConfig);
        when(hasProjectConfig.getProjectConfig()).thenReturn(projectConfigDto);
        when(projectConfigDto.getPath()).thenReturn(PATH);
        when(file.getName()).thenReturn("A.java");
        when(file.getPath()).thenReturn(PATH);

        when(appContext.getWorkspaceId()).thenReturn(WS_ID);

        when(javaCodeAssistClient.organizeImports(anyString(), anyString())).thenReturn(importsPromise);
        when(importsPromise.then(Matchers.<Operation<List<ConflictImportDTO>>>anyObject())).thenReturn(importsPromise);

        presenter = new OrganizeImportsPresenter(view,
                                                 appContext,
                                                 projectService,
                                                 javaCodeAssistClient,
                                                 dtoFactory,
                                                 locale,
                                                 notificationManager);

        prepareConflicts();

    }

