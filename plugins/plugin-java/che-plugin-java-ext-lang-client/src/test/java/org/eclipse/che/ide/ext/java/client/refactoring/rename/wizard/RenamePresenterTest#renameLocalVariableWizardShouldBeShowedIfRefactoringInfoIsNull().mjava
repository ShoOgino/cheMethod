  @Test
  public void renameLocalVariableWizardShouldBeShowedIfRefactoringInfoIsNull() throws Exception {
    when(activeEditor.getCursorOffset()).thenReturn(2);

    renamePresenter.show((RefactorInfo) null);

    verify(createRenameRefactoringDto).setType(JAVA_ELEMENT);
    verify(createRenameRefactoringDto).setPath(nullable(String.class));
    verify(createRenameRefactoringDto).setOffset(2);

    verify(refactorService).createRenameRefactoring(createRenameRefactoringDto);
    verify(renameRefactoringSessionPromise).then(renameRefactoringSessionCaptor.capture());
    renameRefactoringSessionCaptor.getValue().apply(session);

    verifyPreparingWizard();

    verify(locale).renameLocalVariableTitle();
    verify(view).setTitle(nullable(String.class));

    verify(view).show();
  }

