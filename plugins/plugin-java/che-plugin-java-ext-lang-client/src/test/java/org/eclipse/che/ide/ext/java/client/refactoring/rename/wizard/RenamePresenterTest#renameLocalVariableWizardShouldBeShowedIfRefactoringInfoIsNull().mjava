    @Test
    public void renameLocalVariableWizardShouldBeShowedIfRefactoringInfoIsNull() throws Exception {
        TextEditor editorPartPresenter = mock(TextEditor.class);
        EditorInput editorInput = mock(EditorInput.class);
        VirtualFile virtualFile = mock(VirtualFile.class);
        when(editorAgent.getActiveEditor()).thenReturn(editorPartPresenter);
        when(editorPartPresenter.getEditorInput()).thenReturn(editorInput);
        when(editorPartPresenter.getCursorOffset()).thenReturn(2);
        when(editorInput.getFile()).thenReturn(virtualFile);
        when(virtualFile.getName()).thenReturn(TEXT);

        renamePresenter.show((RefactorInfo)null);

        verify(createRenameRefactoringDto).setType(JAVA_ELEMENT);
        verify(createRenameRefactoringDto).setPath(anyString());
        verify(createRenameRefactoringDto).setOffset(2);

        verify(refactorService).createRenameRefactoring(createRenameRefactoringDto);
        verify(renameRefactoringSessionPromise).then(renameRefactoringSessionCaptor.capture());
        renameRefactoringSessionCaptor.getValue().apply(session);

        verifyPreparingWizard();

        verify(locale).renameLocalVariableTitle();
        verify(view).setTitle(anyString());

        verify(view).show();
    }

