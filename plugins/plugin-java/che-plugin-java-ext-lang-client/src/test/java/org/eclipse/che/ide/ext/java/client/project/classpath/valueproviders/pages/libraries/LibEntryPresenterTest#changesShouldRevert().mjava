    @Test
    public void changesShouldRevert() throws Exception {
        presenter.revertChanges();

        verify(view).clear();
        verify(view, times(2)).addNode(Matchers.<NodeWidget>anyObject());
        verify(delegate, times(3)).onDirtyChanged();
        assertFalse(presenter.isDirty());
        verify(delegate, times(3)).onDirtyChanged();
    }

