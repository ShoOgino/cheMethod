  @Test
  public void renameLocalVariableWizardShouldBeShow() throws Exception {

    RefactorInfo refactorInfo =
        RefactorInfo.of(
            MoveType.REFACTOR_MENU, RefactoredItemType.COMPILATION_UNIT, new Resource[] {file});

    renamePresenter.show(refactorInfo);

    verifyPreparingRenameRefactoringDto();

    verify(refactorService).createRenameRefactoring(createRenameRefactoringDto);
    verify(renameRefactoringSessionPromise).then(renameRefactoringSessionCaptor.capture());
    renameRefactoringSessionCaptor.getValue().apply(session);

    verifyPreparingWizard();

    verify(locale).renameLocalVariableTitle();
    verify(view).setTitle(anyString());

    verify(view).show();
  }

