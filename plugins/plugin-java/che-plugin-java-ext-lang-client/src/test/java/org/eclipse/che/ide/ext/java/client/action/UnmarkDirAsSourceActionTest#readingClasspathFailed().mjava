    @Test
    public void readingClasspathFailed() throws Exception {
        action.actionPerformed(actionEvent);
        when(promiseError.getMessage()).thenReturn(TEXT);

        verify(classpathService.getClasspath(PROJECT_PATH)).catchError(classpathErrorCapture.capture());
        classpathErrorCapture.getValue().apply(promiseError);

        verify(notificationManager).notify("Can't get classpath", TEXT, FAIL, EMERGE_MODE);
    }

