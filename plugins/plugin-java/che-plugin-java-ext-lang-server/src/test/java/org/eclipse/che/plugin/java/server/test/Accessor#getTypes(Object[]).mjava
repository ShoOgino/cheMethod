  private static Class[] getTypes(Object[] objects) {
    if (objects == null) return null;

    int length = objects.length;
    Class[] classes = new Class[length];
    for (int i = 0; i < length; i++) {
      Assert.isNotNull(objects[i]);
      classes[i] = objects[i].getClass();
    }
    return classes;
  }

