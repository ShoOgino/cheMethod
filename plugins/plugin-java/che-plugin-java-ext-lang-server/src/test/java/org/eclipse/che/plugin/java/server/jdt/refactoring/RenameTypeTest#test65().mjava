  @Test
  public void test65() throws Exception {
    // https://bugs.eclipse.org/356677
    IPackageFragment packageP1 = getRoot().createPackageFragment("p1", true, null);
    IPackageFragment packageP2 = getRoot().createPackageFragment("p2", true, null);

    IType classA = getClassFromTestFile(packageP1, "A");
    IType classB = getClassFromTestFile(packageP1, "B");
    IType classC = getClassFromTestFile(packageP2, "C");

    RefactoringStatus result = performRefactoring(createRefactoringDescriptor(classA, "C"));
    Assert.assertEquals("was supposed to pass", null, result);

    assertEqualLines(
        "invalid renaming A",
        getFileContents(getOutputTestFileName("NewC")),
        packageP1.getCompilationUnit("C.java").getSource());
    assertEqualLines(
        "invalid renaming in B",
        getFileContents(getOutputTestFileName("B")),
        classB.getCompilationUnit().getSource());
    assertEqualLines(
        "invalid renaming in C",
        getFileContents(getOutputTestFileName("C")),
        classC.getCompilationUnit().getSource());
  }

