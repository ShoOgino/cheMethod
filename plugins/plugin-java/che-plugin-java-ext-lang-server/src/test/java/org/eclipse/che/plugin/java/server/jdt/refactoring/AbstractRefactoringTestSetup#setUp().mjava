  /*public AbstractRefactoringTestSetup(Test test) {
  		super(test);
  	}
  */
  protected void setUp() throws Exception {
    //		super.setUp();
    //		fWasAutobuild= CoreUtility.setAutoBuilding(false);
    //		if (JavaPlugin.getActivePage() != null)
    //			JavaPlugin.getActivePage().close();

    Hashtable options = TestOptions.getDefaultOptions();
    options.put(DefaultCodeFormatterConstants.FORMATTER_TAB_CHAR, JavaCore.TAB);
    options.put(DefaultCodeFormatterConstants.FORMATTER_NUMBER_OF_EMPTY_LINES_TO_PRESERVE, "0");
    options.put(DefaultCodeFormatterConstants.FORMATTER_TAB_SIZE, "4");
    options.put(DefaultCodeFormatterConstants.FORMATTER_LINE_SPLIT, String.valueOf(9999));

    JavaCore.setOptions(options);
    TestOptions.initializeCodeGenerationOptions();
    JavaPlugin.getDefault().getCodeTemplateStore().load();

    StringBuffer comment = new StringBuffer();
    comment.append("/**\n");
    comment.append(" * ${tags}\n");
    comment.append(" */");
    StubUtility.setCodeTemplate(
        CodeTemplateContextType.CONSTRUCTORCOMMENT_ID, comment.toString(), null);
  }

