    @Test
    public void test4() throws Exception {
        fIsPreDeltaTest = true;

        fQualifiedNamesFilePatterns = "*.txt";
        String textFileName = "Textfile.txt";

        String textfileContent = getFileContents(getTestPath() + name.getMethodName() + TEST_INPUT_INFIX + textFileName);
        IFile textfile = getRoot().getJavaProject().getProject().getFile(textFileName);
        textfile.create(new ByteArrayInputStream(textfileContent.getBytes()), true, null);

        helper2(new String[]{"r.p1", "r"}, new String[][]{{"A"}, {"A"}}, "q");

        InputStreamReader reader = new InputStreamReader(textfile.getContents(true));
        StringBuffer newContent = new StringBuffer();
        try {
            int ch;
            while ((ch = reader.read()) != -1)
                newContent.append((char)ch);
        } finally {
            reader.close();
        }
        String definedContent = getFileContents(getTestPath() + name.getMethodName() + TEST_OUTPUT_INFIX + textFileName);
        assertEqualLines("invalid updating", definedContent, newContent.toString());
    }

