  @Test
  public void test46() throws Exception {
    IPackageFragment packageP1 = getRoot().createPackageFragment("p1", true, null);
    createCUfromTestFile(packageP1, "C");

    ICompilationUnit cu = createCUfromTestFile(getPackageP(), "A");
    IType classA = getType(cu, "A");

    assertEquals(
        "was supposed to pass", null, performRefactoring(createRefactoringDescriptor(classA, "B")));

    ICompilationUnit newcu = getPackageP().getCompilationUnit("B.java");
    ICompilationUnit newcuC = packageP1.getCompilationUnit("C.java");
    assertEqualLines(
        "invalid renaming A", getFileContents(getOutputTestFileName("B")), newcu.getSource());
    assertEqualLines(
        "invalid renaming C", getFileContents(getOutputTestFileName("C")), newcuC.getSource());
  }

