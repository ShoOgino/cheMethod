  /**
   * Creates an accessor for the given class.
   *
   * @param className the name of the class
   * @param classLoader the class loader to use, e.g. <code>getClass().getClassLoader()</code>
   * @param constructorTypes the types of the constructor arguments
   * @param constructorArgs the constructor arguments
   */
  public Accessor(
      String className,
      ClassLoader classLoader,
      Class[] constructorTypes,
      Object[] constructorArgs) {
    try {
      fClass = Class.forName(className, true, classLoader);
    } catch (ClassNotFoundException e) {
      fail();
    } catch (ExceptionInInitializerError e) {
      fail();
    }
    Constructor constructor = null;
    try {
      constructor = fClass.getDeclaredConstructor(constructorTypes);
    } catch (SecurityException e2) {
      fail();
    } catch (NoSuchMethodException e2) {
      fail();
    }
    Assert.isNotNull(constructor);
    constructor.setAccessible(true);
    try {
      fInstance = constructor.newInstance(constructorArgs);
    } catch (IllegalArgumentException e) {
      fail();
    } catch (InvocationTargetException e) {
      fail();
    } catch (InstantiationException e) {
      fail();
    } catch (IllegalAccessException e) {
      fail();
    }
  }

