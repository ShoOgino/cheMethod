  @Test
  public void testVisibility_bug131305() throws Exception {
    IPackageFragmentRoot sourceFolder = JavaProjectHelper.addSourceContainer(fJProject1, "src");

    IPackageFragment packUtil = sourceFolder.createPackageFragment("util", false, null);
    StringBuffer buf = new StringBuffer();
    buf.append("package util;\n");
    buf.append("\n");
    buf.append("public interface Map \n");
    buf.append("        public static interface Entry {\n");
    buf.append("        }\n");
    buf.append("}\n");
    packUtil.createCompilationUnit("Map.java", buf.toString(), false, null);

    buf = new StringBuffer();
    buf.append("package util;\n");
    buf.append("\n");
    buf.append("public interface HashMap implements Map {\n");
    buf.append("        private static interface Entry {\n");
    buf.append("        }\n");
    buf.append("}\n");
    packUtil.createCompilationUnit("HashMap.java", buf.toString(), false, null);

    IPackageFragment pack1 = sourceFolder.createPackageFragment("pack1", false, null);
    buf = new StringBuffer();
    buf.append("package pack1;\n");
    buf.append("\n");
    buf.append("import util.HashMap;\n");
    buf.append("import util.Map;\n");
    buf.append("import util.Map.Entry;\n");
    buf.append("\n");
    buf.append("public class A extends HashMap {\n");
    buf.append("        public A(Map m, Entry e) {\n");
    buf.append("        }\n");
    buf.append("}\n");
    ICompilationUnit cu = pack1.createCompilationUnit("A.java", buf.toString(), false, null);

    String[] order = new String[] {};
    IChooseImportQuery query =
        createQuery("testVisibility_bug131305", new String[] {}, new int[] {});

    OrganizeImportsOperation op = createOperation(cu, order, 99, false, true, true, query);
    op.run(null);

    assertEqualString(cu.getSource(), buf.toString()); // no changes, import for Entry is required
  }

