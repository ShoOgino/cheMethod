  @Test
  public void testRemoveClass() throws Exception {
    ResourceChangedEvent event =
        new ResourceChangedEvent(
            new File(BaseTest.class.getResource("/projects").getFile()),
            new ProjectItemModifiedEvent(
                ProjectItemModifiedEvent.EventType.DELETED,
                "projects",
                "test",
                "/test/src/main/java/org/eclipse/che/test/MyClass.java",
                false));
    NameEnvironmentAnswer answer =
        project
            .newSearchableNameEnvironment(DefaultWorkingCopyOwner.PRIMARY)
            .findType(CharOperation.splitOn('.', "org.eclipse.che.test.MyClass".toCharArray()));

    assertThat(answer).isNotNull();

    JavaModelManager.getJavaModelManager().deltaState.resourceChanged(event);

    answer =
        project
            .newSearchableNameEnvironment(DefaultWorkingCopyOwner.PRIMARY)
            .findType(CharOperation.splitOn('.', "org.eclipse.che.test.MyClass".toCharArray()));
    assertThat(answer).isNull();
  }

