  /* non java-doc
   * the 0th one is the one to rename
   */
  private void helper1(String packageNames[], String[][] packageFiles, String newPackageName)
      throws Exception {
    IPackageFragment[] packages = new IPackageFragment[packageNames.length];
    for (int i = 0; i < packageFiles.length; i++) {
      packages[i] = getRoot().createPackageFragment(packageNames[i], true, null);
      for (int j = 0; j < packageFiles[i].length; j++) {
        createCUfromTestFile(
            packages[i], packageFiles[i][j], packageNames[i].replace('.', '/') + "/");
        //DebugUtils.dump(cu.getElementName() + "\n" + cu.getSource());
      }
    }
    IPackageFragment thisPackage = packages[0];
    RefactoringStatus result =
        performRefactoring(createRefactoringDescriptor(thisPackage, newPackageName));
    assertNotNull("precondition was supposed to fail", result);
    //		if (fIsVerbose)
    //			DebugUtils.dump("" + result);
  }

