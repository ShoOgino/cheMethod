  @Test
  public void test18() throws Exception {
    ICompilationUnit cu = createCUfromTestFile(getPackageP(), "A");
    ICompilationUnit cuC = createCUfromTestFile(getPackageP(), "C");

    IType classB = getType(cu, "B");
    RenameMethodProcessor processor =
        new RenameNonVirtualMethodProcessor(classB.getMethod("m", new String[] {"I"}));
    RenameRefactoring refactoring = new RenameRefactoring(processor);
    processor.setNewElementName("kk");

    assertEquals("was supposed to pass", null, performRefactoring(refactoring));
    assertEqualLines(
        "invalid renaming A", getFileContents(getOutputTestFileName("A")), cu.getSource());
    assertEqualLines(
        "invalid renaming C", getFileContents(getOutputTestFileName("C")), cuC.getSource());
  }

