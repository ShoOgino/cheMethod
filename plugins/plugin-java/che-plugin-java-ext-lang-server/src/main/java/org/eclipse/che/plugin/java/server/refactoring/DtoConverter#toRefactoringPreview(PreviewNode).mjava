  /** Converts {@link PreviewNode} to {@link RefactoringPreview}. */
  public static RefactoringPreview toRefactoringPreview(PreviewNode node) {
    RefactoringPreview dto = DtoFactory.newDto(RefactoringPreview.class);
    dto.setId(node.getId());
    dto.setText(node.getText());
    dto.setImage(node.getImageDescriptor().getImage());
    dto.setEnabled(true);
    PreviewNode[] children = node.getChildren();
    if (children != null && children.length > 0) {
      List<RefactoringPreview> list = new ArrayList<>(children.length);
      for (PreviewNode child : children) {
        list.add(toRefactoringPreview(child));
      }
      dto.setChildrens(list);
    }
    return dto;
  }

