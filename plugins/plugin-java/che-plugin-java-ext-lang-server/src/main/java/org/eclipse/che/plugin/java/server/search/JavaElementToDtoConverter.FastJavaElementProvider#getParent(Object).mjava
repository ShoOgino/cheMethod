    @Override
    public Object getParent(Object element) {
      Object parent = internalGetParent(element);
      if (parent == null && element instanceof IAdaptable) {
        IAdaptable adaptable = (IAdaptable) element;
        Object javaElement = adaptable.getAdapter(IJavaElement.class);
        if (javaElement != null) {
          parent = internalGetParent(javaElement);
        } else {
          Object resource = adaptable.getAdapter(IResource.class);
          if (resource != null) {
            parent = internalGetParent(resource);
          }
        }
      }
      return parent;
    }

