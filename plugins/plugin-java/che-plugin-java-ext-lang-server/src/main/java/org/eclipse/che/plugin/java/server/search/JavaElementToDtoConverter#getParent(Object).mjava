    private Object getParent(Object child) {
        Object possibleParent = internalGetParent(child);
        if (possibleParent instanceof IJavaElement) {
            IJavaElement javaElement = (IJavaElement)possibleParent;
            for (int j = level; j < MAX_LEVEL + 1; j++) {
                for (int i = 0; i < JAVA_ELEMENT_TYPES[j].length; i++) {
                    if (javaElement.getElementType() == JAVA_ELEMENT_TYPES[j][i]) {
                        return null;
                    }
                }
            }
        } else if (possibleParent instanceof IResource) {
            IResource resource = (IResource)possibleParent;
            for (int j = level; j < MAX_LEVEL + 1; j++) {
                for (int i = 0; i < RESOURCE_TYPES[j].length; i++) {
                    if (resource.getType() == RESOURCE_TYPES[j][i]) {
                        return null;
                    }
                }
            }
        }

        return possibleParent;
    }

