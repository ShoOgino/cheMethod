  /**
   * Return java compiler preferences for current project by not empty path {@code projectpath}. If
   * {@code projectpath} if empty then return java compile preferences for current workspace.
   *
   * @param projectPath project path
   * @return java compiler preferences
   */
  @GET
  @Path("/all")
  @Consumes(APPLICATION_JSON)
  @Produces(APPLICATION_JSON)
  public Map<String, String> getAllParameters(@QueryParam("projectpath") String projectPath) {
    if (projectPath == null || projectPath.isEmpty()) {
      //noinspection unchecked
      CompilerOptions options = new CompilerOptions(new HashMap<>(JavaCore.getOptions()));
      //noinspection unchecked
      return options.getMap();
    }

    IJavaProject project = JAVA_MODEL.getJavaProject(projectPath);

    //noinspection unchecked
    Map<String, String> map = project.getOptions(true);
    CompilerOptions options = new CompilerOptions(map);

    //noinspection unchecked
    return options.getMap();
  }

