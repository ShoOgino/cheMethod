  /** Converts a URI into its canonical form. */
  public static URI canonicalURI(URI uri) {
    if (uri == null) return null;
    if (EFS.SCHEME_FILE.equals(uri.getScheme())) {
      // only create a new URI if it is different
      final IPath inputPath = URIUtil.toPath(uri);
      final IPath canonicalPath = canonicalPath(inputPath);
      if (inputPath == canonicalPath) return uri;
      return URIUtil.toURI(canonicalPath);
    }
    return uri;
  }

