  /**
   * Returns true if the workspace lock has already been acquired by this thread, and false
   * otherwise.
   */
  public boolean isLockAlreadyAcquired() {
    boolean result = false;
    try {
      boolean success = lock.acquire(0L);
      if (success) {
        // if lock depth is greater than one, then we already owned it
        // before
        result = lock.getDepth() > 1;
        lock.release();
      }
    } catch (InterruptedException e) {
      // ignore
    }
    return result;
  }

