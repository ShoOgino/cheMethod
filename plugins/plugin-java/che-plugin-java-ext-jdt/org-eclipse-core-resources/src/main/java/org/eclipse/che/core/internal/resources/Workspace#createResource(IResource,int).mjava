  public void createResource(IResource resource, int updateFlags) throws CoreException {
    try {
      IPath path = resource.getFullPath();
      switch (resource.getType()) {
        case IResource.FILE:
          String newName = path.lastSegment();
          String childWsPath = absolutize(path.removeLastSegments(1).toOSString());

          if (!fsManagerProvider.get().exists(childWsPath)) {
            throw new NotFoundException(
                "Can't find parent folder: " + path.removeLastSegments(1).toOSString());
          }
          String newFileWsPath = resolve(childWsPath, newName);
          fsManagerProvider.get().createFile(newFileWsPath);
          break;
        case IResource.FOLDER:
          String directoryWsPath = absolutize(path.toOSString());
          fsManagerProvider.get().createDir(directoryWsPath);
          break;
        case IResource.PROJECT:
          ProjectConfigImpl projectConfig = new ProjectConfigImpl();
          projectConfig.setPath(resource.getName());
          projectConfig.setName(resource.getName());
          projectConfig.setType(BaseProjectType.ID);
          projectManager.get().create(projectConfig, new HashMap<>());
          break;
        default:
          throw new UnsupportedOperationException();
      }
    } catch (ForbiddenException
        | ConflictException
        | ServerException
        | NotFoundException
        | BadRequestException e) {
      throw new CoreException(new Status(0, ResourcesPlugin.getPluginId(), e.getMessage(), e));
    }
  }

