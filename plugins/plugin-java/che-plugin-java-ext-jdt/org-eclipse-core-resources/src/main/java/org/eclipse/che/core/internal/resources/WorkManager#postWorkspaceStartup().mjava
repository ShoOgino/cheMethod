  /**
   * This method should be called at the end of the workspace startup, even if the startup failed.
   * It must be preceded by a call to <code>startup</code>. It releases the primary workspace lock
   * and ends applying the workspace rule to this thread.
   */
  void postWorkspaceStartup() {
    try {
      lock.release();
    } finally {
      // end rule in finally in case lock.release throws an exception
      jobManager.endRule(workspace.getRoot());
    }
  }

