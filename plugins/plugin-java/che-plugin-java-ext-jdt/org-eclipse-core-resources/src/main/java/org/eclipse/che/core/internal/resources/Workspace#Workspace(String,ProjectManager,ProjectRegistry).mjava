    public Workspace(String path, ProjectManager projectManager, ProjectRegistry projectRegistry) {
        this.wsPath = path;
        this.projectManager = projectManager;
        this.projectRegistry = projectRegistry;
        try {
            projectsRoot = projectManager.getProjectsRoot();
        } catch (ServerException e) {
            throw new IllegalStateException(e);
        }
        _workManager = new WorkManager(this);
        _workManager.startup(null);
        _workManager.postWorkspaceStartup();
    }

