  protected void save(String location) throws BackingStoreException {
    if (location == null) {
      //            if (DEBUG_PREFERENCE_GENERAL)
      //                PrefsMessages.message("Unable to determine location of preference file for node: " + absolutePath()); //$NON-NLS-1$
      return;
    }
    //        if (DEBUG_PREFERENCE_GENERAL)
    //            PrefsMessages.message("Saving preferences to file: " + location); //$NON-NLS-1$
    Properties table = convertToProperties(new SortedProperties(), EMPTY_STRING);
    if (table.isEmpty()) {
      File file = new File(location);
      // nothing to save. delete existing file if one exists.
      if (file.exists() && !file.delete()) {
        //                String message = NLS.bind(PrefsMessages.preferences_failedDelete, location);
        ResourcesPlugin.log(
            new Status(
                IStatus.WARNING,
                PrefsMessages.OWNER_NAME,
                IStatus.WARNING,
                "preferences save failed, file was delete",
                null));
      }
      return;
    }
    table.put(VERSION_KEY, VERSION_VALUE);
    write(table, location);
  }

