  @Override
  public IProject[] getProjects() {
    ProjectRegistry projectRegistry = workspace.getProjectRegistry();
    List<IProject> projects = new ArrayList<>();
    List<RegisteredProject> rootProjects = projectRegistry.getProjects();
    for (RegisteredProject rootProject : rootProjects) {
      Project project = new Project(new Path(rootProject.getPath()), workspace);

      projects.add(project);
    }

    return projects.toArray(new IProject[projects.size()]);
  }

