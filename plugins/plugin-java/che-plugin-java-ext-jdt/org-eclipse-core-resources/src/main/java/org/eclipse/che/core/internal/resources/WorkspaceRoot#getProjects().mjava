  @Override
  public IProject[] getProjects() {
    ProjectManager projectManager = workspace.getProjectRegistry();
    Set<IProject> projects = new HashSet<>();
    Set<RegisteredProject> rootProjects = projectManager.getAll();
    for (RegisteredProject rootProject : rootProjects) {
      Project project = new Project(new Path(rootProject.getPath()), workspace);

      projects.add(project);
    }

    return projects.toArray(new IProject[projects.size()]);
  }

