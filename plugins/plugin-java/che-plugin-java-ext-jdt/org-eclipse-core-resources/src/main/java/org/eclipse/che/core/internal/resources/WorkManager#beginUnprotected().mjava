  /**
   * Releases the workspace lock without changing the nested operation depth. Must be followed
   * eventually by endUnprotected. Any beginUnprotected/endUnprotected pair must be done entirely
   * within the scope of a checkIn/checkOut pair. Returns the old lock depth.
   *
   * @see #endUnprotected(int)
   */
  public int beginUnprotected() {
    int depth = lock.getDepth();
    for (int i = 0; i < depth; i++) lock.release();
    return depth;
  }

