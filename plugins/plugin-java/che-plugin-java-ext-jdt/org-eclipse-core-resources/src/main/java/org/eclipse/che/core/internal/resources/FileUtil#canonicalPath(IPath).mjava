  /** Converts an IPath into its canonical form for the local file system. */
  public static IPath canonicalPath(IPath path) {
    if (path == null) return null;
    try {
      final String pathString = path.toOSString();
      final String canonicalPath = new java.io.File(pathString).getCanonicalPath();
      // only create a new path if necessary
      if (canonicalPath.equals(pathString)) return path;
      return new Path(canonicalPath);
    } catch (IOException e) {
      return path;
    }
  }

