  /* (non-Javadoc)
   * @see org.eclipse.core.internal.events.ILifecycleListener#handleEvent(org.eclipse.core.internal.events.LifecycleEvent)
   */
  public void handleEvent(LifecycleEvent event) {
    //clear resource rule factory for projects that are about to be closed
    //or deleted. It is ok to do this during a PRE event because the rule
    //has already been obtained at this point.
    switch (event.kind) {
      case LifecycleEvent.PRE_PROJECT_CLOSE:
      case LifecycleEvent.PRE_PROJECT_DELETE:
      case LifecycleEvent.PRE_PROJECT_MOVE:
        setRuleFactory((IProject) event.resource, null);
    }
  }

