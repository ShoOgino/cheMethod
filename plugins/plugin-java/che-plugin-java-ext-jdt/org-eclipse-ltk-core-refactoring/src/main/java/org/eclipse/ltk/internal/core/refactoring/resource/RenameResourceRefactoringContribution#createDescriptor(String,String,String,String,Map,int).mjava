  /* (non-Javadoc)
   * @see org.eclipse.ltk.core.refactoring.RefactoringContribution#createDescriptor(java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.util.Map, int)
   */
  public RefactoringDescriptor createDescriptor(
      String id, String project, String description, String comment, Map arguments, int flags) {
    String pathString = (String) arguments.get(ATTRIBUTE_INPUT);
    String newName = (String) arguments.get(ATTRIBUTE_NAME);

    boolean updateReferences =
        "true".equals(arguments.get(ATTRIBUTE_UPDATE_REFERENCES)); // $NON-NLS-1$

    if (pathString != null && newName != null) {
      IPath path = ResourceProcessors.handleToResourcePath(project, pathString);
      RenameResourceDescriptor descriptor = new RenameResourceDescriptor();
      descriptor.setProject(project);
      descriptor.setDescription(description);
      descriptor.setComment(comment);
      descriptor.setFlags(flags);
      descriptor.setNewName(newName);
      descriptor.setResourcePath(path);
      descriptor.setUpdateReferences(updateReferences);
      return descriptor;
    }
    throw new IllegalArgumentException(
        "Can not restore RenameResourceDescriptor from map"); // $NON-NLS-1$
  }

