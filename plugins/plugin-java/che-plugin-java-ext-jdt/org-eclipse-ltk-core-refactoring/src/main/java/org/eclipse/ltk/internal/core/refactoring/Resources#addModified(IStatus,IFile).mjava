  private static IStatus addModified(IStatus status, IFile file) {
    IStatus entry =
        new Status(
            IStatus.ERROR,
            RefactoringCorePlugin.getPluginId(),
            IRefactoringCoreStatusCodes.VALIDATE_EDIT_CHANGED_CONTENT,
            Messages.format(
                RefactoringCoreMessages.Resources_fileModified,
                BasicElementLabels.getPathLabel(file.getFullPath(), false)),
            null);
    if (status == null) {
      return entry;
    } else if (status.isMultiStatus()) {
      ((MultiStatus) status).add(entry);
      return status;
    } else {
      MultiStatus result =
          new MultiStatus(
              RefactoringCorePlugin.getPluginId(),
              IRefactoringCoreStatusCodes.VALIDATE_EDIT_CHANGED_CONTENT,
              RefactoringCoreMessages.Resources_modifiedResources,
              null);
      result.add(status);
      result.add(entry);
      return result;
    }
  }

