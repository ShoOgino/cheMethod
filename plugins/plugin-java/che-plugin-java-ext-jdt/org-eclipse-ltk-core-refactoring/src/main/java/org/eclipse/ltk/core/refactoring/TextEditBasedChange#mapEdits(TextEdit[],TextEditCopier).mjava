  TextEdit[] mapEdits(TextEdit[] edits, TextEditCopier copier) {
    if (edits == null) return null;
    final List result = new ArrayList(edits.length);
    for (int i = 0; i < edits.length; i++) {
      TextEdit edit = copier.getCopy(edits[i]);
      if (edit != null) result.add(edit);
    }
    return (TextEdit[]) result.toArray(new TextEdit[result.size()]);
  }

