  /* (non-Javadoc)
   * @see org.eclipse.ltk.core.refactoring.Change#getName()
   */
  public String getName() {
    IPath path = fResourcePath.makeRelative();
    String label =
        Messages.format(
            RefactoringCoreMessages.DeleteResourceChange_name,
            BasicElementLabels.getPathLabel(path, false));

    if (path.segmentCount() == 1) {
      IResource resource = getResource();
      if (resource != null) {
        IPath location = resource.getLocation();
        if (location != null) {
          label =
              label
                  + BasicElementLabels.CONCAT_STRING
                  + BasicElementLabels.getPathLabel(location, true);
        } else {
          URI uri = resource.getLocationURI();
          if (uri != null) {
            label =
                label
                    + BasicElementLabels.CONCAT_STRING
                    + BasicElementLabels.getURLPart(uri.toString());
          }
        }
      }
    }
    return label;
  }

