	/**
	 * Create a {@link ResourceUndoState} object given the specified resource. The resource
	 * is assumed to exist.
	 *
	 * @param resource
	 *            the resource from which a state should be created
	 * @return the resource state
	 */
	public static ResourceUndoState fromResource(IResource resource) {
		if (resource.getType() == IResource.PROJECT) {
			return new ProjectUndoState((IProject) resource);
		} else if (resource.getType() == IResource.FOLDER) {
			return new FolderUndoState((IFolder) resource);
		} else if (resource.getType() == IResource.FILE) {
			return new FileUndoState((IFile) resource);
		} else {
			throw new IllegalArgumentException();
		}
	}

