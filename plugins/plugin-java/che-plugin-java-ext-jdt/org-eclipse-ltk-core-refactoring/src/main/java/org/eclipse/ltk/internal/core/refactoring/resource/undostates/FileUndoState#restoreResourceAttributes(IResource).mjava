  protected void restoreResourceAttributes(IResource resource) throws CoreException {
    super.restoreResourceAttributes(resource);
    Assert.isLegal(resource instanceof IFile);
    IFile file = (IFile) resource;
    if (charset != null) {
      file.setCharset(charset, null);
    }
  }

