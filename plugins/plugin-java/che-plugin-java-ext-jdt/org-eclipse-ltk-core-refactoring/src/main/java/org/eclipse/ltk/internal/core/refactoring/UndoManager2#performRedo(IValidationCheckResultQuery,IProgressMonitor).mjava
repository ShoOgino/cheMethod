  public void performRedo(IValidationCheckResultQuery query, IProgressMonitor pm)
      throws CoreException {
    IUndoableOperation redo =
        fOperationHistory.getRedoOperation(RefactoringCorePlugin.getUndoContext());
    UndoableOperation2ChangeAdapter changeOperation = getUnwrappedOperation(redo);
    if (changeOperation == null)
      throw new CoreException(
          new Status(
              IStatus.ERROR,
              RefactoringCorePlugin.getPluginId(),
              IStatus.ERROR,
              RefactoringCoreMessages.UndoManager2_no_change,
              null));
    if (query == null) query = new NullQuery();
    try {
      fOperationHistory.redoOperation(redo, pm, new QueryAdapter(query));
    } catch (ExecutionException e) {
      handleException(e);
    }
  }

