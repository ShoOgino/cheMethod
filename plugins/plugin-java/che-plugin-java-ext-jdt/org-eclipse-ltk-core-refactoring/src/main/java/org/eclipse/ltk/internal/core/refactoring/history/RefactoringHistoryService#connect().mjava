	/**
	 * {@inheritDoc}
	 */
	public void connect() {
		fReferenceCount++;
		if (fReferenceCount == 1) {
			fOperationListener= new IOperationHistoryListener() {
				public void historyNotification(final OperationHistoryEvent event) {
					performHistoryNotification(event);
				}
			};
			OperationHistoryFactory.getOperationHistory().addOperationHistoryListener(fOperationListener);

			fResourceListener= new IResourceChangeListener() {
				public void resourceChanged(final IResourceChangeEvent event) {
					peformResourceChanged(event);
				}
			};
			ResourcesPlugin.getWorkspace().addResourceChangeListener(fResourceListener, IResourceChangeEvent.PRE_CLOSE | IResourceChangeEvent.POST_CHANGE);
		}
	}

