  public static String[] computeAffectedNatures(IResource resource) throws CoreException {
    IProject project = resource.getProject();
    Set result = new HashSet();
    Set visitedProjects = new HashSet();
    computeNatures(result, visitedProjects, project);
    return (String[]) result.toArray(new String[result.size()]);
  }

