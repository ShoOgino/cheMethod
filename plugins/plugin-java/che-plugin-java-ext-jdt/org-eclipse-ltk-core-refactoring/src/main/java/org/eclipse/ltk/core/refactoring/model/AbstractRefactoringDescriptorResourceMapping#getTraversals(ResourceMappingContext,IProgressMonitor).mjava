  /** {@inheritDoc} */
  public final ResourceTraversal[] getTraversals(
      final ResourceMappingContext context, final IProgressMonitor monitor) throws CoreException {
    if (fResourceTraversals == null) {
      fResourceTraversals = new ResourceTraversal[] {};
      final long stamp = fDescriptor.getTimeStamp();
      if (stamp >= 0) {
        final IPath path = RefactoringHistoryManager.stampToPath(stamp);
        if (path != null) {
          final IProject[] projects = getProjects();
          if (projects != null && projects.length == 1 && projects[0] != null) {
            final IFolder folder =
                projects[0]
                    .getFolder(RefactoringHistoryService.NAME_HISTORY_FOLDER)
                    .getFolder(path);
            fResourceTraversals =
                new ResourceTraversal[] {
                  new ResourceTraversal(
                      new IResource[] {folder.getFile(RefactoringHistoryService.NAME_HISTORY_FILE)},
                      IResource.DEPTH_ZERO,
                      IResource.NONE),
                  new ResourceTraversal(
                      new IResource[] {folder.getFile(RefactoringHistoryService.NAME_INDEX_FILE)},
                      IResource.DEPTH_ZERO,
                      IResource.NONE)
                };
          }
        }
      }
    }
    final ResourceTraversal[] traversals = new ResourceTraversal[fResourceTraversals.length];
    System.arraycopy(fResourceTraversals, 0, traversals, 0, fResourceTraversals.length);
    return traversals;
  }

