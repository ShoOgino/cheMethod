  /**
   * Returns the resolved refactoring descriptor associated with the specified proxy.
   *
   * <p>The refactoring history must be in connected state.
   *
   * @param proxy the refactoring descriptor proxy
   * @param monitor the progress monitor to use, or <code>null</code>
   * @return the resolved refactoring descriptor, or <code>null</code>
   */
  public RefactoringDescriptor requestDescriptor(
      final RefactoringDescriptorProxy proxy, IProgressMonitor monitor) {
    Assert.isNotNull(proxy);
    if (monitor == null) monitor = new NullProgressMonitor();
    try {
      final RefactoringHistoryManager manager = getManager(proxy.getProject());
      if (manager != null) return manager.requestDescriptor(proxy, monitor);
    } finally {
      monitor.done();
    }
    return null;
  }

