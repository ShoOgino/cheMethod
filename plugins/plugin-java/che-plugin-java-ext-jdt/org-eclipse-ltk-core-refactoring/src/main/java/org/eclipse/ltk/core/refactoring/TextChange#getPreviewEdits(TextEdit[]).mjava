  /**
   * Returns the edits that were executed during preview generation instead of the given array of
   * original edits. The method requires that <code>setKeepPreviewEdits</code> is set to <code>true
   * </code> and that a preview has been requested via one of the <code>
   * getPreview*</code> methods.
   *
   * <p>The method returns an empty array if none of the original edits is managed by this text
   * change.
   *
   * @param originals an array of original edits managed by this text change
   * @return an array of edits containing the corresponding edits executed during preview generation
   */
  public TextEdit[] getPreviewEdits(TextEdit[] originals) {
    Assert.isTrue(getKeepPreviewEdits() && fCopier != null && originals != null);
    if (originals.length == 0) return new TextEdit[0];
    List result = new ArrayList(originals.length);
    for (int i = 0; i < originals.length; i++) {
      TextEdit copy = fCopier.getCopy(originals[i]);
      if (copy != null) result.add(copy);
    }
    return (TextEdit[]) result.toArray(new TextEdit[result.size()]);
  }

