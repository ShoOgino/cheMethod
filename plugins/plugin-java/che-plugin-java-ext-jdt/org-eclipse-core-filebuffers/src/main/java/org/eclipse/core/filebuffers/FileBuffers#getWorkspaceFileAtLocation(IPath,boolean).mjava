  /**
   * Returns the workspace file at the given location if such a file exists.
   *
   * @param location the location
   * @param isNormalized <code>true</code> if the given location is already normalized
   * @return the workspace file at the location or <code>null</code> if no such file exists or if
   *     the location is not a valid location
   * @since 3.3
   */
  public static IFile getWorkspaceFileAtLocation(IPath location, boolean isNormalized) {
    IPath normalized;
    if (isNormalized) normalized = location;
    else normalized = normalizeLocation(location);

    if (normalized.segmentCount() >= 2) {
      // @see IContainer#getFile for the required number of segments
      IFile file = WORKSPACE_ROOT.getFile(normalized);
      if (file != null && file.exists()) return file;
    }
    return null;
  }

