  /*
   * @see org.eclipse.core.filebuffers.IFileBuffer#commit(org.eclipse.core.runtime.IProgressMonitor, boolean)
   */
  public void commit(IProgressMonitor monitor, boolean overwrite) throws CoreException {
    if (!isDisconnected() && fCanBeSaved) {

      fManager.fireStateChanging(this);

      try {
        commitFileBufferContent(monitor, overwrite);
      } catch (CoreException x) {
        fManager.fireStateChangeFailed(this);
        throw x;
      } catch (RuntimeException x) {
        fManager.fireStateChangeFailed(this);
        throw x;
      }

      fCanBeSaved = false;
      addFileBufferContentListeners();
      fManager.fireDirtyStateChanged(this, fCanBeSaved);
    }
  }

