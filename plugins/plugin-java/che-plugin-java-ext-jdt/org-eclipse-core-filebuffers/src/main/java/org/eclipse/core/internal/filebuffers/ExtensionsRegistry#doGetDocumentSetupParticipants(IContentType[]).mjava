  /**
   * Returns the set of setup participants for the given content types.
   *
   * @param contentTypes the contentTypes to be used for lookup
   * @return the sharable set of document setup participants
   */
  private List doGetDocumentSetupParticipants(IContentType[] contentTypes) {
    Set resultSet = new HashSet();
    int i = 0;
    while (i < contentTypes.length) {
      Set set = (Set) fSetupParticipantDescriptors.get(new ContentTypeAdapter(contentTypes[i++]));
      if (set != null) resultSet.addAll(set);
    }

    List participants = new ArrayList();
    Iterator e = resultSet.iterator();
    while (e.hasNext()) {
      IConfigurationElement entry = (IConfigurationElement) e.next();
      Object participant = getExtension(entry, fSetupParticipants, IDocumentSetupParticipant.class);
      if (participant != null) participants.add(participant);
    }

    return participants.isEmpty() ? null : participants;
  }

