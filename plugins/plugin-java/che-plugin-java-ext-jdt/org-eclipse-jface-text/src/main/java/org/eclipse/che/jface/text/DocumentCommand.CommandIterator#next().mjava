    /*
     * @see java.util.Iterator#next()
     */
    public Object next() {

      if (!hasNext()) throw new NoSuchElementException();

      if (fCommand == null) return fIterator.next();

      if (!fIterator.hasNext()) {
        final Command tempCommand = fCommand;
        fCommand = null;
        return tempCommand;
      }

      final Command command = (Command) fIterator.next();
      final int compareValue = command.compareTo(fCommand);

      if ((compareValue < 0) ^ !fForward) {
        return command;

      } else if ((compareValue > 0) ^ !fForward) {
        final Command tempCommand = fCommand;
        fCommand = command;
        return tempCommand;

      } else {
        throw new IllegalArgumentException();
      }
    }

