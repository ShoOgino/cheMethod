  /**
   * Saves the templates to the preferences.
   *
   * @throws IOException if the templates cannot be written
   */
  public void save() throws IOException {
    //		ArrayList custom= new ArrayList();
    //		for (Iterator it= fTemplates.iterator(); it.hasNext();) {
    //			TemplatePersistenceData data= (TemplatePersistenceData) it.next();
    //			if (data.isCustom() && !(data.isUserAdded() && data.isDeleted())) // don't save deleted user-added templates
    //				custom.add(data);
    //		}
    //
    //		StringWriter output= new StringWriter();
    //		TemplateReaderWriter writer= new TemplateReaderWriter();
    //		writer.save((TemplatePersistenceData[]) custom.toArray(new TemplatePersistenceData[custom.size()]), output);
    //
    //		fIgnorePreferenceStoreChanges= true;
    //		try {
    //			fPreferenceStore.setValue(fKey, output.toString());
    //			if (fPreferenceStore instanceof IPersistentPreferenceStore)
    //				((IPersistentPreferenceStore)fPreferenceStore).save();
    //		} finally {
    //			fIgnorePreferenceStoreChanges= false;
    //		}
  }

