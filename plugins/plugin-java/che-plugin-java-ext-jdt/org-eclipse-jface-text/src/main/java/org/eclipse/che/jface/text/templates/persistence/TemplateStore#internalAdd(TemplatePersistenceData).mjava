  /**
   * Adds a template to the internal store. The added templates must have a unique id.
   *
   * @param data the template data to add
   */
  protected void internalAdd(TemplatePersistenceData data) {
    if (!data.isCustom()) {
      // check if the added template is not a duplicate id
      String id = data.getId();
      for (Iterator it = fTemplates.iterator(); it.hasNext(); ) {
        TemplatePersistenceData d2 = (TemplatePersistenceData) it.next();
        if (d2.getId() != null && d2.getId().equals(id)) return;
      }
      fTemplates.add(data);
    }
  }

