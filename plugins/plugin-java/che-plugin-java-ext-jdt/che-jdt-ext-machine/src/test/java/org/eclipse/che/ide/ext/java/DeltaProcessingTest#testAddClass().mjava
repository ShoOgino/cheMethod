    @Test
    public void testAddClass() throws Exception {

        File workspace = new File(BaseTest.class.getResource("/projects").getFile());
        ResourceChangedEvent event = new ResourceChangedEvent(workspace,new ProjectItemModifiedEvent(ProjectItemModifiedEvent.EventType.CREATED,"projects","test", "/test/src/main/java/com/codenvy/test/NewClass.java", false));


        NameEnvironmentAnswer answer =
                project.newSearchableNameEnvironment(DefaultWorkingCopyOwner.PRIMARY).findType(CharOperation.splitOn('.', "com.codenvy.test.NewClass".toCharArray()));
        assertThat(answer).isNull();

        FileOutputStream outputStream = new FileOutputStream(new File(workspace, "/test/src/main/java/com/codenvy/test/NewClass.java"));
        outputStream.write("packagecom.codenvy.test;\n public class NewClass{}\n".getBytes());
        outputStream.close();

        JavaModelManager.getJavaModelManager().deltaState.resourceChanged(event);
        project.creteNewNameEnvironment();
        answer =
                project.newSearchableNameEnvironment(DefaultWorkingCopyOwner.PRIMARY).findType(CharOperation.splitOn('.', "com.codenvy.test.NewClass".toCharArray()));
        assertThat(answer).isNotNull();
    }

