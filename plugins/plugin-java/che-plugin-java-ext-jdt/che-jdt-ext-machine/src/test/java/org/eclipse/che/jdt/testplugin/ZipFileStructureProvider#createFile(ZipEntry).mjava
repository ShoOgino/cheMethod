    /**
     * Creates a new file zip entry with the specified name.
     */
    protected void createFile(ZipEntry entry) {
        IPath pathname = new Path(entry.getName());
        ZipEntry parent;
        if (pathname.segmentCount() == 1) {
            parent = root;
        } else {
            parent = (ZipEntry)directoryEntryCache.get(pathname
                                                               .removeLastSegments(1));
        }

        addToChildren(parent, entry);
    }

