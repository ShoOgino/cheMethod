    @Test
    public void testCreateLinkedRename() throws Exception {
        StringBuilder b = new StringBuilder();
        b.append("package p;\n");
        b.append("public class A{}\n");

        ICompilationUnit unit = getPackageP().createCompilationUnit("A.java", b.toString(), false, null);
        IType type = unit.getAllTypes()[0];
        RenameRefactoringSession refactoring = manager.createRenameRefactoring(type, unit, b.indexOf("A"), true);
        assertThat(refactoring).isNotNull();
        assertThat(refactoring.getSessionId()).isNotNull().isNotEmpty();
        assertThat(refactoring.getLinkedModeModel()).isNotNull();
        assertThat(refactoring.isMastShowWizard()).isFalse();
    }

