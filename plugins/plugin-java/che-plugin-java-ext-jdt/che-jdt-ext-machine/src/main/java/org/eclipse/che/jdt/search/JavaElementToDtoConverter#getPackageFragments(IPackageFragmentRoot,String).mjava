    private List<PackageFragment> getPackageFragments(IPackageFragmentRoot parent, String projectPath) throws JavaModelException {
        List<PackageFragment> result = new ArrayList<>();
        Set<Object> objects = childrens.get(parent);
        if (objects == null) {
            return result;
        }

        for (Object object : objects) {
            if (object instanceof IPackageFragment) {
                IPackageFragment packageFragment = (IPackageFragment)object;
                PackageFragment fragment = DtoFactory.newDto(PackageFragment.class);
                fragment.setProjectPath(projectPath);
                fragment.setPath(packageFragment.getPath().toOSString());
                fragment.setHandleIdentifier(packageFragment.getHandleIdentifier());
                fragment.setElementName(packageFragment.getElementName());
                fragment.setKind(packageFragment.getKind());
                fragment.setDefaultPackage(packageFragment.isDefaultPackage());
                List<CompilationUnit> compilationUnits = new ArrayList<>();
                List<ClassFile> classFiles = new ArrayList<>();
                addCompilationUnitsAndClassFiles(object, compilationUnits, classFiles);
                fragment.setCompilationUnits(compilationUnits);
                fragment.setClassFiles(classFiles);

                result.add(fragment);
            }
        }

        return result;
    }

