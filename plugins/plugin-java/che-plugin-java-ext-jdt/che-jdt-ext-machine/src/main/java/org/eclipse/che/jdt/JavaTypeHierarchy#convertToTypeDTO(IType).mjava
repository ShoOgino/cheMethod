    private Type convertToTypeDTO(IType type) throws JavaModelException {
        Type dto = DtoFactory.newDto(Type.class);
        String typeName = type.getElementName();
        if (typeName.isEmpty()) {
            dto.setElementName("Anonymous in " + type.getParent().getElementName());
        } else {
            dto.setElementName(type.getElementName());
        }
        if (type.isBinary()) {
            dto.setRootPath(type.getFullyQualifiedName());
            dto.setLibId(type.getAncestor(IPackageFragmentRoot.PACKAGE_FRAGMENT_ROOT).hashCode());
            dto.setBinary(true);
        } else {
            dto.setRootPath(type.getPath().toOSString());
            dto.setBinary(false);
        }
        setRange(dto, type);

        return dto;
    }

