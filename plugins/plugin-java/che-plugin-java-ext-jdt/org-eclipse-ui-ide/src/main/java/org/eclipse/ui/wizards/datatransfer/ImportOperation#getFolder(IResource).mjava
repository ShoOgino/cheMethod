    /**
     * Returns the resource either casted to or adapted to an IFolder. 
     *
     * @param resource resource to cast/adapt
     * @return the resource either casted to or adapted to an IFolder.
     * 	<code>null</code> if the resource does not adapt to IFolder
     */
    IFolder getFolder(IResource resource) {
        if (resource instanceof IFolder) {
            return (IFolder)resource;
        }
        Object adapted = ((IAdaptable)resource).getAdapter(IFolder.class);
        if (adapted == null) {
            return null;
        }
        return (IFolder)adapted;
    }

