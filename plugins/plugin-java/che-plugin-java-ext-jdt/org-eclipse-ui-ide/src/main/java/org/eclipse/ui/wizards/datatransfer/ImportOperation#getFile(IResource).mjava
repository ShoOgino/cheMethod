    /**
     * Returns the resource either casted to or adapted to an IFile. 
     *
     * @param resource resource to cast/adapt
     * @return the resource either casted to or adapted to an IFile.
     * 	<code>null</code> if the resource does not adapt to IFile 
     */
    IFile getFile(IResource resource) {
        if (resource instanceof IFile) {
            return (IFile)resource;
        }
        Object adapted = ((IAdaptable)resource).getAdapter(IFile.class);
        if (adapted == null) {
            return null;
        }
        return (IFile)adapted;

    }

