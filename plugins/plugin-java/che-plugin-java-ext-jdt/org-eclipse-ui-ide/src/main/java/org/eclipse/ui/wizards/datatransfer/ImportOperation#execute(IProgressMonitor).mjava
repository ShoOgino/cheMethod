  /* (non-Javadoc)
   * Method declared on WorkbenchModifyOperation.
   * Imports the specified file system objects from the file system.
   */
  protected void execute(IProgressMonitor progressMonitor) {

    monitor = progressMonitor;

    try {
      if (selectedFiles == null) {
        //Set the amount to 1000 as we have no idea of how long this will take
        monitor.beginTask("Importing:", 1000);
        ContainerGenerator generator = new ContainerGenerator(destinationPath);
        monitor.worked(30);
        validateFiles(Arrays.asList(new Object[] {source}));
        monitor.worked(50);
        destinationContainer = generator.generateContainer(new SubProgressMonitor(monitor, 50));
        importRecursivelyFrom(source, POLICY_DEFAULT);
        //Be sure it finishes
        monitor.worked(90);
      } else {
        // Choose twice the selected files size to take folders into account
        int creationCount = selectedFiles.size();
        monitor.beginTask("Importing:", creationCount + 100);
        ContainerGenerator generator = new ContainerGenerator(destinationPath);
        monitor.worked(30);
        validateFiles(selectedFiles);
        monitor.worked(50);
        destinationContainer = generator.generateContainer(new SubProgressMonitor(monitor, 50));
        importFileSystemObjects(selectedFiles);
        monitor.done();
      }
    } catch (CoreException e) {
      errorTable.add(e.getStatus());
    } finally {
      monitor.done();
    }
  }

