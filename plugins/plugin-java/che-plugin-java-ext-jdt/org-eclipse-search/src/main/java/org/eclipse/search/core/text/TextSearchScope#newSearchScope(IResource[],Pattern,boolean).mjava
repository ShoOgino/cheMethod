  /**
   * Creates a scope that consists of all files that match the <code>fileNamePattern</code> and that
   * either are one of the roots, or have one of the roots in their parent chain. If <code>
   * visitDerivedResources</code> is not enabled, all files that are marked derived or have a
   * derived container in their parent chain are not part of the scope.
   *
   * @param rootResources the resources that are the roots of the scope
   * @param fileNamePattern file name pattern for this scope.
   * @param visitDerivedResources if set also derived folders and files are searched.
   * @return a scope the search scope
   */
  public static TextSearchScope newSearchScope(
      IResource[] rootResources, Pattern fileNamePattern, boolean visitDerivedResources) {
    FileNamePatternSearchScope scope =
        FileNamePatternSearchScope.newSearchScope(
            new String(), rootResources, visitDerivedResources);
    scope.setFileNamePattern(fileNamePattern);
    return scope;
  }

