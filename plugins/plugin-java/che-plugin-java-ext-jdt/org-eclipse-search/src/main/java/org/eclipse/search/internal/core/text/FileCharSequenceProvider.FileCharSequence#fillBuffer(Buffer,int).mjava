    private boolean fillBuffer(Buffer buffer, int pos) throws CoreException, IOException {
      if (fReaderPos > pos) {
        initializeReader();
      }

      do {
        boolean endReached = buffer.fill(fReader, fReaderPos);
        fReaderPos = buffer.getEndOffset();
        if (endReached) {
          fLength = new Integer(fReaderPos); // at least we know the size of the file now
          fReaderPos = Integer.MAX_VALUE; // will have to reset next time
          return true;
        }
      } while (fReaderPos <= pos);

      return true;
    }

