  /**
   * Runs the given search query. This method will execute the query in the same thread as the
   * caller. This method blocks until the query is finished. Running a query adds it to the set of
   * known queries and notifies any registered {@link IQueryListener}s about the addition.
   *
   * <p>The result will be shown in a search view that will be activated. That means a call to
   * {@link #activateSearchResultView} is not required.
   *
   * @param context the runnable context to run the query in
   * @param query the query to execute
   * @return a status indicating whether the query ran correctly, including {@link IStatus#CANCEL}
   *     to signal that the query was canceled.
   */
  public static IStatus runQueryInForeground(IRunnableContext context, ISearchQuery query) {
    if (query == null) {
      throw new IllegalArgumentException("query must not be null"); // $NON-NLS-1$
    }
    return runQueryInForeground(context, query, null);
  }

