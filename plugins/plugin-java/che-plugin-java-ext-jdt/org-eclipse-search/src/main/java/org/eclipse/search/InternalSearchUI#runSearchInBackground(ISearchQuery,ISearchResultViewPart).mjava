  public boolean runSearchInBackground(ISearchQuery query, ISearchResultViewPart view) {
    if (isQueryRunning(query)) return false;

    //		// prepare view
    //		if (view == null) {
    //			getSearchViewManager().activateSearchView(true);
    //		} else {
    //			getSearchViewManager().activateSearchView(view);
    //		}

    addQuery(query);

    SearchJobRecord sjr = new SearchJobRecord(query);
    fSearchJobs.put(query, sjr);

    Job job = new InternalSearchJob(sjr);
    job.setPriority(Job.BUILD);
    job.setUser(true);

    //		IWorkbenchSiteProgressService service= getProgressService();
    //		if (service != null) {
    //			service.schedule(job, 0, true);
    //		} else {
    job.schedule();
    //		}

    return true;
  }

