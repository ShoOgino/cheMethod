  private static ASTNode getDeclaringNode(ASTNode selectedNode) {
    ASTNode declaringNode = null;
    if (selectedNode instanceof MethodDeclaration) {
      declaringNode = selectedNode;
    } else if (selectedNode instanceof SimpleName) {
      StructuralPropertyDescriptor locationInParent = selectedNode.getLocationInParent();
      if (locationInParent == MethodDeclaration.NAME_PROPERTY
          || locationInParent == TypeDeclaration.NAME_PROPERTY) {
        declaringNode = selectedNode.getParent();
      } else if (locationInParent == VariableDeclarationFragment.NAME_PROPERTY) {
        declaringNode = selectedNode.getParent().getParent();
      }
    }
    return declaringNode;
  }

