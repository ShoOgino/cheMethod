  @Override
  public Change postCreateChange(Change[] participantChanges, IProgressMonitor pm)
      throws CoreException {
    if (fQualifiedNameSearchResult != null) {
      CompositeChange parent = (CompositeChange) fRenamePackageChange.getParent();
      try {
        /*
         * Sneak text changes in before the package rename to ensure
         * modified files are still at original location (see
         * https://bugs.eclipse.org/bugs/show_bug.cgi?id=154238)
         */
        parent.remove(fRenamePackageChange);
        parent.add(
            fQualifiedNameSearchResult.getSingleChange(
                Changes.getModifiedFiles(participantChanges)));
      } finally {
        fQualifiedNameSearchResult = null;
        parent.add(fRenamePackageChange);
        fRenamePackageChange = null;
      }
    }
    return null;
  }

