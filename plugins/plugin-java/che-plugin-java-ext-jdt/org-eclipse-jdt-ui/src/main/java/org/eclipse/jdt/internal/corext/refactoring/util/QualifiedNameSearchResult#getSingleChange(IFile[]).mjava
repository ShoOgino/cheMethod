  public Change getSingleChange(IFile[] alreadyTouchedFiles) {
    Collection<TextChange> values = fChanges.values();
    if (values.size() == 0) return null;

    CompositeChange result =
        new CompositeChange(RefactoringCoreMessages.QualifiedNameSearchResult_change_name);
    result.markAsSynthetic();
    List<IFile> files = Arrays.asList(alreadyTouchedFiles);
    for (Iterator<TextChange> iter = values.iterator(); iter.hasNext(); ) {
      TextFileChange change = (TextFileChange) iter.next();
      if (!files.contains(change.getFile())) {
        result.add(change);
      }
    }
    return result;
  }

