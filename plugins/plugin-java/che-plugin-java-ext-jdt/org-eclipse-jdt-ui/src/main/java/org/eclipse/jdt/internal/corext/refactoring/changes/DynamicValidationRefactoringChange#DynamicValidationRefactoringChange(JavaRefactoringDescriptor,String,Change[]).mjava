  /**
   * Creates a new dynamic validation refactoring change.
   *
   * @param descriptor the refactoring descriptor
   * @param name the name of the change
   * @param changes the changes
   */
  public DynamicValidationRefactoringChange(
      final JavaRefactoringDescriptor descriptor, final String name, final Change[] changes) {
    super(name, changes);
    Assert.isNotNull(descriptor);
    Assert.isTrue(
        !descriptor.validateDescriptor().hasFatalError(),
        RefactoringCoreMessages.DynamicValidationRefactoringChange_fatal_error);
    fDescriptor = descriptor;
  }

