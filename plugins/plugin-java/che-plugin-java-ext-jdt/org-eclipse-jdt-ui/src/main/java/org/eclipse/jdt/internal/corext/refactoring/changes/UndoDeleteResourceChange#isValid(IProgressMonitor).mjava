  @Override
  public RefactoringStatus isValid(IProgressMonitor pm)
      throws CoreException, OperationCanceledException {
    if (!fResourceDescription.isValid()) {
      return RefactoringStatus.createFatalErrorStatus(
          Messages.format(
              RefactoringCoreMessages.UndoDeleteResourceChange_cannot_restore,
              BasicElementLabels.getResourceName(fResourceDescription.getName())));
    }

    if (fResourceDescription.verifyExistence(true)) {
      return RefactoringStatus.createFatalErrorStatus(
          Messages.format(
              RefactoringCoreMessages.UndoDeleteResourceChange_already_exists,
              BasicElementLabels.getResourceName(fResourceDescription.getName())));
    }

    return new RefactoringStatus();
  }

