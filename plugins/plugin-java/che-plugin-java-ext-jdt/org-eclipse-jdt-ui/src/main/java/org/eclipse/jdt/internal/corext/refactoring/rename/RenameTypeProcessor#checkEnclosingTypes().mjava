  private RefactoringStatus checkEnclosingTypes() {
    IType enclosingType = findEnclosingType(fType, getNewElementName());
    if (enclosingType == null) return null;

    String msg =
        Messages.format(
            RefactoringCoreMessages.RenameTypeRefactoring_enclosed,
            new String[] {
              BasicElementLabels.getJavaElementName(fType.getFullyQualifiedName('.')),
              getNewElementLabel()
            });
    return RefactoringStatus.createErrorStatus(msg, JavaStatusContext.create(enclosingType));
  }

