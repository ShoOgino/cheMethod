  private void addStaticImport(
      ICompilationUnit movedUnit, IImportDeclaration importDecl, ImportRewrite rewrite) {
    String old = importDecl.getElementName();
    int oldPackLength = movedUnit.getParent().getElementName().length();

    StringBuffer result = new StringBuffer(fDestination.getElementName());
    if (oldPackLength == 0) // move FROM default package
    result.append('.').append(old);
    else if (result.length() == 0) // move TO default package
    result.append(old.substring(oldPackLength + 1)); // cut "."
    else result.append(old.substring(oldPackLength));
    int index = result.lastIndexOf("."); // $NON-NLS-1$
    if (index > 0 && index < result.length() - 1)
      rewrite.addStaticImport(
          result.substring(0, index), result.substring(index + 1, result.length()), true);
  }

