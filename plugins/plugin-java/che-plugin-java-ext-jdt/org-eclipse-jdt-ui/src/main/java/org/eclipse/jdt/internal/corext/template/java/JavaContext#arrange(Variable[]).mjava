  /**
   * Sorts already used variables behind any that are not yet used.
   *
   * @param variables the variables to sort
   * @since 3.3
   */
  private void arrange(Variable[] variables) {
    Arrays.sort(
        variables,
        new Comparator<Variable>() {
          public int compare(Variable o1, Variable o2) {
            return rank(o1) - rank(o2);
          }

          private int rank(Variable l) {
            return fUsedNames.contains(l.getName()) ? 1 : 0;
          }
        });
  }

