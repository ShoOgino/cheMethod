  private WorkingCopyOwner createWorkingCopyOwner(ProblemRequestor problemRequestor) {
    return new WorkingCopyOwner() {
      public IProblemRequestor getProblemRequestor(ICompilationUnit unit) {
        return problemRequestor;
      }

      @Override
      public IBuffer createBuffer(ICompilationUnit workingCopy) {
        return new DocumentAdapter(workingCopy, (IFile) workingCopy.getResource());
      }
    };
  }

