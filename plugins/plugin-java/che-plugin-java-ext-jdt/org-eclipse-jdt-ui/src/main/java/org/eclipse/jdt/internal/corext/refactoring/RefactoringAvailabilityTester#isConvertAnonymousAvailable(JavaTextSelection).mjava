  public static boolean isConvertAnonymousAvailable(final JavaTextSelection selection)
      throws JavaModelException {
    final IType type = RefactoringActions.getEnclosingType(selection);
    if (type != null) return RefactoringAvailabilityTester.isConvertAnonymousAvailable(type);
    return false;
  }

