  /*
   * Helper method for finding an IMethod inside a binding hierarchy
   */
  private IMethodBinding findMethodBindingInHierarchy(
      ITypeBinding currentTypeBinding, IMethod methodDeclaration) {
    IMethodBinding[] bindings = currentTypeBinding.getDeclaredMethods();
    for (int i = 0; i < bindings.length; i++)
      if (methodDeclaration.equals(bindings[i].getJavaElement())) return bindings[i];

    ITypeBinding superClass = currentTypeBinding.getSuperclass();
    if (superClass != null) {
      IMethodBinding b = findMethodBindingInHierarchy(superClass, methodDeclaration);
      if (b != null) return b;
    }
    ITypeBinding[] interfaces = currentTypeBinding.getInterfaces();
    for (int i = 0; i < interfaces.length; i++) {
      IMethodBinding b = findMethodBindingInHierarchy(interfaces[i], methodDeclaration);
      if (b != null) return b;
    }
    return null;
  }

