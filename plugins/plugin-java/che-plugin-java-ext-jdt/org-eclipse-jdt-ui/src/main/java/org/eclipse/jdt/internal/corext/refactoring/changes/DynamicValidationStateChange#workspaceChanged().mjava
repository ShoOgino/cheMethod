  public void workspaceChanged() {
    long currentTime = System.currentTimeMillis();
    if (currentTime - fTimeStamp < LIFE_TIME) return;
    fValidationState =
        RefactoringStatus.createFatalErrorStatus(
            RefactoringCoreMessages.DynamicValidationStateChange_workspace_changed);
    // remove listener from workspace tracker
    WorkspaceTracker.INSTANCE.removeListener(this);
    fListenerRegistered = false;
    // clear up the children to not hang onto too much memory
    Change[] children = clear();
    for (int i = 0; i < children.length; i++) {
      final Change change = children[i];
      SafeRunner.run(
          new ISafeRunnable() {
            public void run() throws Exception {
              change.dispose();
            }

            public void handleException(Throwable exception) {
              JavaPlugin.log(exception);
            }
          });
    }
  }

