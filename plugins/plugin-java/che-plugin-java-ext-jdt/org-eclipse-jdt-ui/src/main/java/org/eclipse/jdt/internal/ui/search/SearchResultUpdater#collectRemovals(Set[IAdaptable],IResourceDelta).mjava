  private void collectRemovals(Set<IAdaptable> removals, IResourceDelta delta) {
    if (delta.getKind() == IResourceDelta.REMOVED) removals.add(delta.getResource());
    else {
      IResourceDelta[] children = delta.getAffectedChildren();
      for (int i = 0; i < children.length; i++) {
        collectRemovals(removals, children[i]);
      }
    }
  }

