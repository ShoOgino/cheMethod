  /**
   * Compares two URL for equality, but do not connect to do DNS resolution
   *
   * @param url1 a given URL
   * @param url2 another given URL to compare to url1
   * @return <code>true</code> if the URLs are equal, <code>false</code> otherwise
   * @since 3.5
   */
  public static boolean sameURL(URL url1, URL url2) {
    if (url1 == url2) {
      return true;
    }
    if (url1 == null ^ url2 == null) {
      return false;
    }
    // check if URL are file: URL as we may have two URL pointing to the same doc location
    // but with different representation - (i.e. file:/C;/ and file:C:/)
    final boolean isFile1 = "file".equalsIgnoreCase(url1.getProtocol()); // $NON-NLS-1$
    final boolean isFile2 = "file".equalsIgnoreCase(url2.getProtocol()); // $NON-NLS-1$
    if (isFile1 && isFile2) {
      File file1 = new File(url1.getFile());
      File file2 = new File(url2.getFile());
      return file1.equals(file2);
    }
    // URL1 XOR URL2 is a file, return false. (They either both need to be files, or neither)
    if (isFile1 ^ isFile2) {
      return false;
    }
    return getExternalForm(url1).equals(getExternalForm(url2));
  }

