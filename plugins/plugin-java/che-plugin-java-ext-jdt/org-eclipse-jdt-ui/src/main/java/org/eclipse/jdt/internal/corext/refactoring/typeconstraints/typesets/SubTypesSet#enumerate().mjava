	/* (non-Javadoc)
	 * @see org.eclipse.jdt.internal.corext.refactoring.typeconstraints.typesets.TypeSet#enumerate()
	 */
	@Override
	public EnumeratedTypeSet enumerate() {
		if (fEnumCache == null) {
			fEnumCache = new EnumeratedTypeSet(getTypeSetEnvironment());

			for (Iterator<TType> iter = fUpperBounds.iterator(); iter.hasNext(); ) {
				TType ub = iter.next();

				if (ub instanceof ArrayType) {
					ArrayType at = (ArrayType)ub;
					int numDims = at.getDimensions();
					for (Iterator<TType> elemSubIter = TTypes.getAllSubTypesIterator(at.getElementType()); elemSubIter.hasNext(); )
						fEnumCache.add(TTypes.createArrayType(elemSubIter.next(), numDims));
				} else {
					for (Iterator<TType> iterator = TTypes.getAllSubTypesIterator(ub); iterator.hasNext(); ) {
						fEnumCache.fMembers.add(iterator.next());
					}
				}
				fEnumCache.add(ub);
			}
//			fEnumCache.initComplete();
		}
		return fEnumCache;
	}

