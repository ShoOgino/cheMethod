  public static UnusedCodeFix createUnusedMemberFix(
      CompilationUnit compilationUnit, IProblemLocation problem, boolean removeAllAssignements) {
    if (isUnusedMember(problem)) {
      SimpleName name = getUnusedName(compilationUnit, problem);
      if (name != null) {
        IBinding binding = name.resolveBinding();
        if (binding != null) {
          if (isFormalParameterInEnhancedForStatement(name)) return null;

          String label = getDisplayString(name, binding, removeAllAssignements);
          RemoveUnusedMemberOperation operation =
              new RemoveUnusedMemberOperation(new SimpleName[] {name}, removeAllAssignements);
          return new UnusedCodeFix(
              label,
              compilationUnit,
              new CompilationUnitRewriteOperation[] {operation},
              getCleanUpOptions(binding, removeAllAssignements));
        }
      }
    }
    return null;
  }

