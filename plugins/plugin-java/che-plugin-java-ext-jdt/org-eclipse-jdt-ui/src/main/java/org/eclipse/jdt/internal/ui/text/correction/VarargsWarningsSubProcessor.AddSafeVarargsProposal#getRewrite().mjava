    /* (non-Javadoc)
     * @see org.eclipse.jdt.internal.ui.text.correction.ASTRewriteCorrectionProposal#getRewrite()
     */
    @Override
    protected ASTRewrite getRewrite() throws CoreException {
      if (fMethodDeclaration == null) {
        CompilationUnit astRoot = ASTResolving.createQuickFixAST(getCompilationUnit(), null);
        fMethodDeclaration = (MethodDeclaration) astRoot.findDeclaringNode(fMethodBinding.getKey());
      }
      AST ast = fMethodDeclaration.getAST();
      ASTRewrite rewrite = ASTRewrite.create(ast);
      ListRewrite listRewrite =
          rewrite.getListRewrite(fMethodDeclaration, MethodDeclaration.MODIFIERS2_PROPERTY);

      MarkerAnnotation annotation = ast.newMarkerAnnotation();
      String importString =
          createImportRewrite((CompilationUnit) fMethodDeclaration.getRoot())
              .addImport("java.lang.SafeVarargs"); //$NON-NLS-1$
      annotation.setTypeName(ast.newName(importString));
      listRewrite.insertFirst(annotation, null);

      // set up linked mode
      addLinkedPosition(rewrite.track(annotation), true, "annotation"); //$NON-NLS-1$

      return rewrite;
    }

