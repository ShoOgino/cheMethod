    @Override
    public boolean equals(Object o) {
        if (!(o instanceof LogicalPackage))
            return false;

        LogicalPackage lp = (LogicalPackage)o;
        if (!fJavaProject.equals(lp.getJavaProject()))
            return false;

        IPackageFragment[] fragments = lp.getFragments();

        if (fragments.length != getFragments().length)
            return false;

        //this works because a LogicalPackage cannot contain the same IPackageFragment twice
        for (int i = 0; i < fragments.length; i++) {
            IPackageFragment fragment = fragments[i];
            if (!fPackages.contains(fragment))
                return false;
        }

        return true;
    }

