  // !! - like one in ExtractTempRefactoring
  private static boolean canReplace(IASTFragment fragment) {
    ASTNode node = fragment.getAssociatedNode();
    ASTNode parent = node.getParent();
    if (parent instanceof VariableDeclarationFragment) {
      VariableDeclarationFragment vdf = (VariableDeclarationFragment) parent;
      if (node.equals(vdf.getName())) return false;
    }
    if (parent instanceof ExpressionStatement) return false;
    if (parent instanceof SwitchCase) {
      if (node instanceof Name) {
        Name name = (Name) node;
        ITypeBinding typeBinding = name.resolveTypeBinding();
        if (typeBinding != null) {
          return !typeBinding.isEnum();
        }
      }
    }
    return true;
  }

