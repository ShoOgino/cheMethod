  private HashMap<IJavaProject, ArrayList<IJavaElement>> getJavaElementsPerProject(
      IJavaElement[] elements) {
    HashMap<IJavaProject, ArrayList<IJavaElement>> result =
        new HashMap<IJavaProject, ArrayList<IJavaElement>>();
    for (int i = 0; i < elements.length; i++) {
      IJavaElement element = elements[i];
      IJavaProject javaProject = element.getJavaProject();
      ArrayList<IJavaElement> javaElements = result.get(javaProject);
      if (javaElements == null) {
        javaElements = new ArrayList<IJavaElement>();
        result.put(javaProject, javaElements);
      }
      javaElements.add(element);
    }
    return result;
  }

