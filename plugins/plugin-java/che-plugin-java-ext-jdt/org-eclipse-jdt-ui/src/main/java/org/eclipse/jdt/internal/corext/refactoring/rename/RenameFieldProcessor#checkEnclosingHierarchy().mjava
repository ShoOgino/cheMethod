  private RefactoringStatus checkEnclosingHierarchy() {
    IType current = fField.getDeclaringType();
    if (Checks.isTopLevel(current)) return null;
    RefactoringStatus result = new RefactoringStatus();
    while (current != null) {
      IField otherField = current.getField(getNewElementName());
      if (otherField.exists()) {
        String msg =
            Messages.format(
                RefactoringCoreMessages.RenameFieldRefactoring_hiding2,
                new String[] {
                  BasicElementLabels.getJavaElementName(getNewElementName()),
                  BasicElementLabels.getJavaElementName(current.getFullyQualifiedName('.')),
                  BasicElementLabels.getJavaElementName(otherField.getElementName())
                });
        result.addWarning(msg, JavaStatusContext.create(otherField));
      }
      current = current.getDeclaringType();
    }
    return result;
  }

