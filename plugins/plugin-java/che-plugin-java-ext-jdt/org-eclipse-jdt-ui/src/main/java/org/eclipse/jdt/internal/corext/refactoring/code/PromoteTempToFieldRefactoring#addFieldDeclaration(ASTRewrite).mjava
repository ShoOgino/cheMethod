  private void addFieldDeclaration(ASTRewrite rewrite) {
    FieldDeclaration[] fields = getFieldDeclarations();
    ASTNode parent = getMethodDeclaration().getParent();
    ChildListPropertyDescriptor descriptor = ASTNodes.getBodyDeclarationsProperty(parent);
    int insertIndex;
    if (fields.length == 0) insertIndex = 0;
    else insertIndex = ASTNodes.getBodyDeclarations(parent).indexOf(fields[fields.length - 1]) + 1;

    final FieldDeclaration declaration = createNewFieldDeclaration(rewrite);
    rewrite.getListRewrite(parent, descriptor).insertAt(declaration, insertIndex, null);
  }

