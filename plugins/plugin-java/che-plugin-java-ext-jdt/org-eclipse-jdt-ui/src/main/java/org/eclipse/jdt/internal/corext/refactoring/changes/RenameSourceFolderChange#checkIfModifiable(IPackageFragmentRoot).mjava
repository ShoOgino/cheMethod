	private static RefactoringStatus checkIfModifiable(IPackageFragmentRoot root) throws CoreException {
		RefactoringStatus result= new RefactoringStatus();
		if (root == null) {
			result.addFatalError(RefactoringCoreMessages.DynamicValidationStateChange_workspace_changed);
			return result;
		}
		if (!root.exists()) {
			result.addFatalError(Messages.format(RefactoringCoreMessages.Change_does_not_exist, getRootLabel(root)));
			return result;
		}


		if (result.hasFatalError())
			return result;

		if (root.isArchive()) {
			result.addFatalError(Messages.format(RefactoringCoreMessages.RenameSourceFolderChange_rename_archive, getRootLabel(root)));
			return result;
		}

		if (root.isExternal()) {
			result.addFatalError(Messages.format(RefactoringCoreMessages.RenameSourceFolderChange_rename_external, getRootLabel(root)));
			return result;
		}

		IResource correspondingResource= root.getCorrespondingResource();
		if (correspondingResource == null || !correspondingResource.exists()) {
			result.addFatalError(Messages.format(RefactoringCoreMessages.RenameSourceFolderChange_error_underlying_resource_not_existing,
												 getRootLabel(root)));
			return result;
		}

		if (correspondingResource.isLinked()) {
			result.addFatalError(Messages.format(RefactoringCoreMessages.RenameSourceFolderChange_rename_linked, getRootLabel(root)));
			return result;
		}

		return result;
	}

