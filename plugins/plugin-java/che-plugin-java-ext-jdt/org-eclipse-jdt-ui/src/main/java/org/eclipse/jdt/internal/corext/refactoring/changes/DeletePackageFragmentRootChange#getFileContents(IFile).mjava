  private static String getFileContents(IFile file) throws CoreException {
    ITextFileBufferManager manager = FileBuffers.getTextFileBufferManager();
    IPath path = file.getFullPath();
    manager.connect(path, LocationKind.IFILE, new NullProgressMonitor());
    try {
      return manager.getTextFileBuffer(path, LocationKind.IFILE).getDocument().get();
    } finally {
      manager.disconnect(path, LocationKind.IFILE, new NullProgressMonitor());
    }
  }

