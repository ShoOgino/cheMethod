  /**
   * Reads the content of the IFile.
   *
   * @param file the file whose content has to be read
   * @return the content of the file
   * @throws CoreException if the file could not be successfully connected or disconnected
   */
  private static String getIFileContent(IFile file) throws CoreException {
    String content = null;
    ITextFileBufferManager manager = FileBuffers.getTextFileBufferManager();
    IPath fullPath = file.getFullPath();
    manager.connect(fullPath, LocationKind.IFILE, null);
    try {
      ITextFileBuffer buffer = manager.getTextFileBuffer(fullPath, LocationKind.IFILE);
      if (buffer != null) {
        content = buffer.getDocument().get();
      }
    } finally {
      manager.disconnect(fullPath, LocationKind.IFILE, null);
    }

    return content;
  }

