    public IJavaSearchScope createJavaSearchScope(IWorkingSet[] workingSets, int includeMask) {
        if (workingSets == null || workingSets.length < 1)
            return EMPTY_SCOPE;

        Set<IJavaElement> javaElements = new HashSet<IJavaElement>(workingSets.length * 10);
        for (int i = 0; i < workingSets.length; i++) {
            IWorkingSet workingSet = workingSets[i];
            if (workingSet.isEmpty() && workingSet.isAggregateWorkingSet()) {
                return createWorkspaceScope(includeMask);
            }
            addJavaElements(javaElements, workingSet);
        }
        return createJavaSearchScope(javaElements, includeMask);
    }

