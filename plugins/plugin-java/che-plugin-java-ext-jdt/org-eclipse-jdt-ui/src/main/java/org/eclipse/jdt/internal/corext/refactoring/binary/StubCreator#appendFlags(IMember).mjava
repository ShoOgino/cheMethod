  protected void appendFlags(final IMember member) throws JavaModelException {
    if (member instanceof IAnnotatable)
      for (IAnnotation annotation : ((IAnnotatable) member).getAnnotations()) {
        appendAnnotation(annotation);
      }

    int flags = member.getFlags();
    final int kind = member.getElementType();
    if (kind == IJavaElement.TYPE) {
      flags &= ~Flags.AccSuper;
      final IType type = (IType) member;
      if (!type.isMember()) flags &= ~Flags.AccPrivate;
      if (Flags.isEnum(flags)) flags &= ~Flags.AccAbstract;
    }
    if (Flags.isEnum(flags)) flags &= ~Flags.AccFinal;
    if (kind == IJavaElement.METHOD) {
      flags &= ~Flags.AccVarargs;
      flags &= ~Flags.AccBridge;
    }
    if (flags != 0) fBuffer.append(Flags.toString(flags));
  }

