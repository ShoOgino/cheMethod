  private static Change createSourceManipulationDeleteChange(ISourceManipulation element) {
    //XXX workaround for bug 31384, in case of linked ISourceManipulation delete the resource
    if (element instanceof ICompilationUnit || element instanceof IPackageFragment) {
      IResource resource;
      if (element instanceof ICompilationUnit)
        resource = ReorgUtils.getResource((ICompilationUnit) element);
      else resource = ((IPackageFragment) element).getResource();
      if (resource != null && resource.isLinked()) return createDeleteChange(resource);
    }
    return new DeleteSourceManipulationChange(element, true);
  }

