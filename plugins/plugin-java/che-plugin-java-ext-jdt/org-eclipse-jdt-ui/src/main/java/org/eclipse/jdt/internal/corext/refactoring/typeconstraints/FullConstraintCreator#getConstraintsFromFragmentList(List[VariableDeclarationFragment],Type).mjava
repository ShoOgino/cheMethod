  private ITypeConstraint[] getConstraintsFromFragmentList(
      List<VariableDeclarationFragment> list, Type type) {
    int size = list.size();
    ConstraintVariable typeVariable = fConstraintVariableFactory.makeTypeVariable(type);
    List<ITypeConstraint> result = new ArrayList<ITypeConstraint>((size * (size - 1)) / 2);
    for (int i = 0; i < size; i++) {
      VariableDeclarationFragment fragment1 = list.get(i);
      SimpleName fragment1Name = fragment1.getName();
      result.addAll(
          Arrays.asList(
              fTypeConstraintFactory.createDefinesConstraint(
                  fConstraintVariableFactory.makeExpressionOrTypeVariable(
                      fragment1Name, getContext()),
                  typeVariable)));
      for (int j = i + 1; j < size; j++) {
        VariableDeclarationFragment fragment2 = list.get(j);
        result.addAll(
            Arrays.asList(
                fTypeConstraintFactory.createEqualsConstraint(
                    fConstraintVariableFactory.makeExpressionOrTypeVariable(
                        fragment1Name, getContext()),
                    fConstraintVariableFactory.makeExpressionOrTypeVariable(
                        fragment2.getName(), getContext()))));
      }
    }
    return result.toArray(new ITypeConstraint[result.size()]);
  }

