  public ChangePreview feedInput(IChangePreviewViewer viewer, List categories)
      throws CoreException {
    InternalTextEditChangeNode element = getTextEditChangeNode();
    if (element != null) {
      Change change = element.getChange();
      if (change instanceof TextEditBasedChange) {
        List groups = collectTextEditBasedChangeGroups(categories);
        return viewer.setInput(
            TextEditChangePreviewViewer.createInput(
                change,
                (TextEditBasedChangeGroup[])
                    groups.toArray(new TextEditBasedChangeGroup[groups.size()]),
                getTextRange()));
      }
    } else {
      return viewer.setInput(null);
    }
    return null;
  }

