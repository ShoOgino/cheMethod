  /**
   * Returns the invocation context. If none has been set via {@link
   * #setInvocationContext(JavaContentAssistInvocationContext)}, a new one is created.
   *
   * @return invocationContext the invocation context
   * @since 3.2
   */
  protected final JavaContentAssistInvocationContext getInvocationContext() {
    if (fInvocationContext == null) {
      ICompilationUnit cu = getCompilationUnit();
      if (cu != null) setInvocationContext(new JavaContentAssistInvocationContext(cu));
      else setInvocationContext(new JavaContentAssistInvocationContext(fJavaProject));
    }
    return fInvocationContext;
  }

