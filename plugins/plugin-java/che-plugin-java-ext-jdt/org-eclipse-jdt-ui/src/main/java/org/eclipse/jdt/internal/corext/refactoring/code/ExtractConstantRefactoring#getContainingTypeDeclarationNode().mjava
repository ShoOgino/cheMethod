  /**
   * Returns the type to which the new constant will be added to. It is the first non-anonymous
   * parent.
   *
   * @return the type to add the new constant to
   * @throws JavaModelException shouldn't happen
   */
  private AbstractTypeDeclaration getContainingTypeDeclarationNode() throws JavaModelException {
    AbstractTypeDeclaration result =
        (AbstractTypeDeclaration)
            ASTNodes.getParent(
                getSelectedExpression().getAssociatedNode(), AbstractTypeDeclaration.class);
    Assert.isNotNull(result);
    return result;
  }

