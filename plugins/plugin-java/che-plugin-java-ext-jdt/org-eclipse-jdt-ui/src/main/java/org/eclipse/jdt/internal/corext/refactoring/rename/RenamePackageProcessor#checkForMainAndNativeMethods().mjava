  private RefactoringStatus checkForMainAndNativeMethods() throws CoreException {
    RefactoringStatus result = new RefactoringStatus();
    if (fRenameSubpackages) {
      IPackageFragment[] allSubpackages = JavaElementUtil.getPackageAndSubpackages(fPackage);
      for (int i = 0; i < allSubpackages.length; i++) {
        ICompilationUnit[] cus = allSubpackages[i].getCompilationUnits();
        for (int c = 0; c < cus.length; c++)
          result.merge(Checks.checkForMainAndNativeMethods(cus[c]));
      }
    } else {
      ICompilationUnit[] cus = fPackage.getCompilationUnits();
      for (int i = 0; i < cus.length; i++)
        result.merge(Checks.checkForMainAndNativeMethods(cus[i]));
    }
    return result;
  }

