  /**
   * Returns the {@link java.io.File} of a <code>file:</code> URL. This method tries to recover from
   * bad URLs, e.g. the unencoded form we used to use in persistent storage.
   *
   * @param url a <code>file:</code> URL
   * @return the file
   * @since 3.9
   */
  public static File toFile(URL url) {
    try {
      return URIUtil.toFile(url.toURI());
    } catch (URISyntaxException e) {
      LOG.error(e.getMessage(), e);
      return new File(url.getFile());
    }
  }

