  /* (non-Javadoc)
   * @see org.eclipse.jdt.internal.ui.text.correction.ASTRewriteCorrectionProposal#getRewrite()
   */
  @Override
  protected ASTRewrite getRewrite() throws CoreException {
    AST ast = fAnnotation.getAST();

    ASTRewrite rewrite = ASTRewrite.create(ast);
    createImportRewrite((CompilationUnit) fAnnotation.getRoot());

    ListRewrite listRewrite;
    if (fAnnotation instanceof NormalAnnotation) {
      listRewrite = rewrite.getListRewrite(fAnnotation, NormalAnnotation.VALUES_PROPERTY);
    } else {
      NormalAnnotation newAnnotation = ast.newNormalAnnotation();
      newAnnotation.setTypeName((Name) rewrite.createMoveTarget(fAnnotation.getTypeName()));
      rewrite.replace(fAnnotation, newAnnotation, null);

      listRewrite = rewrite.getListRewrite(newAnnotation, NormalAnnotation.VALUES_PROPERTY);
    }
    addMissingAtributes(fAnnotation.resolveTypeBinding(), listRewrite);

    return rewrite;
  }

