  /**
   * @param change the change
   * @since 3.6
   */
  public CompilationUnitChange(org.eclipse.jdt.core.refactoring.CompilationUnitChange change) {
    super(change.getName(), change.getCompilationUnit());
    setDescriptor(change.getDescriptor());
    TextEdit edit = change.getEdit();
    if (edit != null) {
      setEdit(edit);
    }
    setEnabledShallow(change.isEnabled());
    setKeepPreviewEdits(change.getKeepPreviewEdits());
    setSaveMode(change.getSaveMode());
    setTextType(change.getTextType());
    TextEditBasedChangeGroup[] groups = change.getChangeGroups();
    for (int i = 0; i < groups.length; i++) addChangeGroup(groups[i]);
  }

