  private static SignatureAnnotationRewriteOperation createChangeOverriddenParameterOperation(
      CompilationUnit compilationUnit,
      ICompilationUnit cu,
      MethodDeclaration declaration,
      ASTNode selectedNode,
      boolean allowRemove,
      String annotationToAdd,
      String annotationToRemove,
      String annotationNameLabel) {
    IMethodBinding methodDeclBinding = declaration.resolveBinding();
    if (methodDeclBinding == null) return null;

    IMethodBinding overridden = Bindings.findOverriddenMethod(methodDeclBinding, false);
    if (overridden == null) return null;
    compilationUnit = findCUForMethod(compilationUnit, cu, overridden);
    if (compilationUnit == null) return null;
    ASTNode methodDecl = compilationUnit.findDeclaringNode(overridden.getKey());
    if (methodDecl == null) return null;
    declaration = (MethodDeclaration) methodDecl;
    String message =
        Messages.format(
            FixMessages.NullAnnotationsRewriteOperations_change_overridden_parameter_nullness,
            new String[] {overridden.getName(), annotationNameLabel});
    String paramName = findAffectedParameterName(selectedNode);
    return new ParameterAnnotationRewriteOperation(
        compilationUnit,
        declaration,
        annotationToAdd,
        annotationToRemove,
        paramName,
        allowRemove,
        message);
  }

