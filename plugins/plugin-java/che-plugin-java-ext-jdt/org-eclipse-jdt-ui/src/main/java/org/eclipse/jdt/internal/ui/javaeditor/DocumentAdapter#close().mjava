  /*
   * @see IBuffer#close()
   */
  public void close() {

    if (isClosed()) return;

    IDocument d = fDocument;
    fDocument = new Document();
    fIsClosed = true;
    d.removeDocumentListener(this);
    //
    //		if (fTextFileBuffer != null) {
    //			ITextFileBufferManager manager = FileBuffers.getTextFileBufferManager();
    //			try {
    //				if (fFileStore != null)
    //					manager.disconnectFileStore(fFileStore, new NullProgressMonitor());
    //				else
    //					manager.disconnect(fPath, fLocationKind, new NullProgressMonitor());
    //			} catch (CoreException x) {
    //				// ignore
    //			}
    //			fTextFileBuffer = null;
    //		}

    fireBufferChanged(new BufferChangedEvent(this, 0, 0, null));
    fBufferListeners.clear();
  }

