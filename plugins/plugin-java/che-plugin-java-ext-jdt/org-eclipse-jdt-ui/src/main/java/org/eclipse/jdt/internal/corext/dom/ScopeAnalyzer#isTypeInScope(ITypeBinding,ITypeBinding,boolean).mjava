  private static boolean isTypeInScope(
      ITypeBinding declaring, ITypeBinding context, boolean includeHierarchy) {
    ITypeBinding curr = context.getTypeDeclaration();
    while (curr != null && curr != declaring) {
      if (includeHierarchy && isInSuperTypeHierarchy(declaring, curr)) {
        return true;
      }
      curr = curr.getDeclaringClass();
    }
    return curr == declaring;
  }

