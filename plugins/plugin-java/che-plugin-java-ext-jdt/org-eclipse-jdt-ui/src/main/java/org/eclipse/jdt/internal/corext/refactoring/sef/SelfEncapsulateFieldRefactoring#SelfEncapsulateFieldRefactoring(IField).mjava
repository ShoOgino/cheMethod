  /**
   * Creates a new self encapsulate field refactoring.
   *
   * @param field the field, or <code>null</code> if invoked by scripting
   * @throws JavaModelException if initialization failed
   */
  public SelfEncapsulateFieldRefactoring(IField field) throws JavaModelException {
    fEncapsulateDeclaringClass = true;
    fChangeManager = new TextChangeManager();
    fField = field;
    if (field != null) initialize(field);
  }

