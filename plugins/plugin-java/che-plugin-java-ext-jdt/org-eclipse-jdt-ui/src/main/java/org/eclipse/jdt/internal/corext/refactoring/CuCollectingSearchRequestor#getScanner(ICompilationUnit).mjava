  protected IScanner getScanner(ICompilationUnit unit) {
    IJavaProject project = unit.getJavaProject();
    if (project.equals(fProjectCache)) return fScannerCache;

    fProjectCache = project;
    String sourceLevel = project.getOption(JavaCore.COMPILER_SOURCE, true);
    String complianceLevel = project.getOption(JavaCore.COMPILER_COMPLIANCE, true);
    fScannerCache = ToolFactory.createScanner(false, false, false, sourceLevel, complianceLevel);
    return fScannerCache;
  }

