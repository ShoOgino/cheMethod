    public Change createChange(IProgressMonitor pm, INewNameQueries copyQueries)
        throws JavaModelException {
      try {
        CompilationUnit sourceCuNode = createSourceCuNode();
        ICompilationUnit targetCu = getEnclosingCompilationUnit(getJavaElementDestination());
        CompilationUnitRewrite targetRewriter = new CompilationUnitRewrite(targetCu);
        IJavaElement[] javaElements = getJavaElements();
        for (int i = 0; i < javaElements.length; i++) {
          copyToDestination(
              javaElements[i], targetRewriter, sourceCuNode, targetRewriter.getRoot());
        }
        return createCompilationUnitChange(targetRewriter);
      } catch (JavaModelException e) {
        throw e;
      } catch (CoreException e) {
        throw new JavaModelException(e);
      }
    }

