  /** {@inheritDoc} */
  @Override
  public RefactoringStatus isValid(IProgressMonitor monitor)
      throws CoreException, OperationCanceledException {
    if (fSelection instanceof IJavaElement) {
      final IJavaElement element = (IJavaElement) fSelection;
      if (!Checks.isAvailable(element))
        RefactoringStatus.createFatalErrorStatus(
            Messages.format(
                RefactoringCoreMessages.RenameResourceChange_does_not_exist,
                JavaElementLabels.getTextLabel(fSelection, JavaElementLabels.ALL_DEFAULT)));
    } else if (fSelection instanceof IResource) {
      final IResource resource = (IResource) fSelection;
      if (!resource.exists())
        RefactoringStatus.createFatalErrorStatus(
            Messages.format(
                RefactoringCoreMessages.RenameResourceChange_does_not_exist,
                JavaElementLabels.getTextLabel(fSelection, JavaElementLabels.ALL_DEFAULT)));
    }
    return new RefactoringStatus();
  }

