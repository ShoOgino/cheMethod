  public static IJavaElement[] codeResolve(IJavaElement input, ITextSelection selection)
      throws JavaModelException {
    if (input instanceof ICodeAssist) {
      if (input instanceof ICompilationUnit) {
        JavaModelUtil.reconcile((ICompilationUnit) input);
      }
      IJavaElement[] elements =
          ((ICodeAssist) input).codeSelect(selection.getOffset() + selection.getLength(), 0);
      if (elements.length > 0) {
        return elements;
      }
    }
    return EMPTY_RESULT;
  }

