  private void addStamps(Map<IResource, Long> stamps, ICompilationUnit[] units) {
    for (int i = 0; i < units.length; i++) {
      IResource resource = units[i].getResource();
      long stamp = IResource.NULL_STAMP;
      if (resource != null && (stamp = resource.getModificationStamp()) != IResource.NULL_STAMP) {
        stamps.put(resource, new Long(stamp));
      }
    }
  }

