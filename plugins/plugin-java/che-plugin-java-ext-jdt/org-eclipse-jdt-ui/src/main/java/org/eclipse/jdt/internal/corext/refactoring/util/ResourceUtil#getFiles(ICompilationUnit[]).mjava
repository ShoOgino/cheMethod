  public static IFile[] getFiles(ICompilationUnit[] cus) {
    List<IResource> files = new ArrayList<IResource>(cus.length);
    for (int i = 0; i < cus.length; i++) {
      IResource resource = cus[i].getResource();
      if (resource != null && resource.getType() == IResource.FILE) files.add(resource);
    }
    return files.toArray(new IFile[files.size()]);
  }

