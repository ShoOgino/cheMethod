  @Override
  public boolean isApplicable(JavaSearchQuery query) {
    QuerySpecification spec = query.getSpecification();
    if (spec instanceof ElementQuerySpecification) {
      ElementQuerySpecification elementSpec = (ElementQuerySpecification) spec;
      IJavaElement element = elementSpec.getElement();
      return element instanceof IField || element instanceof ILocalVariable;
    } else if (spec instanceof PatternQuerySpecification) {
      PatternQuerySpecification patternSpec = (PatternQuerySpecification) spec;
      return patternSpec.getSearchFor() == IJavaSearchConstants.FIELD;
    }
    return false;
  }

