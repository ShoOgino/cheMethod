    private void removeConstantDeclarationIfNecessary() {
      if (fDeclarationToRemove == null) return;

      FieldDeclaration parentDeclaration = (FieldDeclaration) fDeclarationToRemove.getParent();
      ASTNode toRemove;
      if (parentDeclaration.fragments().size() == 1) toRemove = parentDeclaration;
      else toRemove = fDeclarationToRemove;

      TextEditGroup msg =
          fCuRewrite.createGroupDescription(
              RefactoringCoreMessages.InlineConstantRefactoring_remove_declaration);
      fCuRewrite.getASTRewrite().remove(toRemove, msg);
      fCuRewrite.getImportRemover().registerRemovedNode(toRemove);
    }

