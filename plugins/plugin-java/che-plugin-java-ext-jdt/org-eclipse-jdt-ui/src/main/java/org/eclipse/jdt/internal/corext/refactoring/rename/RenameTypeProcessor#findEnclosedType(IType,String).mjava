  private static IType findEnclosedType(IType type, String newName) throws CoreException {
    IType[] enclosedTypes = type.getTypes();
    for (int i = 0; i < enclosedTypes.length; i++) {
      if (newName.equals(enclosedTypes[i].getElementName())
          || findEnclosedType(enclosedTypes[i], newName) != null) return enclosedTypes[i];
    }
    return null;
  }

