  /**
   * Returns the label of a classpath container. The returned label is BiDi-processed with {@link
   * TextProcessor#process(String, String)}.
   *
   * @param containerPath the path of the container
   * @param project the project the container is resolved in
   * @return the label of the classpath container
   * @throws JavaModelException when resolving of the container failed
   */
  public static String getContainerEntryLabel(IPath containerPath, IJavaProject project)
      throws JavaModelException {
    IClasspathContainer container = JavaCore.getClasspathContainer(containerPath, project);
    if (container != null) {
      return Strings.markLTR(container.getDescription());
    }
    ClasspathContainerInitializer initializer =
        JavaCore.getClasspathContainerInitializer(containerPath.segment(0));
    if (initializer != null) {
      return Strings.markLTR(initializer.getDescription(containerPath, project));
    }
    return BasicElementLabels.getPathLabel(containerPath, false);
  }

