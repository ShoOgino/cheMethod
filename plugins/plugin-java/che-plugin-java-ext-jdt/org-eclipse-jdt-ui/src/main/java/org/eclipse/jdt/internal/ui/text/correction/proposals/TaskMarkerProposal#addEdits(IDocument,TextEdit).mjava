  /* (non-Javadoc)
   * @see org.eclipse.jdt.internal.ui.text.correction.CUCorrectionProposal#addEdits(org.eclipse.jdt.internal.corext.textmanipulation
   * .TextBuffer)
   */
  @Override
  protected void addEdits(IDocument document, TextEdit rootEdit) throws CoreException {
    super.addEdits(document, rootEdit);

    try {
      Position pos = getUpdatedPosition(document);
      if (pos != null) {
        rootEdit.addChild(new ReplaceEdit(pos.getOffset(), pos.getLength(), "")); // $NON-NLS-1$
      } else {
        rootEdit.addChild(
            new ReplaceEdit(fLocation.getOffset(), fLocation.getLength(), "")); // $NON-NLS-1$
      }
    } catch (BadLocationException e) {
      throw new CoreException(JavaUIStatus.createError(IStatus.ERROR, e));
    }
  }

