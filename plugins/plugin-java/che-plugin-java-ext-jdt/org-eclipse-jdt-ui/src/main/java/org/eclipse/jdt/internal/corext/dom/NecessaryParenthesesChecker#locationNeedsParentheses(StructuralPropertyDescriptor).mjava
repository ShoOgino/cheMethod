  private static boolean locationNeedsParentheses(StructuralPropertyDescriptor locationInParent) {
    if (locationInParent instanceof ChildListPropertyDescriptor
        && locationInParent != InfixExpression.EXTENDED_OPERANDS_PROPERTY) {
      // e.g. argument lists of MethodInvocation, ClassInstanceCreation, dimensions of ArrayCreation ...
      return false;
    }
    if (locationInParent == VariableDeclarationFragment.INITIALIZER_PROPERTY
        || locationInParent == SingleVariableDeclaration.INITIALIZER_PROPERTY
        || locationInParent == ReturnStatement.EXPRESSION_PROPERTY
        || locationInParent == EnhancedForStatement.EXPRESSION_PROPERTY
        || locationInParent == ForStatement.EXPRESSION_PROPERTY
        || locationInParent == WhileStatement.EXPRESSION_PROPERTY
        || locationInParent == DoStatement.EXPRESSION_PROPERTY
        || locationInParent == AssertStatement.EXPRESSION_PROPERTY
        || locationInParent == AssertStatement.MESSAGE_PROPERTY
        || locationInParent == IfStatement.EXPRESSION_PROPERTY
        || locationInParent == SwitchStatement.EXPRESSION_PROPERTY
        || locationInParent == SwitchCase.EXPRESSION_PROPERTY
        || locationInParent == ArrayAccess.INDEX_PROPERTY
        || locationInParent == ThrowStatement.EXPRESSION_PROPERTY
        || locationInParent == SynchronizedStatement.EXPRESSION_PROPERTY
        || locationInParent == ParenthesizedExpression.EXPRESSION_PROPERTY) {
      return false;
    }
    return true;
  }

