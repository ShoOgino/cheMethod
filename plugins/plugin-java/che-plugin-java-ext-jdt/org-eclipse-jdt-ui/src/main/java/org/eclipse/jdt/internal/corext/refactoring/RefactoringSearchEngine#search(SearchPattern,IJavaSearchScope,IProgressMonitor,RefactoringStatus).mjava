  /**
   * Performs a search and groups the resulting {@link SearchMatch}es by {@link
   * SearchResultGroup#getCompilationUnit()}.
   *
   * @param pattern the search pattern
   * @param scope the search scope
   * @param monitor the progress monitor
   * @param status an error is added here if inaccurate or non-cu matches have been found
   * @return a {@link SearchResultGroup}[], where each {@link SearchResultGroup} has a different
   *     {@link SearchMatch#getResource() getResource()}s.
   * @see SearchMatch
   * @throws JavaModelException when the search failed
   */
  // TODO: throw CoreException
  public static SearchResultGroup[] search(
      SearchPattern pattern,
      IJavaSearchScope scope,
      IProgressMonitor monitor,
      RefactoringStatus status)
      throws JavaModelException {
    return internalSearch(
        new SearchEngine(), pattern, scope, new CollectingSearchRequestor(), monitor, status);
  }

