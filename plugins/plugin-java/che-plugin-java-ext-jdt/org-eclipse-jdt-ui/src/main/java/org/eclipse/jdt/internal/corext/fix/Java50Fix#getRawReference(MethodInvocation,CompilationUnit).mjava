  private static SimpleType getRawReference(
      MethodInvocation invocation, CompilationUnit compilationUnit) {
    Name name1 = (Name) invocation.getStructuralProperty(MethodInvocation.NAME_PROPERTY);
    if (name1 instanceof SimpleName) {
      SimpleType rawReference = getRawReference((SimpleName) name1, compilationUnit);
      if (rawReference != null) {
        return rawReference;
      }
    }

    Expression expr =
        (Expression) invocation.getStructuralProperty(MethodInvocation.EXPRESSION_PROPERTY);
    if (expr instanceof SimpleName) {
      SimpleType rawReference = getRawReference((SimpleName) expr, compilationUnit);
      if (rawReference != null) {
        return rawReference;
      }
    } else if (expr instanceof QualifiedName) {
      Name name = (Name) expr;
      while (name instanceof QualifiedName) {
        SimpleName simpleName =
            (SimpleName) name.getStructuralProperty(QualifiedName.NAME_PROPERTY);
        SimpleType rawReference = getRawReference(simpleName, compilationUnit);
        if (rawReference != null) {
          return rawReference;
        }
        name = (Name) name.getStructuralProperty(QualifiedName.QUALIFIER_PROPERTY);
      }
      if (name instanceof SimpleName) {
        SimpleType rawReference = getRawReference((SimpleName) name, compilationUnit);
        if (rawReference != null) {
          return rawReference;
        }
      }
    } else if (expr instanceof MethodInvocation) {
      SimpleType rawReference = getRawReference((MethodInvocation) expr, compilationUnit);
      if (rawReference != null) {
        return rawReference;
      }
    }
    return null;
  }

