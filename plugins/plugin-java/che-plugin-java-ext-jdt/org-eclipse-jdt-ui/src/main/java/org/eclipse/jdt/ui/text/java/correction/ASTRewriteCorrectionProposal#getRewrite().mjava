  /**
   * Returns the rewrite that has been passed in the constructor. Implementors can override this
   * method to create the rewrite lazily. This method will only be called once.
   *
   * @return the rewrite to be used
   * @throws CoreException when the rewrite could not be created
   */
  protected ASTRewrite getRewrite() throws CoreException {
    if (fRewrite == null) {
      IStatus status =
          JavaUIStatus.createError(IStatus.ERROR, "Rewrite not initialized", null); //$NON-NLS-1$
      throw new CoreException(status);
    }
    return fRewrite;
  }

