	public static StubTypeContext createStubTypeContext(ICompilationUnit cu, CompilationUnit root, int focalPosition) throws
																													  CoreException {
		StringBuffer bufBefore = new StringBuffer();
		StringBuffer bufAfter = new StringBuffer();

		int introEnd = 0;
		PackageDeclaration pack = root.getPackage();
		if (pack != null)
			introEnd = pack.getStartPosition() + pack.getLength();
		List<ImportDeclaration> imports = root.imports();
		if (imports.size() > 0) {
			ImportDeclaration lastImport = imports.get(imports.size() - 1);
			introEnd = lastImport.getStartPosition() + lastImport.getLength();
		}
		bufBefore.append(cu.getBuffer().getText(0, introEnd));

		fillWithTypeStubs(bufBefore, bufAfter, focalPosition, root.types());
		bufBefore.append(' ');
		bufAfter.insert(0, ' ');
		return new StubTypeContext(cu, bufBefore.toString(), bufAfter.toString());
	}

