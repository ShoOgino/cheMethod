  public static void addNeedToEmulateProposal(
      IInvocationContext context,
      IProblemLocation problem,
      Collection<ModifierChangeCorrectionProposal> proposals) {
    ICompilationUnit cu = context.getCompilationUnit();

    ASTNode selectedNode = problem.getCoveringNode(context.getASTRoot());
    if (!(selectedNode instanceof SimpleName)) {
      return;
    }

    IBinding binding = ((SimpleName) selectedNode).resolveBinding();
    if (binding instanceof IVariableBinding) {
      binding = ((IVariableBinding) binding).getVariableDeclaration();
      Image image = JavaPluginImages.get(JavaPluginImages.IMG_CORRECTION_CHANGE);
      String label =
          Messages.format(
              CorrectionMessages.ModifierCorrectionSubProcessor_changemodifiertofinal_description,
              BasicElementLabels.getJavaElementName(binding.getName()));
      proposals.add(
          new ModifierChangeCorrectionProposal(
              label,
              cu,
              binding,
              selectedNode,
              Modifier.FINAL,
              0,
              IProposalRelevance.CHANGE_MODIFIER_OF_VARIABLE_TO_FINAL,
              image));
    }
  }

