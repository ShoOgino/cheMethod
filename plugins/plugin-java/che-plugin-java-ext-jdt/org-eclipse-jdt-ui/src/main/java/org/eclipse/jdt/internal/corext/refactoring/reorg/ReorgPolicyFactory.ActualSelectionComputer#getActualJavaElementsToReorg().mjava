    public IJavaElement[] getActualJavaElementsToReorg() throws JavaModelException {
      List<IJavaElement> result = new ArrayList<IJavaElement>();
      for (int i = 0; i < fJavaElements.length; i++) {
        IJavaElement element = fJavaElements[i];
        if (element == null) continue;
        if (element instanceof IType) {
          IType type = (IType) element;
          ICompilationUnit cu = type.getCompilationUnit();
          if (cu != null
              && type.getDeclaringType() == null
              && cu.exists()
              && cu.getTypes().length == 1
              && !result.contains(cu)) result.add(cu);
          else if (!result.contains(type)) result.add(type);
        } else if (!result.contains(element)) {
          result.add(element);
        }
      }
      return result.toArray(new IJavaElement[result.size()]);
    }

