  protected void appendTopLevelType(final IType type, IProgressMonitor subProgressMonitor)
      throws JavaModelException {
    String packageName = type.getPackageFragment().getElementName();
    if (packageName.length() > 0) {
      fBuffer.append("package "); // $NON-NLS-1$
      fBuffer.append(packageName);
      fBuffer.append(";\n"); // $NON-NLS-1$
    }
    appendTypeDeclaration(type, subProgressMonitor);
  }

