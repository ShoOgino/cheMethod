	/**
	 * Make type1's sub-structure at least as detailed as that of type2 by
	 * copying the structure of type2's parameters (or its parameters' parameters)
	 * into type1's parameters.
	 */
	private boolean updateStructureOfType(ParametricStructure type1, ParametricStructure type2) {
		if (type1 == null || type2 == null)
			return false;

		ParametricStructure[] parms1= type1.getParameters();
		ParametricStructure[] parms2= type2.getParameters();
		boolean someChange= false;

		Assert.isTrue(parms1.length == parms2.length);

		for(int i=0; i < parms1.length; i++) {
			if (type1 == parms2[i]) { // avoid creating cyclic structures!
				if (parms1[i] != ParametricStructure.NONE) {
					parms1[i]= ParametricStructure.NONE;
					someChange= true;
				}
			} else if (updateStructureOfIthParamFrom(type1, i, parms2[i]))
				someChange= true;
		}
		return someChange;
	}

