  /**
   * Returns the possibly <code>project</code>-specific core preference defined under <code>key
   * </code>, or <code>def</code> if the value is not a integer.
   *
   * @param project the project to get the preference from, or <code>null</code> to get the global
   *     preference
   * @param key the key of the preference
   * @param def the default value
   * @return the value of the preference
   * @since 3.1
   */
  private static int getCoreOption(IJavaProject project, String key, int def) {
    try {
      return Integer.parseInt(getCoreOption(project, key));
    } catch (NumberFormatException e) {
      return def;
    }
  }

