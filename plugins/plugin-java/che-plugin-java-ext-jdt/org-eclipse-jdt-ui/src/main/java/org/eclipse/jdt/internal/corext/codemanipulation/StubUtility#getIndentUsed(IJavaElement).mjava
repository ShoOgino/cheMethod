  /**
   * Evaluates the indentation used by a Java element. (in tabulators)
   *
   * @param elem the element to get the indent of
   * @return return the indent unit
   * @throws JavaModelException thrown if the element could not be accessed
   */
  public static int getIndentUsed(IJavaElement elem) throws JavaModelException {
    IOpenable openable = elem.getOpenable();
    if (openable instanceof ITypeRoot) {
      IBuffer buf = openable.getBuffer();
      if (buf != null) {
        int offset = ((ISourceReference) elem).getSourceRange().getOffset();
        return getIndentUsed(buf, offset, elem.getJavaProject());
      }
    }
    return 0;
  }

