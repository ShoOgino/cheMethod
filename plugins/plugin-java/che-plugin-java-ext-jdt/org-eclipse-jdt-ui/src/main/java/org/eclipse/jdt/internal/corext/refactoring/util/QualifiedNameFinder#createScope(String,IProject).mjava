  private static TextSearchScope createScope(String filePatterns, IProject root) {
    HashSet<IProject> res = new HashSet<IProject>();
    res.add(root);
    addReferencingProjects(root, res);
    IResource[] resArr = res.toArray(new IResource[res.size()]);
    Pattern filePattern = getFilePattern(filePatterns);

    return TextSearchScope.newSearchScope(resArr, filePattern, false);
  }

