  public static String[] computeAffectedNatures(IResource resource) throws CoreException {
    IProject project = resource.getProject();
    Set<String> result = new HashSet<String>();
    Set<IProject> visitedProjects = new HashSet<IProject>();
    computeNatures(result, visitedProjects, project);
    return result.toArray(new String[result.size()]);
  }

