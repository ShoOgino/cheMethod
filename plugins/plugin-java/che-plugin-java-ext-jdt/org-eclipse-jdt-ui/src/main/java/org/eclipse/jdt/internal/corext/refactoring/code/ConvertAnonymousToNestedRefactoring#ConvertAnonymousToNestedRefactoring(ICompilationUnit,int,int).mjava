  /**
   * Creates a new convert anonymous to nested refactoring.
   *
   * @param unit the compilation unit, or <code>null</code> if invoked by scripting
   * @param selectionStart start
   * @param selectionLength length
   */
  public ConvertAnonymousToNestedRefactoring(
      ICompilationUnit unit, int selectionStart, int selectionLength) {
    Assert.isTrue(selectionStart >= 0);
    Assert.isTrue(selectionLength >= 0);
    Assert.isTrue(unit == null || unit.exists());
    fSelectionStart = selectionStart;
    fSelectionLength = selectionLength;
    fCu = unit;
    fAnonymousInnerClassNode = null;
    fCompilationUnitNode = null;
  }

