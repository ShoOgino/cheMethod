  /*
   * @see IBuffer#isReadOnly()
   */
  public boolean isReadOnly() {
    //		if (fTextFileBuffer != null)
    //			return !fTextFileBuffer.isCommitable();

    IResource resource = getUnderlyingResource();
    if (resource == null) return true;

    final ResourceAttributes attributes = resource.getResourceAttributes();
    return attributes == null ? false : attributes.isReadOnly();
  }

