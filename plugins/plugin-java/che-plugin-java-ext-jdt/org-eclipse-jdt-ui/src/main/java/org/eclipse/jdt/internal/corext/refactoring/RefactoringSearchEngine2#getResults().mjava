  /**
   * Returns the results of the previous search queries.
   *
   * <p>The result depends on the following conditions:
   *
   * <ul>
   *   <li>If the search granularity is {@link #GRANULARITY_COMPILATION_UNIT}, the results are
   *       elements of type {@link ICompilationUnit} .
   *   <li>If grouping by resource is enabled, the results are elements of type {@link
   *       SearchResultGroup}, otherwise the elements are of type {@link SearchMatch}.
   * </ul>
   *
   * @return the results of the previous queries
   */
  public final Object[] getResults() {
    if (fGranularity == GRANULARITY_COMPILATION_UNIT) return getAffectedCompilationUnits();
    else {
      if (fGrouping) return getGroupedMatches();
      else return getUngroupedMatches();
    }
  }

