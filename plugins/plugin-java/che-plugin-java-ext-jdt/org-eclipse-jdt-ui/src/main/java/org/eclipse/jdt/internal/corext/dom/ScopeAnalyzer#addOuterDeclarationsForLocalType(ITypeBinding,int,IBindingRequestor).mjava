  private boolean addOuterDeclarationsForLocalType(
      ITypeBinding localBinding, int flags, IBindingRequestor requestor) {
    ASTNode node = fRoot.findDeclaringNode(localBinding);
    if (node == null) {
      return false;
    }

    if (node instanceof AbstractTypeDeclaration || node instanceof AnonymousClassDeclaration) {
      if (addLocalDeclarations(node.getParent(), flags, requestor)) return true;

      ITypeBinding parentTypeBinding = Bindings.getBindingOfParentType(node.getParent());
      if (parentTypeBinding != null) {
        if (addTypeDeclarations(parentTypeBinding, flags, requestor)) return true;
      }
    }
    return false;
  }

