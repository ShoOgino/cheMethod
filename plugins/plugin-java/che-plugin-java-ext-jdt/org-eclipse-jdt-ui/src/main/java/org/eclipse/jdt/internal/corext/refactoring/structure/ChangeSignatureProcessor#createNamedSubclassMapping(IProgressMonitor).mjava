  private Map<ICompilationUnit, Set<IType>> createNamedSubclassMapping(IProgressMonitor pm)
      throws JavaModelException {
    IType[] subclasses =
        getCachedTypeHierarchy(new SubProgressMonitor(pm, 1))
            .getSubclasses(fMethod.getDeclaringType());
    Map<ICompilationUnit, Set<IType>> result = new HashMap<ICompilationUnit, Set<IType>>();
    for (int i = 0; i < subclasses.length; i++) {
      IType subclass = subclasses[i];
      if (subclass.isAnonymous()) continue;
      ICompilationUnit cu = subclass.getCompilationUnit();
      if (!result.containsKey(cu)) result.put(cu, new HashSet<IType>());
      result.get(cu).add(subclass);
    }
    return result;
  }

