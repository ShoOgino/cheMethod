  /**
   * Returns the compiler options used for creating the refactoring AST.
   *
   * <p>Turns all errors and warnings into ignore and disables task tags. The customizable set of
   * compiler options only contains additional Eclipse options. The standard JDK compiler options
   * can't be changed anyway.
   *
   * @param element an element (not the Java model)
   * @return compiler options
   */
  public static Map<String, String> getCompilerOptions(IJavaElement element) {
    IJavaProject project = element.getJavaProject();
    Map<String, String> options = project.getOptions(true);
    for (Iterator<String> iter = options.keySet().iterator(); iter.hasNext(); ) {
      String key = iter.next();
      String value = options.get(key);
      if (JavaCore.ERROR.equals(value) || JavaCore.WARNING.equals(value)) {
        // System.out.println("Ignoring - " + key);
        options.put(key, JavaCore.IGNORE);
      }
    }
    options.put(JavaCore.COMPILER_PB_MAX_PER_UNIT, "0"); //$NON-NLS-1$
    options.put(JavaCore.COMPILER_TASK_TAGS, ""); //$NON-NLS-1$
    return options;
  }

