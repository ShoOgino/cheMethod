  /*
   * Don't use this method directly, use CodeGeneration.
   * @see org.eclipse.jdt.ui.CodeGeneration#getCompilationUnitContent(ICompilationUnit, String, String, String, String)
   */
  public static String getCompilationUnitContent(
      ICompilationUnit cu,
      String fileComment,
      String typeComment,
      String typeContent,
      String lineDelimiter)
      throws CoreException {
    IPackageFragment pack = (IPackageFragment) cu.getParent();
    String packDecl =
        pack.isDefaultPackage()
            ? ""
            : "package " + pack.getElementName() + ';'; //$NON-NLS-1$ //$NON-NLS-2$
    return getCompilationUnitContent(
        cu, packDecl, fileComment, typeComment, typeContent, lineDelimiter);
  }

