  private int getNameEnd(IBuffer doc, int pos) {
    if (pos > 0) {
      if (Character.isWhitespace(doc.getChar(pos - 1))) {
        return pos;
      }
    }
    int len = doc.getLength();
    while (pos < len) {
      char ch = doc.getChar(pos);
      if (!Character.isJavaIdentifierPart(ch)) {
        return pos;
      }
      pos++;
    }
    return pos;
  }

