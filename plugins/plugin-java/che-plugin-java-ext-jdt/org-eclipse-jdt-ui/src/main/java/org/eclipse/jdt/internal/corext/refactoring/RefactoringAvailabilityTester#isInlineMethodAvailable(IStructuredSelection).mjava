  public static boolean isInlineMethodAvailable(final IStructuredSelection selection)
      throws JavaModelException {
    if (selection.isEmpty() || selection.size() != 1) return false;
    final Object first = selection.getFirstElement();
    return (first instanceof IMethod) && isInlineMethodAvailable(((IMethod) first));
  }

