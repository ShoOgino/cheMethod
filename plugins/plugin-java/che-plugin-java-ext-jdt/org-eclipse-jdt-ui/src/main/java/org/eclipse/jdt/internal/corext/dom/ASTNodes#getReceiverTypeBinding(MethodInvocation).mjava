    /**
     * Returns the receiver's type binding of the given method invocation.
     *
     * @param invocation method invocation to resolve type of
     * @return the type binding of the receiver
     */
    public static ITypeBinding getReceiverTypeBinding(MethodInvocation invocation) {
        ITypeBinding result = null;
        Expression exp = invocation.getExpression();
        if (exp != null) {
            return exp.resolveTypeBinding();
        } else {
            AbstractTypeDeclaration type = (AbstractTypeDeclaration)getParent(invocation, AbstractTypeDeclaration.class);
            if (type != null)
                return type.resolveBinding();
        }
        return result;
    }

