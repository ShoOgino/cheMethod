	@Override
	protected ASTRewrite getRewrite() throws CoreException {
		CompilationUnit astRoot = ASTResolving.findParentCompilationUnit(fInvocationNode);
		ASTNode typeDecl = astRoot.findDeclaringNode(fSenderBinding);
		ASTNode newTypeDecl = null;
		if (typeDecl != null) {
			newTypeDecl = typeDecl;
		} else {
			astRoot = ASTResolving.createQuickFixAST(getCompilationUnit(), null);
			newTypeDecl = astRoot.findDeclaringNode(fSenderBinding.getKey());
		}
		createImportRewrite(astRoot);

		if (newTypeDecl instanceof AnnotationTypeDeclaration) {
			AnnotationTypeDeclaration newAnnotationTypeDecl = (AnnotationTypeDeclaration)newTypeDecl;

			ASTRewrite rewrite = ASTRewrite.create(astRoot.getAST());

			AnnotationTypeMemberDeclaration newStub = getStub(rewrite, newAnnotationTypeDecl);

			List<BodyDeclaration> members = newAnnotationTypeDecl.bodyDeclarations();
			int insertIndex = members.size();

			ListRewrite listRewriter = rewrite.getListRewrite(newAnnotationTypeDecl, AnnotationTypeDeclaration.BODY_DECLARATIONS_PROPERTY);
			listRewriter.insertAt(newStub, insertIndex, null);

			return rewrite;
		}
		return null;
	}

