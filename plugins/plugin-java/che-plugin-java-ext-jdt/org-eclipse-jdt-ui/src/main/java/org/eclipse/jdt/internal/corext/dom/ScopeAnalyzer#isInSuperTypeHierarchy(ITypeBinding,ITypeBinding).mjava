  /*
   * This method is different from Binding.isSuperType as type declarations are compared
   */
  private static boolean isInSuperTypeHierarchy(
      ITypeBinding possibleSuperTypeDecl, ITypeBinding type) {
    if (type == possibleSuperTypeDecl) {
      return true;
    }
    ITypeBinding superClass = type.getSuperclass();
    if (superClass != null) {
      if (isInSuperTypeHierarchy(possibleSuperTypeDecl, superClass.getTypeDeclaration())) {
        return true;
      }
    }
    if (possibleSuperTypeDecl.isInterface()) {
      ITypeBinding[] superInterfaces = type.getInterfaces();
      for (int i = 0; i < superInterfaces.length; i++) {
        if (isInSuperTypeHierarchy(
            possibleSuperTypeDecl, superInterfaces[i].getTypeDeclaration())) {
          return true;
        }
      }
    }
    return false;
  }

