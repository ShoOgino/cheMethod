  private IMethod[] getAllRippleMethods(IProgressMonitor pm, WorkingCopyOwner owner)
      throws CoreException {
    IMethod[] rippleMethods = findAllRippleMethods(pm, owner);
    if (fDeclarationToMatch == null) return rippleMethods;

    List<IMethod> rippleMethodsList = new ArrayList<IMethod>(Arrays.asList(rippleMethods));
    for (Iterator<IMethod> iter = rippleMethodsList.iterator(); iter.hasNext(); ) {
      Object match = fDeclarationToMatch.get(iter.next());
      if (match != null) {
        iter.remove();
        fBinaryRefs.add((SearchMatch) match);
      }
    }
    fDeclarationToMatch = null;
    return rippleMethodsList.toArray(new IMethod[rippleMethodsList.size()]);
  }

