  //
  //	public static void insertStyles(StringBuffer buffer, String[] styles) {
  //		if (styles == null || styles.length == 0)
  //			return;
  //
  //		StringBuffer styleBuf= new StringBuffer(10 * styles.length);
  //		for (int i= 0; i < styles.length; i++) {
  //			styleBuf.append(" style=\""); //$NON-NLS-1$
  //			styleBuf.append(styles[i]);
  //			styleBuf.append('"');
  //		}
  //
  //		// Find insertion index
  //		// a) within existing body tag with trailing space
  //		int index= buffer.indexOf("<body "); //$NON-NLS-1$
  //		if (index != -1) {
  //			buffer.insert(index+5, styleBuf);
  //			return;
  //		}
  //
  //		// b) within existing body tag without attributes
  //		index= buffer.indexOf("<body>"); //$NON-NLS-1$
  //		if (index != -1) {
  //			buffer.insert(index+5, ' ');
  //			buffer.insert(index+6, styleBuf);
  //			return;
  //		}
  //	}
  //
  private static void appendStyleSheet(StringBuffer buffer, String styleSheet) {
    if (styleSheet == null) return;

    // workaround for https://bugs.eclipse.org/318243
    //		StringBuffer fg= new StringBuffer();
    //		appendColor(fg, FG_COLOR_RGB);
    //		styleSheet= styleSheet.replaceAll("InfoText", fg.toString()); //$NON-NLS-1$
    //		StringBuffer bg= new StringBuffer();
    //		appendColor(bg, BG_COLOR_RGB);
    //		styleSheet= styleSheet.replaceAll("InfoBackground", bg.toString()); //$NON-NLS-1$

    buffer.append("<head><style CHARSET=\"UTF-8\" TYPE=\"text/css\">"); // $NON-NLS-1$
    buffer.append(styleSheet);
    buffer.append("</style></head>"); // $NON-NLS-1$
  }

