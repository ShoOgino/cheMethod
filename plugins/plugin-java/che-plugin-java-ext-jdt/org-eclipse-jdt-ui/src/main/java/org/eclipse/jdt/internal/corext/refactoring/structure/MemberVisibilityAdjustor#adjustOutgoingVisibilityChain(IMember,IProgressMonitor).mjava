  private void adjustOutgoingVisibilityChain(final IMember member, final IProgressMonitor monitor)
      throws JavaModelException {

    if (!Modifier.isPublic(member.getFlags())) {
      final ModifierKeyword threshold =
          computeOutgoingVisibilityThreshold(fReferencing, member, monitor);
      if (member instanceof IMethod) {
        adjustOutgoingVisibility(
            member,
            threshold,
            RefactoringCoreMessages.MemberVisibilityAdjustor_change_visibility_method_warning);
      } else if (member instanceof IField) {
        adjustOutgoingVisibility((IField) member, threshold);
      } else if (member instanceof IType) {
        adjustOutgoingVisibility(
            member,
            threshold,
            RefactoringCoreMessages.MemberVisibilityAdjustor_change_visibility_type_warning);
      }
    }

    if (member.getDeclaringType() != null)
      adjustOutgoingVisibilityChain(member.getDeclaringType(), monitor);
  }

