  /* (non-Javadoc)
   * @see org.eclipse.jdt.internal.ui.text.correction.ASTRewriteCorrectionProposal#getRewrite()
   */
  @Override
  protected ASTRewrite getRewrite() throws CoreException {
    CompilationUnit astRoot = fContext.getASTRoot();

    AST ast = astRoot.getAST();
    ASTRewrite rewrite = ASTRewrite.create(ast);

    AbstractTypeDeclaration decl = findTypeDeclaration(astRoot.types(), fOldName);
    if (decl != null) {
      ASTNode[] sameNodes = LinkedNodeFinder.findByNode(astRoot, decl.getName());
      for (int i = 0; i < sameNodes.length; i++) {
        rewrite.replace(sameNodes[i], ast.newSimpleName(fNewName), null);
      }
    }
    return rewrite;
  }

