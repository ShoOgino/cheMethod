  /**
   * Returns the content assist type history for the expected type.
   *
   * @return the content assist type history for the expected type
   */
  private RHSHistory getRHSHistory() {
    if (fRHSHistory == null) {
      CompletionContext context = getCoreContext();
      if (context != null) {
        char[][] expectedTypes = context.getExpectedTypesSignatures();
        if (expectedTypes != null && expectedTypes.length > 0) {
          String expected = SignatureUtil.stripSignatureToFQN(String.valueOf(expectedTypes[0]));
          fRHSHistory = JavaPlugin.getDefault().getContentAssistHistory().getHistory(expected);
        }
      }
      if (fRHSHistory == null)
        fRHSHistory = JavaPlugin.getDefault().getContentAssistHistory().getHistory(null);
    }
    return fRHSHistory;
  }

