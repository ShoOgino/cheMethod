    @Override
    public boolean acceptFile(IFile file) throws CoreException {
      IJavaElement element = JavaCore.create(file);
      if ((element != null && element.exists())) return false;

      // Only touch text files (see bug https://bugs.eclipse.org/bugs/show_bug.cgi?id=114153 ):
      if (!FileBuffers.getTextFileBufferManager().isTextFileLocation(file.getFullPath(), false))
        return false;

      IPath path = file.getProjectRelativePath();
      String segment = path.segment(0);
      if (segment != null
          && (segment.startsWith(".refactorings")
              || segment.startsWith(".deprecations"))) //$NON-NLS-1$
        // $NON-NLS-2$
        return false;

      return true;
    }

