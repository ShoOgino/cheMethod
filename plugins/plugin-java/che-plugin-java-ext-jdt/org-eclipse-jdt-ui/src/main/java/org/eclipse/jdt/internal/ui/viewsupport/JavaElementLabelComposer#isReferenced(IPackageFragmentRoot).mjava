  /**
   * Returns <code>true</code> if the given package fragment root is referenced. This means it is a
   * descendant of a different project but is referenced by the root's parent. Returns <code>false
   * </code> if the given root doesn't have an underlying resource.
   *
   * @param root the package fragment root
   * @return returns <code>true</code> if the given package fragment root is referenced
   */
  private boolean isReferenced(IPackageFragmentRoot root) {
    IResource resource = root.getResource();
    if (resource != null) {
      IProject jarProject = resource.getProject();
      IProject container = root.getJavaProject().getProject();
      return !container.equals(jarProject);
    }
    return false;
  }

