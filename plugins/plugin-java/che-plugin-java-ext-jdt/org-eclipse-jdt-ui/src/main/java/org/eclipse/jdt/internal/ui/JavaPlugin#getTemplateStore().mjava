    /**
     * Returns the template store for the java editor templates.
     *
     * @return the template store for the java editor templates
     * @since 3.0
     */
    public TemplateStore getTemplateStore() {
        if (fTemplateStore == null) {
//            final IPreferenceStore store= getPreferenceStore();
//            boolean alreadyMigrated= store.getBoolean(TEMPLATES_MIGRATION_KEY);
//            if (alreadyMigrated)
            fTemplateStore = new ContributionTemplateStore(getTemplateContextRegistry(), /*store, */TEMPLATES_KEY);
//            else {
//                fTemplateStore= new CompatibilityTemplateStore(getTemplateContextRegistry(), store, TEMPLATES_KEY,
// getOldTemplateStoreInstance());
//                store.setValue(TEMPLATES_MIGRATION_KEY, true);
//            }

            try {
                fTemplateStore.load();
            } catch (IOException e) {
                log(e);
            }
//            fTemplateStore.startListeningForPreferenceChanges();
        }

        return fTemplateStore;
    }

