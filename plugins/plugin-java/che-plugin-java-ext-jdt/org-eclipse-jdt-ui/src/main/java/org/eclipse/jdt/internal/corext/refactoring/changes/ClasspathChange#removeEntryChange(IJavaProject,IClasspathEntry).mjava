  public static ClasspathChange removeEntryChange(
      IJavaProject project, IClasspathEntry entryToRemove) throws JavaModelException {
    IClasspathEntry[] rawClasspath = project.getRawClasspath();
    ArrayList<IClasspathEntry> newClasspath = new ArrayList<IClasspathEntry>();
    for (int i = 0; i < rawClasspath.length; i++) {
      IClasspathEntry curr = rawClasspath[i];
      if (curr.getEntryKind() != entryToRemove.getEntryKind()
          || !curr.getPath().equals(entryToRemove.getPath())) {
        newClasspath.add(curr);
      }
    }
    IClasspathEntry[] entries = newClasspath.toArray(new IClasspathEntry[newClasspath.size()]);
    IPath outputLocation = project.getOutputLocation();

    return newChange(project, entries, outputLocation);
  }

