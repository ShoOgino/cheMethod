  private static AddThisQualifierOperation getUnqualifiedFieldAccessResolveOperation(
      CompilationUnit compilationUnit, IProblemLocation problem) {
    SimpleName name = getName(compilationUnit, problem);
    if (name == null) return null;

    IBinding binding = name.resolveBinding();
    if (binding == null || binding.getKind() != IBinding.VARIABLE) return null;

    ImportRewrite imports = StubUtility.createImportRewrite(compilationUnit, true);

    String replacement =
        getThisExpressionQualifier(((IVariableBinding) binding).getDeclaringClass(), imports, name);
    if (replacement == null) return null;

    if (replacement.length() == 0) replacement = null;

    return new AddThisQualifierOperation(replacement, name);
  }

