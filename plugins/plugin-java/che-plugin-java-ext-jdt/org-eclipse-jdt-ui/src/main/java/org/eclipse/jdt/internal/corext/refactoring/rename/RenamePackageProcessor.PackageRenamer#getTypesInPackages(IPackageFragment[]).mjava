    private IType[] getTypesInPackages(IPackageFragment[] packageFragments)
        throws JavaModelException {
      List<IType> types = new ArrayList<IType>();
      for (int i = 0; i < packageFragments.length; i++) {
        IPackageFragment pack = packageFragments[i];
        addContainedTypes(pack, types);
      }
      return types.toArray(new IType[types.size()]);
    }

