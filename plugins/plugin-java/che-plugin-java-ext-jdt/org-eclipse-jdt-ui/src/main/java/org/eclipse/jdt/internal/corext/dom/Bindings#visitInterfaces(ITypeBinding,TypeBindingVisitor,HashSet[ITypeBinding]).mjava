  private static boolean visitInterfaces(
      ITypeBinding type, TypeBindingVisitor visitor, HashSet<ITypeBinding> visited) {
    boolean unvisited = visited.add(type);
    if (!unvisited) return true;
    ITypeBinding[] interfaces = type.getInterfaces();
    for (int i = 0; i < interfaces.length; i++) {
      if (!visitor.visit(interfaces[i])) {
        return false;
      }
      if (!visitInterfaces(interfaces[i], visitor, visited)) {
        return false;
      }
    }
    return true;
  }

