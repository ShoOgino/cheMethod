    private List<IContextInformation> addContextInformations(JavaContentAssistInvocationContext context, int offset) {
        List<ICompletionProposal> proposals = internalComputeCompletionProposals(offset, context);
        List<IContextInformation> result = new ArrayList<IContextInformation>(proposals.size());
        List<IContextInformation> anonymousResult = new ArrayList<IContextInformation>(proposals.size());

        for (Iterator<ICompletionProposal> it = proposals.iterator(); it.hasNext(); ) {
            ICompletionProposal proposal = it.next();
            IContextInformation contextInformation = proposal.getContextInformation();
            if (contextInformation != null) {
                ContextInformationWrapper wrapper = new ContextInformationWrapper(contextInformation);
                wrapper.setContextInformationPosition(offset);
                if (proposal instanceof AnonymousTypeCompletionProposal)
                    anonymousResult.add(wrapper);
                else
                    result.add(wrapper);
            }
        }

        if (result.size() == 0)
            return anonymousResult;
        return result;

    }

