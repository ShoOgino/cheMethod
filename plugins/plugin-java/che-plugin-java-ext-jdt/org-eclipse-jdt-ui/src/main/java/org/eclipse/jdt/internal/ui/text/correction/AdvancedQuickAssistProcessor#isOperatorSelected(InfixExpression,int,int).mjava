  private static int isOperatorSelected(InfixExpression infixExpression, int offset, int length) {
    ASTNode left = infixExpression.getLeftOperand();
    ASTNode right = infixExpression.getRightOperand();

    if (isSelectingOperator(left, right, offset, length)) {
      return ASTNodes.getExclusiveEnd(left);
    }
    List<Expression> extended = infixExpression.extendedOperands();
    for (int i = 0; i < extended.size(); i++) {
      left = right;
      right = extended.get(i);
      if (isSelectingOperator(left, right, offset, length)) {
        return ASTNodes.getExclusiveEnd(left);
      }
    }
    return -1;
  }

