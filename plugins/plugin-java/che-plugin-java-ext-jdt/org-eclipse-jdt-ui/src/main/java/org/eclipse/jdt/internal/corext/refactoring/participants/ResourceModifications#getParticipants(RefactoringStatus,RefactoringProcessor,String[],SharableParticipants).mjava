  public RefactoringParticipant[] getParticipants(
      RefactoringStatus status,
      RefactoringProcessor processor,
      String[] natures,
      SharableParticipants shared) {
    List<RefactoringParticipant> result = new ArrayList<RefactoringParticipant>(5);
    if (fDelete != null) {
      DeleteArguments arguments = new DeleteArguments();
      for (Iterator<IResource> iter = fDelete.iterator(); iter.hasNext(); ) {
        DeleteParticipant[] deletes =
            ParticipantManager.loadDeleteParticipants(
                status, processor, iter.next(), arguments, natures, shared);
        result.addAll(Arrays.asList(deletes));
      }
    }
    if (fCreate != null) {
      CreateArguments arguments = new CreateArguments();
      for (Iterator<IResource> iter = fCreate.iterator(); iter.hasNext(); ) {
        CreateParticipant[] creates =
            ParticipantManager.loadCreateParticipants(
                status, processor, iter.next(), arguments, natures, shared);
        result.addAll(Arrays.asList(creates));
      }
    }
    if (fMove != null) {
      for (int i = 0; i < fMove.size(); i++) {
        Object element = fMove.get(i);
        MoveArguments arguments = fMoveArguments.get(i);
        MoveParticipant[] moves =
            ParticipantManager.loadMoveParticipants(
                status, processor, element, arguments, natures, shared);
        result.addAll(Arrays.asList(moves));
      }
    }
    if (fCopy != null) {
      for (int i = 0; i < fCopy.size(); i++) {
        Object element = fCopy.get(i);
        CopyArguments arguments = fCopyArguments.get(i);
        CopyParticipant[] copies =
            ParticipantManager.loadCopyParticipants(
                status, processor, element, arguments, natures, shared);
        result.addAll(Arrays.asList(copies));
      }
    }
    if (fRename != null) {
      for (int i = 0; i < fRename.size(); i++) {
        Object resource = fRename.get(i);
        RenameArguments arguments = fRenameArguments.get(i);
        RenameParticipant[] renames =
            ParticipantManager.loadRenameParticipants(
                status, processor, resource, arguments, natures, shared);
        result.addAll(Arrays.asList(renames));
      }
    }
    return result.toArray(new RefactoringParticipant[result.size()]);
  }

