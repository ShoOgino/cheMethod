  /*
   * Returns whether the given resource matches one of the exclusion patterns.
   * NOTE: should not be asked directly using pkg root pathes
   * @see IClasspathEntry#getExclusionPatterns
   */
  public static final boolean isExcluded(
      File resource, char[][] inclusionPatterns, char[][] exclusionPatterns) {
    IPath path = new Path(resource.getAbsolutePath());
    // ensure that folders are only excluded if all of their children are excluded
    int resourceType = resource.isFile() ? IResource.FILE : IResource.FOLDER;
    return isExcluded(
        path,
        inclusionPatterns,
        exclusionPatterns,
        resourceType == IResource.FOLDER || resourceType == IResource.PROJECT);
  }

