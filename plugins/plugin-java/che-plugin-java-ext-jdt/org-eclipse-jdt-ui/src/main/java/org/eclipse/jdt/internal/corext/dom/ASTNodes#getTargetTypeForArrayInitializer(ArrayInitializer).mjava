  private static ITypeBinding getTargetTypeForArrayInitializer(ArrayInitializer arrayInitializer) {
    ASTNode initializerParent = arrayInitializer.getParent();
    while (initializerParent instanceof ArrayInitializer) {
      initializerParent = initializerParent.getParent();
    }
    if (initializerParent instanceof ArrayCreation) {
      return ((ArrayCreation) initializerParent).getType().getElementType().resolveBinding();
    } else if (initializerParent instanceof VariableDeclaration) {
      ITypeBinding typeBinding =
          ((VariableDeclaration) initializerParent).getName().resolveTypeBinding();
      if (typeBinding != null) {
        return typeBinding.getElementType();
      }
    }
    return null;
  }

