  public static PackageNameAbbreviation[] parseAbbreviationPattern(String pattern) {
    String[] parts = pattern.split("\\s*(?:\r\n?|\n)\\s*"); //$NON-NLS-1$

    ArrayList<PackageNameAbbreviation> result = new ArrayList<PackageNameAbbreviation>();

    for (int i = 0; i < parts.length; i++) {
      String part = parts[i].trim();

      if (part.length() == 0) continue;

      String[] parts2 = part.split("\\s*=\\s*", 2); //$NON-NLS-1$

      if (parts2.length != 2) return null;

      String prefix = parts2[0].trim();
      String abbr = parts2[1].trim();

      if (prefix.startsWith("#")) //$NON-NLS-1$
      continue;

      PackageNameAbbreviation pkgAbbr = new PackageNameAbbreviation(prefix, abbr);

      result.add(pkgAbbr);
    }

    Collections.sort(
        result,
        new Comparator<PackageNameAbbreviation>() {
          public int compare(PackageNameAbbreviation a1, PackageNameAbbreviation a2) {
            return a2.getPackagePrefix().length() - a1.getPackagePrefix().length();
          }
        });

    return result.toArray(new PackageNameAbbreviation[0]);
  }

