    @Override
    public void apply(IDocument document) {
      try {
        final SelfEncapsulateFieldRefactoring refactoring =
            new SelfEncapsulateFieldRefactoring(fField);
        refactoring.setVisibility(Flags.AccPublic);
        refactoring.setConsiderVisibility(
            false); //private field references are just searched in local file
        //				if (fNoDialog) {
        //					IWorkbenchWindow window = PlatformUI.getWorkbench().getActiveWorkbenchWindow();
        //					final RefactoringExecutionHelper helper =
        //							new RefactoringExecutionHelper(refactoring, RefactoringStatus.ERROR, RefactoringSaveHelper.SAVE_REFACTORING,
        //														   JavaPlugin.getActiveWorkbenchShell(), window);
        //					if (Display.getCurrent() != null) {
        //						try {
        //							helper.perform(false, false);
        //						} catch (InterruptedException e) {
        //							JavaPlugin.log(e);
        //						} catch (InvocationTargetException e) {
        //							JavaPlugin.log(e);
        //						}
        //					} else {
        //						Display.getDefault().syncExec(new Runnable() {
        //							public void run() {
        //								try {
        //									helper.perform(false, false);
        //								} catch (InterruptedException e) {
        //									JavaPlugin.log(e);
        //								} catch (InvocationTargetException e) {
        //									JavaPlugin.log(e);
        //								}
        //							}
        //						});
        //					}
        //				} else {
        //					new RefactoringStarter().activate(new SelfEncapsulateFieldWizard(refactoring), JavaPlugin.getActiveWorkbenchShell(),
        //													  "",
        //													  RefactoringSaveHelper.SAVE_REFACTORING); //$NON-NLS-1$
        //				}
      } catch (JavaModelException e) {
        //				ExceptionHandler.handle(e, CorrectionMessages.GetterSetterCorrectionSubProcessor_encapsulate_field_error_title,
        //										CorrectionMessages.GetterSetterCorrectionSubProcessor_encapsulate_field_error_message);
      }
    }

