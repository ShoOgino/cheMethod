  private void checkExpression(RefactoringStatus status) {
    ASTNode[] nodes = getSelectedNodes();
    if (nodes != null && nodes.length == 1) {
      ASTNode node = nodes[0];
      if (node instanceof Type) {
        status.addFatalError(
            RefactoringCoreMessages.ExtractMethodAnalyzer_cannot_extract_type_reference,
            JavaStatusContext.create(fCUnit, node));
      } else if (node.getLocationInParent() == SwitchCase.EXPRESSION_PROPERTY) {
        status.addFatalError(
            RefactoringCoreMessages.ExtractMethodAnalyzer_cannot_extract_switch_case,
            JavaStatusContext.create(fCUnit, node));
      } else if (node instanceof Annotation || ASTNodes.getParent(node, Annotation.class) != null) {
        status.addFatalError(
            RefactoringCoreMessages.ExtractMethodAnalyzer_cannot_extract_from_annotation,
            JavaStatusContext.create(fCUnit, node));
      }
    }
  }

