  /**
   * @param map the map with <code>&lt;String, String&gt;</code> mapping
   * @param attribute the key in the map
   * @return <code>true</code> iff the map contains a boolean attribute for the key
   * @throws IllegalArgumentException if the attribute exists but is not a boolean
   */
  public static boolean hasBoolean(Map map, String attribute) throws IllegalArgumentException {
    String string = getString(map, attribute, true);
    if (string == null) return false;

    //Boolean.valueOf(value) does not complain about wrong values
    String value = string.toLowerCase();
    if (LOWER_CASE_TRUE.equals(value)) return true;

    if (LOWER_CASE_FALSE.equals(value)) return true;
    throw new IllegalArgumentException(
        "The attribute '"
            + attribute
            + "' does not contain a valid boolean: '"
            + value
            + "'"); //$NON-NLS-1$ //$NON-NLS-2$ //$NON-NLS-3$
  }

