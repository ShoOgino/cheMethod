  @Override
  protected void doRename(IProgressMonitor pm) throws CoreException {
    try {
      pm.beginTask(getName(), 2);
      if (fUpdateReferences) modifyClassPaths(new SubProgressMonitor(pm, 1));
      IProject project = getProject();
      if (project != null) {
        IProjectDescription description = project.getDescription();
        description.setName(getNewName());
        project.move(
            description, IResource.FORCE | IResource.SHALLOW, new SubProgressMonitor(pm, 1));
      }
    } finally {
      pm.done();
    }
  }

