  @Override
  public void endVisit(ClassInstanceCreation node) {
    Expression receiver = node.getExpression();
    Type createdType = node.getType();

    ConstraintVariable2 typeCv;
    if (node.getAnonymousClassDeclaration() == null) {
      typeCv = getConstraintVariable(createdType);
    } else {
      typeCv = fTCModel.makeImmutableTypeVariable(createdType.resolveBinding(), null);
      setConstraintVariable(createdType, typeCv);
    }
    setConstraintVariable(node, typeCv);

    IMethodBinding methodBinding = node.resolveConstructorBinding();
    Map<String, IndependentTypeVariable2> methodTypeVariables =
        createMethodTypeArguments(methodBinding);
    List<Expression> arguments = node.arguments();
    doVisitMethodInvocationArguments(
        methodBinding, arguments, receiver, methodTypeVariables, createdType);
  }

