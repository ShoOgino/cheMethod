  private ITypeHierarchy getCachedHierarchy(
      IType type, WorkingCopyOwner owner, IProgressMonitor monitor) throws JavaModelException {
    IType rep = fUnionFind.find(type);
    if (rep != null) {
      Collection<IType> collection = fRootReps.get(rep);
      for (Iterator<IType> iter = collection.iterator(); iter.hasNext(); ) {
        IType root = iter.next();
        ITypeHierarchy hierarchy = fRootHierarchies.get(root);
        if (hierarchy == null) {
          hierarchy = root.newTypeHierarchy(owner, new SubProgressMonitor(monitor, 1));
          fRootHierarchies.put(root, hierarchy);
        }
        if (hierarchy.contains(type)) return hierarchy;
      }
    }
    return null;
  }

