    /**
     * Returns the element type. This is a convenience method that returns its
     * argument if it is a simple type and the element type if the parameter is an array type.
     * @param type The type to get the element type from.
     * @return The element type of the type or the type itself.
     */
    public static Type getElementType(Type type) {
        if (!type.isArrayType())
            return type;
        return ((ArrayType)type).getElementType();
    }

