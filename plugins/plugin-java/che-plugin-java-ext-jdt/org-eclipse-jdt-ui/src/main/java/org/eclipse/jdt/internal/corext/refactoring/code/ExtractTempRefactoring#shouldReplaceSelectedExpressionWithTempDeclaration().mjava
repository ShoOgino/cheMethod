  private boolean shouldReplaceSelectedExpressionWithTempDeclaration() throws JavaModelException {
    IExpressionFragment selectedFragment = getSelectedExpression();
    return selectedFragment.getAssociatedNode().getParent() instanceof ExpressionStatement
        && selectedFragment.matches(
            ASTFragmentFactory.createFragmentForFullSubtree(selectedFragment.getAssociatedNode()));
  }

