  /**
   * Converts the specified resource to an input handle.
   *
   * @param project the project, or <code>null</code> for the workspace
   * @param resourcePath the resource
   * @return the input handle Note: if the given project is not the resource's project, then the
   *     full handle is returned
   */
  public static String resourcePathToHandle(final String project, final IPath resourcePath) {
    if (project != null && !"".equals(project) && resourcePath.segmentCount() != 1) //$NON-NLS-1$
    if (resourcePath.segment(0).equals(project)) {
        return resourcePath.removeFirstSegments(1).toPortableString();
      }
    return resourcePath.toPortableString();
  }

