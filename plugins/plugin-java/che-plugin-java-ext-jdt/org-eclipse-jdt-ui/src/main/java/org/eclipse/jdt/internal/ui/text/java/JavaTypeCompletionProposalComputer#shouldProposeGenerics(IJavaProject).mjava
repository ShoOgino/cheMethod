  /**
   * Returns <code>true</code> if generic proposals should be allowed, <code>false</code> if not.
   * Note that even though code (in a library) may be referenced that uses generics, it is still
   * possible that the current source does not allow generics.
   *
   * @param project the Java project
   * @return <code>true</code> if the generic proposals should be allowed, <code>false</code> if not
   */
  protected final boolean shouldProposeGenerics(IJavaProject project) {
    String sourceVersion;
    if (project != null) sourceVersion = project.getOption(JavaCore.COMPILER_SOURCE, true);
    else sourceVersion = JavaCore.getOption(JavaCore.COMPILER_SOURCE);

    return sourceVersion != null && JavaCore.VERSION_1_5.compareTo(sourceVersion) <= 0;
  }

