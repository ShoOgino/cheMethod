  private static void collectInfixPlusOperands(Expression expression, List<Expression> collector) {
    if (expression instanceof InfixExpression
        && ((InfixExpression) expression).getOperator() == InfixExpression.Operator.PLUS) {
      InfixExpression infixExpression = (InfixExpression) expression;

      collectInfixPlusOperands(infixExpression.getLeftOperand(), collector);
      collectInfixPlusOperands(infixExpression.getRightOperand(), collector);
      List<Expression> extendedOperands = infixExpression.extendedOperands();
      for (Iterator<Expression> iter = extendedOperands.iterator(); iter.hasNext(); ) {
        collectInfixPlusOperands(iter.next(), collector);
      }

    } else {
      collector.add(expression);
    }
  }

