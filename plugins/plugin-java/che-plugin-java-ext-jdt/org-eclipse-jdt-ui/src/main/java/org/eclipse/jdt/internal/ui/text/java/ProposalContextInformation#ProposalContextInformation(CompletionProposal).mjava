  /**
   * Creates a new context information.
   *
   * @param proposal the JDT Core completion proposal
   */
  public ProposalContextInformation(CompletionProposal proposal) {
    // don't cache the core proposal because the ContentAssistant might
    // hang on to the context info.
    CompletionProposalLabelProvider labelProvider = new CompletionProposalLabelProvider();
    fInformationDisplayString = labelProvider.createParameterList(proposal);
    ImageDescriptor descriptor = labelProvider.createImageDescriptor(proposal);
    if (descriptor != null) fImage = JavaPlugin.getImageDescriptorRegistry().get(descriptor);
    else fImage = null;
    if (proposal.getCompletion().length == 0) fPosition = proposal.getCompletionLocation() + 1;
    else fPosition = -1;
    fContextDisplayString = labelProvider.createLabel(proposal);
  }

