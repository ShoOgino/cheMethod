  /**
   * Helper function: gets long for a given name.
   *
   * @param p the properties storage (may be <code>null</code>)
   * @param name the name of the property
   * @return the long or a default value of if:
   *     <ul>
   *       <li>properties storage is <code>null</code>
   *       <li>property is not found
   *       <li>property value is not a number
   *     </ul>
   *
   * @see IPreferenceStore#LONG_DEFAULT_DEFAULT
   */
  private long getLong(Properties p, String name) {
    String value = p != null ? p.getProperty(name) : null;
    if (value == null) {
      return LONG_DEFAULT_DEFAULT;
    }
    long ival = LONG_DEFAULT_DEFAULT;
    try {
      ival = Long.parseLong(value);
    } catch (NumberFormatException e) {
    }
    return ival;
  }

