  private <T> T doGetOne(
      String command, List<Object> params, Type type, long timeoutInSeconds, TimeUnit timeUnit) {
    CompletableFuture<Object> result = executeCommand(command, params);
    try {
      return gson.fromJson(gson.toJson(result.get(timeoutInSeconds, timeUnit)), type);
    } catch (TimeoutException e) {
      String errorMessage = e.getLocalizedMessage();
      throw new JsonRpcException(
          -27000,
          isNullOrEmpty(errorMessage) ? "Operation was interrupted by timeout" : errorMessage);
    } catch (JsonSyntaxException | InterruptedException | ExecutionException e) {
      throw new JsonRpcException(-27000, e.getMessage());
    }
  }

