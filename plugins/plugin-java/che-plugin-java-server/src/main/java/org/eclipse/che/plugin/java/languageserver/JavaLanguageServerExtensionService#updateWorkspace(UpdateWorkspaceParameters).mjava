  /** Update jdt.ls workspace accordingly to added or removed projects. */
  public JobResult updateWorkspace(UpdateWorkspaceParameters updateWorkspaceParameters) {
    if (updateWorkspaceParameters.getAddedProjectsUri().isEmpty()) {
      if (findInitializedLanguageServer() == null) {
        return new JobResult(
            Severity.OK,
            0,
            "Skipped. Language server not initialized. Workspace updating is not required.");
      }
    }

    Type type = new TypeToken<JobResult>() {}.getType();
    List<Object> params = singletonList(updateWorkspaceParameters);

    try {
      return doGetOne(Commands.UPDATE_WORKSPACE, params, type, 1, TimeUnit.HOURS);
    } catch (Exception e) {
      LOG.error(e.getMessage(), e);
      return new JobResult(Severity.ERROR, 1, e.getMessage());
    } finally {
      updateProjectsWithProblems(updateWorkspaceParameters.getAddedProjectsUri());
    }
  }

