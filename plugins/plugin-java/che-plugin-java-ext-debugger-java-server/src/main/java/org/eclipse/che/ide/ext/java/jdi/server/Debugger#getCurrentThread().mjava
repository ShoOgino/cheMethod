    private ThreadReference getCurrentThread() throws DebuggerStateException {
        if (thread == null) {
            throw new DebuggerStateException("Target Java VM is not suspended. ");
        }
        return thread;
    }

