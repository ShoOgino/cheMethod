    public ExpressionValue ternaryOperator(ExpressionValue testCondition, ExpressionValue value1, ExpressionValue value2) {
        Value test = testCondition.getValue();
        if (!(test instanceof BooleanValue)) {
            throw new ExpressionException("Invalid ternary operator. ");
        }
        return ((BooleanValue)test).booleanValue() ? value1 : value2;
    }

