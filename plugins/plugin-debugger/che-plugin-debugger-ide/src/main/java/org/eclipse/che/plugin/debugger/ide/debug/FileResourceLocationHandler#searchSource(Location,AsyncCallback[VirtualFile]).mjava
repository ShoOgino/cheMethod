  protected void searchSource(final Location location, final AsyncCallback<VirtualFile> callback) {
    appContext
        .getWorkspaceRoot()
        .search(location.getTarget(), "")
        .then(
            result -> {
              List<SearchItemReference> resources = result.getItemReferences();
              if (resources.isEmpty()) {
                callback.onFailure(
                    new IllegalArgumentException(location.getTarget() + " not found."));
                return;
              }

              appContext
                  .getWorkspaceRoot()
                  .getFile(resources.get(0).getPath())
                  .then(
                      file -> {
                        if (file.isPresent()) {
                          callback.onSuccess(file.get());
                        } else {
                          callback.onFailure(
                              new IllegalArgumentException(location + " not found."));
                        }
                      })
                  .catchError(
                      error -> {
                        callback.onFailure(new IllegalArgumentException(location + " not found."));
                      });
            })
        .catchError(
            error -> {
              callback.onFailure(new IllegalArgumentException(location + " not found."));
            });
  }

