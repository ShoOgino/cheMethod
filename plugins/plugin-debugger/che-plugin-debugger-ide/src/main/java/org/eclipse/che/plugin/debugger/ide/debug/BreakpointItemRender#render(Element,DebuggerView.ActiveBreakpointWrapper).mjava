  @Override
  public void render(Element itemElement, DebuggerView.ActiveBreakpointWrapper breakpointWrapper) {
    Breakpoint breakpoint = breakpointWrapper.getBreakpoint();
    BreakpointResources.Css css = breakpointResources.getCss();

    TableCellElement label = Elements.createTDElement();

    SafeHtmlBuilder sb = new SafeHtmlBuilder();
    // Add icon
    sb.appendHtmlConstant("<table><tr><td>");
    sb.appendHtmlConstant("<div class=\"");
    if (!breakpoint.isEnabled()) {
      sb.appendHtmlConstant(css.breakpoint() + " " + css.disabled());
    } else if (breakpointWrapper.isActive()) {
      sb.appendHtmlConstant(css.breakpoint() + " " + css.active());
    } else {
      sb.appendHtmlConstant(css.breakpoint() + " " + css.inactive());
    }
    sb.appendHtmlConstant("\" style=\"height: 14px; width: 14px; text-align: center\"");
    sb.appendHtmlConstant(
        " id=\""
            + breakpoint.getLocation().getTarget()
            + ":"
            + breakpoint.getLocation().getLineNumber()
            + "\">");
    if (breakpoint.getCondition() != null) {
      sb.appendHtmlConstant("?");
    }
    sb.appendHtmlConstant("</div>");

    sb.appendHtmlConstant("</td>");

    // Add title
    sb.appendHtmlConstant("<td>");

    String path = breakpoint.getLocation().getTarget();
    sb.appendEscaped(
        path.substring(path.lastIndexOf("/") + 1)
            + ":"
            + String.valueOf(breakpoint.getLocation().getLineNumber()));
    sb.appendHtmlConstant("</td></tr></table>");

    label.setInnerHTML(sb.toSafeHtml().asString());

    itemElement.appendChild(label);
  }

