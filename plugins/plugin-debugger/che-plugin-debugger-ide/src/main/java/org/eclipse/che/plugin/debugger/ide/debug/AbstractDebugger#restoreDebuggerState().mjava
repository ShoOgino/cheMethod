  /** Loads debugger information from the local storage. */
  protected void restoreDebuggerState() {
    invalidateDebugSession();

    LocalStorage localStorage = localStorageProvider.get();
    if (localStorage == null) {
      return;
    }

    String data = localStorage.getItem(LOCAL_STORAGE_DEBUGGER_SESSION_KEY);
    if (!Strings.isNullOrEmpty(data)) {
      DebugSessionDto debugSessionDto = dtoFactory.createDtoFromJson(data, DebugSessionDto.class);
      if (!debugSessionDto.getType().equals(getDebuggerType())) {
        return;
      }

      setDebugSession(debugSessionDto);
    }

    data = localStorage.getItem(LOCAL_STORAGE_DEBUGGER_STATE_KEY);
    if (!Strings.isNullOrEmpty(data)) {
      currentLocation = dtoFactory.createDtoFromJson(data, LocationDto.class);
    }

    data = localStorage.getItem(LOCAL_STORAGE_DEBUGGER_DISPOSABLE_BREAKPOINT_KEY);
    if (!Strings.isNullOrEmpty(data)) {
      disposableBreakpoint = dtoFactory.createDtoFromJson(data, BreakpointDto.class);
    }
  }

