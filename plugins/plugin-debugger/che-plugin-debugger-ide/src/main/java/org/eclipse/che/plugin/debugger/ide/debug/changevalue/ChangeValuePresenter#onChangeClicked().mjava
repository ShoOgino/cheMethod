  @Override
  public void onChangeClicked() {
    Debugger debugger = debuggerManager.getActiveDebugger();
    if (debugger != null && debugger.isSuspended()) {
      Variable selectedVariable = debuggerPresenter.getSelectedVariable();

      if (selectedVariable != null) {
        Variable newVariable =
            new VariableImpl(
                selectedVariable.getType(),
                selectedVariable.getName(),
                new SimpleValueImpl(view.getValue()),
                selectedVariable.isPrimitive(),
                selectedVariable.getVariablePath());

        final long threadId = debuggerPresenter.getSelectedThreadId();
        final int frameIndex = debuggerPresenter.getSelectedFrameIndex();
        debugger.setValue(newVariable, threadId, frameIndex);
      }
    }

    view.close();
  }

