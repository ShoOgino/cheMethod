  protected void updateThreadDump() {
    Debugger debugger = debuggerManager.getActiveDebugger();
    if (debugger != null && debugger.isSuspended()) {
      debugger
          .getThreadDump()
          .then(
              threadDump -> {
                DebuggerPresenter.this.threadDump = threadDump;
                if (executionPoint != null) {
                  view.setThreadDump(threadDump, executionPoint.getThreadId());
                  updateStackFrameDump(executionPoint.getThreadId());
                  view.removeAllVariables();
                  updateVariables(executionPoint.getThreadId(), 0);
                  updateWatchExpressions(executionPoint.getThreadId(), 0);
                }
              })
          .catchError(
              error -> {
                Log.error(DebuggerPresenter.class, error.getCause());
              });
    }
  }

