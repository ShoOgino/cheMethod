  protected void refreshView() {
    Debugger debugger = debuggerManager.getActiveDebugger();
    if (debugger != null && debugger.isSuspended()) {
      debugger
          .getThreadDump()
          .then(
              threadDump -> {
                DebuggerPresenter.this.threadDump =
                    threadDump.stream().collect(Collectors.toMap(ThreadStateDto::getId, ts -> ts));

                if (executionPoint != null) {
                  view.setThreadDump(threadDump, executionPoint.getThreadId());
                  refreshView(executionPoint.getThreadId());
                }
              })
          .catchError(
              error -> {
                Log.error(DebuggerPresenter.class, error.getCause());
              });
    }
  }

