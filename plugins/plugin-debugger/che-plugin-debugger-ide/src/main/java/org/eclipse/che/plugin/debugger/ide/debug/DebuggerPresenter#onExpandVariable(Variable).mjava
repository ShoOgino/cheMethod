  @Override
  public void onExpandVariable(Variable variable) {
    Debugger debugger = debuggerManager.getActiveDebugger();

    if (debugger != null && debugger.isSuspended()) {
      long threadId = view.getSelectedThreadId();
      int frameIndex = view.getSelectedFrameIndex();

      debugger
          .getValue(variable, threadId, frameIndex)
          .then(
              value -> {
                if (isSameSelection(threadId, frameIndex)) {
                  MutableVariable updatedVariable =
                      new MutableVariableImpl(
                          variable.getType(),
                          variable.getName(),
                          value,
                          variable.getVariablePath(),
                          variable.isPrimitive());

                  view.expandVariable(updatedVariable);
                }
              })
          .catchError(
              error -> {
                Log.error(DebuggerPresenter.class, error.getCause());
              });
    }
  }

