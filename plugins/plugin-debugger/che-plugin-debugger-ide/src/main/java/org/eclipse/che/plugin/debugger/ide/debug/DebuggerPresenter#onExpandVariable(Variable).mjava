  @Override
  public void onExpandVariable(Variable variable) {
    Debugger debugger = debuggerManager.getActiveDebugger();
    if (debugger != null && debugger.isSuspended()) {
      Promise<? extends SimpleValue> promise =
          debugger.getValue(variable, view.getSelectedThreadId(), view.getSelectedFrameIndex());
      promise
          .then(
              value -> {
                MutableVariable updatedVariable =
                    variable instanceof MutableVariable
                        ? ((MutableVariable) variable)
                        : new MutableVariableImpl(variable);
                updatedVariable.setValue(value);
                view.expandVariable(updatedVariable);
              })
          .catchError(
              error -> {
                Log.error(DebuggerPresenter.class, error.getCause());
              });
    }
  }

