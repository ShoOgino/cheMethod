  private List<VariableDto> toDto(List<? extends Variable> variables) {
    if (variables == null || variables.isEmpty()) {
      return Collections.emptyList();
    }

    List<VariableDto> dtos = new ArrayList<>(variables.size());
    for (Variable v : variables) {
      dtos.add(toDto(v));
    }
    return dtos;
  }

