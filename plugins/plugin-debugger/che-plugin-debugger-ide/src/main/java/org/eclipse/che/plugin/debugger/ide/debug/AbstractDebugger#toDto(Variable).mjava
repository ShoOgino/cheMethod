  private VariableDto toDto(Variable variable) {
    SimpleValue simpleValue = variable.getValue();
    VariablePath variablePath = variable.getVariablePath();
    VariableDto dto = dtoFactory.createDto(VariableDto.class);
    dto.withValue(
        dtoFactory
            .createDto(SimpleValueDto.class)
            .withString(simpleValue.getString())
            .withVariables(toDto(simpleValue.getVariables())));
    dto.withVariablePath(
        dtoFactory.createDto(VariablePathDto.class).withPath(variablePath.getPath()));
    dto.withPrimitive(variable.isPrimitive());
    dto.withType(variable.getType());
    dto.withName(variable.getName());

    return dto;
  }

