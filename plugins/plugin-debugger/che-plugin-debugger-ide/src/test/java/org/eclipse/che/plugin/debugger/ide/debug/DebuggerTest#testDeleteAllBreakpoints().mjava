    @Test
    public void testDeleteAllBreakpoints() throws Exception {
        doReturn(promiseVoid).when(service).deleteAllBreakpoints(SESSION_ID);
        doReturn(promiseVoid).when(promiseVoid).then((Operation<Void>)any());

        debugger.deleteAllBreakpoints();

        verify(promiseVoid).then(operationVoidCaptor.capture());
        operationVoidCaptor.getValue().apply(null);
        verify(observer).onAllBreakpointsDeleted();

        verify(promiseVoid).catchError(operationPromiseErrorCaptor.capture());
        operationPromiseErrorCaptor.getValue().apply(promiseError);
        verify(promiseError).getMessage();
    }

