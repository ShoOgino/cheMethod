  @Test
  public void testEvaluateExpression() throws Exception {
    final String expression = "a = 1";
    Promise<String> promiseString = mock(Promise.class);
    doReturn(promiseString).when(service).evaluate(SESSION_ID, expression, THREAD_ID, FRAME_INDEX);

    Promise<String> result = debugger.evaluate(expression, THREAD_ID, FRAME_INDEX);
    assertEquals(promiseString, result);
  }

