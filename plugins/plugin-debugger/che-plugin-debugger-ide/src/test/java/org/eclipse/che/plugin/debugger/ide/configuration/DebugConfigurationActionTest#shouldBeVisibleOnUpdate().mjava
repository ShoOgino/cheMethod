    @Test
    public void shouldBeVisibleOnUpdate() {
        String confName = "test_conf";
        when(debugConfiguration.getName()).thenReturn(confName);

        DebugConfiguration configuration = mock(DebugConfiguration.class);
        Optional<DebugConfiguration> configurationOptional = mock(Optional.class);
        when(configurationOptional.isPresent()).thenReturn(Boolean.TRUE);
        when(configurationOptional.get()).thenReturn(configuration);
        when(debugConfigurationsManager.getCurrentDebugConfiguration()).thenReturn(configurationOptional);

        ActionEvent event = mock(ActionEvent.class);
        Presentation presentation = mock(Presentation.class);
        when(event.getPresentation()).thenReturn(presentation);

        action.updateInPerspective(event);

        verify(presentation).setEnabledAndVisible(true);
    }

