  @Override
  public void onTestFinished(TestFinishedEvent event) {
    String name = event.getName();
    TestState testState = getStateByStateName(name);

    if (testState == null) {
      return;
    }

    testState.setDuration(event.getDuration());
    testState.setFinished();
    testNameToTestState.remove(name);
    currentChildren.remove(testState);

    callTestFinished(testState);
  }

