  private AbstractTestStateInfo calculateInfoOnFinish() {
    AbstractTestStateInfo result;
    if (isLeaf()) {
      result = SuiteFinishedInfo.EMPTY_LEAF_SUITE;
    } else if (isEmptySuite()) {
      result = SuiteFinishedInfo.EMPTY_INFO;
    } else {
      if (isProblem()) {
        if (hasErrorTests()) {
          result = SuiteFinishedInfo.ERROR_SUITE;
        } else {
          if (hasFailedTest()) {
            result = SuiteFinishedInfo.FAILED_SUITE;
          } else {
            result = SuiteFinishedInfo.IGNORED_TEST_SUITE;
          }
        }
      } else {
        result = SuiteFinishedInfo.PASSED_SUITE;
      }
    }
    return result;
  }

