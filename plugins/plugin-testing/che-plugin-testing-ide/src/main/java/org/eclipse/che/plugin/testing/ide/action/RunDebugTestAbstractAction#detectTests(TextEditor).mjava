    private void detectTests(TextEditor editor) {
        this.currentEditor = editor;
        TestDetectionContext context = dtoFactory.createDto(TestDetectionContext.class);
        context.setFilePath(currentEditor.getEditorInput().getFile().getLocation().toString());
        context.setOffset(currentEditor.getCursorOffset());
        context.setProjectPath(appContext.getRootProject().getPath());
        client.detectTests(context).onSuccess(testDetectionResult -> {
            hasTests = testDetectionResult.isTestFile();
            testPosition = testDetectionResult.getTestPosition();
        }).onFailure(jsonRpcError -> {
            Log.error(getClass(), jsonRpcError);
            hasTests = false;
            notificationManager.notify("Can't detect test methods");
        });
    }

