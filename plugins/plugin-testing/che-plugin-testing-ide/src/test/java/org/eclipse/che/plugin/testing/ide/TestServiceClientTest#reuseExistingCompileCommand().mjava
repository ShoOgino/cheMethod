  @Test
  public void reuseExistingCompileCommand() {
    CommandImpl existingCompileCommand =
        new CommandImpl("test-compile", "mvn test-compile -f ${current.project.path}", "mvn");
    when(commandManager.getCommands())
        .thenReturn(
            asList(
                new CommandImpl("run", "mvn run -f ${current.project.path}", "mvn"),
                new CommandImpl("build", "mvn clean install -f ${current.project.path}", "mvn"),
                existingCompileCommand));

    testServiceClient.getOrCreateTestCompileCommand();

    verify(promiseProvider).resolve(existingCompileCommand);
  }

