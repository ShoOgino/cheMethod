  public <B> PromiseMocker<T> applyOnThenPromise(T value) {
    when(promise.thenPromise(org.mockito.ArgumentMatchers.<Function<T, Promise<B>>>any()))
        .then(
            new FunctionAnswer<Function<T, Promise<B>>, Promise<B>>(
                function -> {
                  try {
                    return function.apply(value);
                  } catch (Exception e) {
                    e.printStackTrace();
                  }
                  return null;
                }));
    return this;
  }

