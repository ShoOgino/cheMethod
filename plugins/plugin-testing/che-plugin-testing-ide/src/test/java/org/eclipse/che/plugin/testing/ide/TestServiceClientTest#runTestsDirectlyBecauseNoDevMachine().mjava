  @Test
  public void runTestsDirectlyBecauseNoDevMachine() {
    Promise<CommandImpl> compileCommandPromise =
        createCommandPromise(
            new CommandImpl("test-compile", "mvn test-compile -f ${current.project.path}", "mvn"));

    when(devMachine.getDescriptor()).thenReturn(null);

    testServiceClient.runTestsAfterCompilation(
        projectPath, testFramework, parameters, statusNotification, compileCommandPromise);

    verify(statusNotification).setContent("Executing the tests without preliminary compilation.");
    verify(execAgentCommandManager, never()).startProcess(anyString(), Matchers.<Command>any());
    verify(testServiceClient).sendTests(projectPath, testFramework, parameters);
  }

