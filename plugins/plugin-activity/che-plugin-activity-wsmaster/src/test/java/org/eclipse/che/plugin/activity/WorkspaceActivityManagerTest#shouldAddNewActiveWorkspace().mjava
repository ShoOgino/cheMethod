  @Test
  public void shouldAddNewActiveWorkspace() throws Exception {
    final String wsId = "testWsId";
    final long activityTime = 1000L;
    final Map<String, Long> activeWorkspaces = getActiveWorkspaces(activityManager);
    boolean wsAlreadyAdded = activeWorkspaces.containsKey(wsId);

    activityManager.update(wsId, activityTime);

    assertFalse(wsAlreadyAdded);
    assertEquals((long) activeWorkspaces.get(wsId), activityTime + EXPIRE_PERIOD_MS);
    assertFalse(activeWorkspaces.isEmpty());
  }

