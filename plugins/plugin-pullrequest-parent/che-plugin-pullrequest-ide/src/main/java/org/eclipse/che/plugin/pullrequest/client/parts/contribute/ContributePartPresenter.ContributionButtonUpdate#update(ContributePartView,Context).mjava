    @Override
    public void update(final ContributePartView view, final Context context) {
      final boolean isEnabled =
          !nullToEmpty(context.getViewState().getContributionTitle()).isEmpty();
      final boolean isInProgress;
      final String buttonText;
      switch (context.getStatus()) {
        case UPDATING_PR:
          buttonText =
              messages.contributePartConfigureContributionSectionButtonContributeUpdateText();
          isInProgress = true;
          break;
        case READY_TO_UPDATE_PR:
          buttonText =
              messages.contributePartConfigureContributionSectionButtonContributeUpdateText();
          isInProgress = false;
          break;
        case CREATING_PR:
          buttonText = messages.contributePartConfigureContributionSectionButtonContributeText();
          isInProgress = true;
          break;
        case READY_TO_CREATE_PR:
          buttonText = messages.contributePartConfigureContributionSectionButtonContributeText();
          isInProgress = false;
          break;
        default:
          throw new IllegalStateException("Illegal workflow status " + context.getStatus());
      }
      view.setContributeButtonText(buttonText);
      view.setContributionProgressState(isInProgress);
      view.setContributeButtonEnabled(isEnabled);
    }

