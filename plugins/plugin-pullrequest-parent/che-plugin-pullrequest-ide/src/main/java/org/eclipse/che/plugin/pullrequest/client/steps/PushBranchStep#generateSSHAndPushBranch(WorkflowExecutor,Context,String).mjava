  private void generateSSHAndPushBranch(
      final WorkflowExecutor executor, final Context context, String host) {
    sshService
        .generatePair("vcs", host)
        .then(
            new Operation<SshPairDto>() {
              @Override
              public void apply(SshPairDto arg) throws OperationException {
                pushBranch(executor, context);
              }
            })
        .catchError(
            new Operation<PromiseError>() {
              @Override
              public void apply(PromiseError err) throws OperationException {
                executor.fail(delegate, context, err.getMessage());
              }
            });
  }

