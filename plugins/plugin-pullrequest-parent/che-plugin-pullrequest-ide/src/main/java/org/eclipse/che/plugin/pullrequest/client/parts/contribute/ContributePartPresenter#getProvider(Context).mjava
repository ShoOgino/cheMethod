    private StagesProvider getProvider(final Context context) {
        for (Map.Entry<String, StagesProvider> entry : stagesProviders.entrySet()) {
            if (entry.getKey().equals(context.getVcsHostingService().getName())) {
                return entry.getValue();
            }
        }
        throw new IllegalStateException("StagesProvider for VCS hosting service "
                                        + context.getVcsHostingService().getName()
                                        + " isn't registered");
    }

