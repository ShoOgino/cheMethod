    @Override
    public void execute(@NotNull final WorkflowExecutor executor, final Context context) {
        final VcsService vcsService = vcsServiceProvider.getVcsService(context.getProject());

        vcsService.getBranchName(context.getProject())
                  .then(new Operation<String>() {
                      @Override
                      public void apply(String branchName) throws OperationException {
                          if (context.getContributeToBranchName() == null) {
                              context.setContributeToBranchName(branchName);
                          }
                          context.setWorkBranchName(branchName);
                          executor.done(DefineWorkBranchStep.this, context);
                      }
                  })
                  .catchError(new Operation<PromiseError>() {
                      @Override
                      public void apply(PromiseError err) throws OperationException {
                          notificationManager.notify(err.getCause().getLocalizedMessage(), FAIL, FLOAT_MODE);
                          executor.fail(DefineWorkBranchStep.this, context, err.getCause().getLocalizedMessage());
                      }
                  });
    }

