  private void onSelectionChanged(Selection<?> selection) {
    WorkspaceStatus workspaceStatus = appContext.getWorkspace().getStatus();
    if (RUNNING != workspaceStatus
        || !isSupportedSelection(selection)
        || isContributePartHiddenByUser()) {
      return;
    }

    if (appContext.getRootProject() != null) {
      handleCurrentProject();
      return;
    }

    String message =
        selection.isMultiSelection()
            ? messages.stubTextShouldBeSelectedOnlyOneProject()
            : messages.stubTextProjectIsNotSelected();

    contributePart.showStub(message);
    invalidateContext(lastSelected);
  }

