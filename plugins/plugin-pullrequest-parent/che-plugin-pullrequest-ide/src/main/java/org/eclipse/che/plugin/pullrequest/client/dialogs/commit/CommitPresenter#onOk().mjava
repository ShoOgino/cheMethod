  @Override
  public void onOk() {
    final Project project = appContext.getRootProject();
    if (project != null) {
      vcsServiceProvider
          .getVcsService(project)
          .commit(
              project,
              view.isIncludeUntracked(),
              view.getCommitDescription(),
              new AsyncCallback<Void>() {
                @Override
                public void onFailure(final Throwable exception) {
                  notificationManager.notify(exception.getMessage(), FAIL, FLOAT_MODE);
                }

                @Override
                public void onSuccess(final Void result) {
                  view.close();

                  if (handler != null) {
                    handler.onCommitAction(OK);
                  }
                }
              });
    }
  }

