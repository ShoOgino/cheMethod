    @Override
    public void execute(final WorkflowExecutor executor, final Context context) {
        final PullRequest pullRequest = context.getPullRequest();
        factoryService.getFactoryJson(appContext.getWorkspaceId(), null)
                      .then(new Operation<FactoryDto>() {
                          @Override
                          public void apply(FactoryDto currentFactory) throws OperationException {
                              final String factoryId = extractFactoryId(pullRequest.getDescription());
                              if (!Strings.isNullOrEmpty(factoryId)) {
                                  updateFactory(executor, context, factoryId, currentFactory);
                              } else {
                                  addReviewUrl(executor, context, currentFactory);
                              }
                          }
                      })
                      .catchError(handleError(executor, context));
    }

