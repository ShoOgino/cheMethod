  protected Path[] toRelativePaths(Resource[] resources) {
    final Path[] paths = new Path[resources.length];

    for (int i = 0; i < resources.length; i++) {
      checkState(project.getLocation().isPrefixOf(resources[i].getLocation()));

      final Path tmpPath =
          resources[i].getLocation().removeFirstSegments(project.getLocation().segmentCount());

      paths[i] = tmpPath.isEmpty() ? tmpPath.append(".") : tmpPath;
    }

    return paths;
  }

