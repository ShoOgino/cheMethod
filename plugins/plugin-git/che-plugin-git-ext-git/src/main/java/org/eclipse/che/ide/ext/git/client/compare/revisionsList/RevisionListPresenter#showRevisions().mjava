    /** Open dialog and shows revisions to compare. */
    public void showRevisions() {
        project = appContext.getCurrentProject().getRootProject();
        String path;

        Selection<?> selection = getExplorerSelection();

        if (selection == null || selection.getHeadElement() == null) {
            path = project.getPath();
        } else {
            path = ((HasStorablePath)selection.getHeadElement()).getStorablePath();
        }

        String pattern = path.replaceFirst(project.getPath(), "");
        selectedFile = (pattern.startsWith("/")) ? pattern.replaceFirst("/", "") : pattern;

        getRevisions();
    }

