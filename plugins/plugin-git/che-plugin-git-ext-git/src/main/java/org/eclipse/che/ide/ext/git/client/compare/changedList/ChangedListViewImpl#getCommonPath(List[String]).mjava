    private String getCommonPath(List<String> paths) {
        Path commonPath = Path.valueOf(paths.get(0));
        int segmentCount = commonPath.segmentCount();
        for (int i = 1; i < segmentCount; i++) {
            for (String currentPath : paths) {
                String path = commonPath.removeLastSegments(segmentCount - i).toString();
                if (!currentPath.startsWith(path)) {
                    return Path.valueOf(path).removeLastSegments(1).toString();
                }
            }
        }
        return commonPath.toString();
    }

