  private void addToIndex(final GitOutputConsole console) {
    Resource[] resources = appContext.getResources();
    Path[] paths = new Path[resources.length];
    for (int i = 0; i < resources.length; i++) {
      Path path = resources[i].getLocation().removeFirstSegments(1);
      paths[i] = path.segmentCount() == 0 ? Path.EMPTY : path;
    }
    service
        .add(appContext.getRootProject().getLocation(), false, paths)
        .then(
            voidArg -> {
              console.print(constant.addSuccess());
              notificationManager.notify(constant.addSuccess());
            })
        .catchError(
            error -> {
              console.printError(constant.addFailed());
              notificationManager.notify(constant.addFailed(), FAIL, FLOAT_MODE);
            });
  }

