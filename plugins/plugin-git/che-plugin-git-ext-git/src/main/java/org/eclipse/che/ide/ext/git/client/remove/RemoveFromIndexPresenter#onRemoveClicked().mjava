  /** {@inheritDoc} */
  @Override
  public void onRemoveClicked() {
    final GitOutputConsole console = gitOutputConsoleFactory.create(REMOVE_FROM_INDEX_COMMAND_NAME);

    final Resource[] resources = appContext.getResources();

    checkState(!isNullOrEmpty(resources));

    service
        .remove(project.getLocation(), toRelativePaths(resources), view.isRemoved())
        .then(
            ignored -> {
              console.print(constant.removeFilesSuccessful());
              consolesPanelPresenter.addCommandOutput(console);
              notificationManager.notify(constant.removeFilesSuccessful());
            })
        .catchError(
            error -> {
              handleError(error.getCause(), console);
              consolesPanelPresenter.addCommandOutput(console);
            });

    view.close();
  }

