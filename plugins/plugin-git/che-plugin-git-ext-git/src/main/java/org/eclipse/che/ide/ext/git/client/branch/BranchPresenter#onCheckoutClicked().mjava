  @Override
  public void onCheckoutClicked() {
    final CheckoutRequest checkoutRequest = dtoFactory.createDto(CheckoutRequest.class);
    if (selectedBranch.isRemote()) {
      checkoutRequest.setTrackBranch(selectedBranch.getDisplayName());
    } else {
      checkoutRequest.setName(selectedBranch.getDisplayName());
    }

    service
        .checkout(project.getLocation(), checkoutRequest)
        .then(
            ignored -> {
              view.closeDialogIfShowing();
            })
        .catchError(
            error -> {
              handleError(error.getCause(), BRANCH_CHECKOUT_COMMAND_NAME);
            });
  }

