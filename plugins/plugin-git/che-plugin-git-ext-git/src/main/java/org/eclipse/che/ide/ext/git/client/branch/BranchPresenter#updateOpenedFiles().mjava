    private void updateOpenedFiles() {
        for (EditorPartPresenter editorPartPresenter : editorAgent.getOpenedEditors()) {
            final VirtualFile file = editorPartPresenter.getEditorInput().getFile();
            final String filePath = file.getPath();
            Unmarshallable<ItemReference> unmarshaller = dtoUnmarshallerFactory.newUnmarshaller(ItemReference.class);

            projectService.getItem(appContext.getDevMachine(), filePath,
                                   new AsyncRequestCallback<org.eclipse.che.api.project.shared.dto.ItemReference>(unmarshaller) {
                                       @Override
                                       protected void onSuccess(ItemReference itemReference) {
                                           eventBus.fireEvent(new FileContentUpdateEvent(filePath));
                                       }

                                       @Override
                                       protected void onFailure(Throwable throwable) {
                                           eventBus.fireEvent(new FileEvent(file, FileEvent.FileOperation.CLOSE));
                                       }
                                   });

        }
    }

