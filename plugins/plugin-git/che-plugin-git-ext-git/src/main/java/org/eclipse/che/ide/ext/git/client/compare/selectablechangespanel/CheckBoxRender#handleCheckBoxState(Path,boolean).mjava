  private void handleCheckBoxState(Path path, boolean isChecked) {
    if (isChecked) {
      unselected.add(path);
    } else {
      unselected.remove(path);
    }

    if (delegate.getAllFiles().contains(path.toString())) {
      delegate.onFileNodeCheckBoxValueChanged(path, !isChecked);
    }

    if (hasSelectedChildren(path) && !hasAllSelectedChildren(path)) {
      indeterminate.add(path);
    } else {
      indeterminate.remove(path);
    }
  }

