    private void renameBranch(String newName) {
        service.branchRename(appContext.getDevMachine(), project.getLocation(), selectedBranch.getDisplayName(), newName)
               .then(new Operation<Void>() {
                   @Override
                   public void apply(Void ignored) throws OperationException {
                       getBranches();
                   }
               })
               .catchError(new Operation<PromiseError>() {
                   @Override
                   public void apply(PromiseError error) throws OperationException {
                       handleError(error.getCause(), BRANCH_RENAME_COMMAND_NAME);
                       getBranches();//rename of remote branch occurs in three stages, so needs update list of branches on view
                   }
               });
    }

