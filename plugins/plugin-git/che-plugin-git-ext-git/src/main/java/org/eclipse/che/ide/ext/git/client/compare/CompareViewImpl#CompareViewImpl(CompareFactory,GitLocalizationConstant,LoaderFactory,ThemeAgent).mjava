    @Inject
    public CompareViewImpl(CompareFactory compareFactory,
                           GitLocalizationConstant locale,
                           LoaderFactory loaderFactory,
                           ThemeAgent themeAgent) {
        this.compareFactory = compareFactory;
        this.locale = locale;
        this.loaderFactory = loaderFactory;
        this.themeAgent = themeAgent;

        setWidget(UI_BINDER.createAndBindUi(this));

        dockPanel.setSize(String.valueOf((com.google.gwt.user.client.Window.getClientWidth() / 100) * 95) + "px",
                          String.valueOf((com.google.gwt.user.client.Window.getClientHeight() / 100) * 90) + "px");

        Button closeButton = createButton(locale.buttonClose(), "git-compare-close-btn", new ClickHandler() {
            @Override
            public void onClick(ClickEvent event) {
                delegate.onCloseButtonClicked();
            }
        });

        addButtonToFooter(closeButton);

        comparePanel.getElement().setId(Document.get().createUniqueId());
    }

