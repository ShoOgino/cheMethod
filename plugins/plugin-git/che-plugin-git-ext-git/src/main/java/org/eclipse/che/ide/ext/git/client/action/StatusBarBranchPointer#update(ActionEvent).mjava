  @Override
  public void update(ActionEvent e) {
    panel.clear();

    Project project = appContext.getRootProject();
    if (project != null && project.getAttributes().containsKey(GIT_CURRENT_HEAD_NAME)) {
      Label projectNameLabel = new Label(project.getName());
      projectNameLabel.ensureDebugId("statusBarProjectBranchRepositoryName");
      projectNameLabel.getElement().getStyle().setMarginLeft(5., Unit.PX);
      panel.add(projectNameLabel);

      SVGImage branchIcon = new SVGImage(resources.checkoutReference());
      branchIcon.getSvgElement().getStyle().setMarginLeft(5., Unit.PX);
      panel.add(branchIcon);

      Label headLabel = new Label(project.getAttribute(GIT_CURRENT_HEAD_NAME));
      headLabel.ensureDebugId("statusBarProjectBranchName");
      headLabel.setTitle(constant.branchesControlTitle());
      Style headLabelStyle = headLabel.getElement().getStyle();
      headLabelStyle.setCursor(Cursor.POINTER);
      headLabelStyle.setMarginLeft(5., Unit.PX);
      headLabel.addClickHandler(event -> branchPresenter.showBranches(project));
      panel.add(headLabel);
    }
  }

