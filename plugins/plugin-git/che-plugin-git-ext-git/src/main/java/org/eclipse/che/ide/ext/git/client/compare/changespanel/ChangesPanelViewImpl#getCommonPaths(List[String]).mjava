    private List<String> getCommonPaths(List<String> allPaths) {
        List<String> commonPaths = new ArrayList<>();
        allPaths.sort(naturalOrder());
        for (String path : allPaths) {
            int pathIndex = allPaths.indexOf(path);
            if (pathIndex + 1 == allPaths.size()) {
                continue;
            }
            String commonPath = getCommonPath(allPaths.get(pathIndex), allPaths.get(pathIndex + 1));
            if (!commonPath.isEmpty() && !commonPaths.contains(commonPath)) {
                commonPaths.add(commonPath);
            }
        }
        return commonPaths;
    }

