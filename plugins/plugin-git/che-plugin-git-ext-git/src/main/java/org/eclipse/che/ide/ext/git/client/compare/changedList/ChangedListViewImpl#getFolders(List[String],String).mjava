    private String getFolders(List<String> allPaths, String comparedPath) {
        Path path = Path.valueOf(comparedPath);
        int segmentCount = path.segmentCount();
        for (int i = segmentCount; i > 0; i--) {
            if (allPaths.contains(path.removeLastSegments(segmentCount - i + 1).toString())) {
                return path.removeFirstSegments(i - 1).toString();
            }
        }
        return comparedPath;
    }

