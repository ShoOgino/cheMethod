  @Override
  public void viewChangedFiles(AlteredFiles files, ViewMode viewMode) {
    NodeStorage nodeStorage = tree.getNodeStorage();
    nodeStorage.clear();
    if (viewMode == TREE) {
      getGroupedNodes(files.getChangedFilesMap()).forEach(nodeStorage::add);
      tree.expandAll();
    } else {
      files
          .getAlteredFilesList()
          .forEach(
              file ->
                  nodeStorage.add(
                      new ChangedFileNode(
                          file, files.getStatusByFilePath(file), nodesResources, delegate, false)));
    }
  }

