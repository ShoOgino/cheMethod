  private void compare() {
    service
        .diff(
            project.getLocation(),
            singletonList(selectedFilePath.toString()),
            NAME_STATUS,
            false,
            0,
            selectedRevision.getId(),
            false)
        .then(
            diff -> {
              if (diff.isEmpty()) {
                dialogFactory
                    .createMessageDialog(
                        locale.compareMessageIdenticalContentTitle(),
                        locale.compareMessageIdenticalContentText(),
                        null)
                    .show();
              } else {
                AlteredFiles alteredFiles = new AlteredFiles(project, diff);
                comparePresenter.showCompareWithLatest(
                    alteredFiles, null, selectedRevision.getId());
              }
            })
        .catchError(
            arg -> {
              notificationManager.notify(locale.diffFailed(), FAIL, NOT_EMERGE_MODE);
            });
  }

