    private void compare() {
        service.diff(project.getLocation(),
                     singletonList(selectedFilePath.toString()),
                     NAME_STATUS,
                     false,
                     0,
                     selectedRevision.getId(),
                     false)
               .then(diff -> {
                   if (diff.isEmpty()) {
                       dialogFactory.createMessageDialog(locale.compareMessageIdenticalContentTitle(),
                                                         locale.compareMessageIdenticalContentText(), null).show();
                   } else {
                       appContext.getRootProject().getFile(diff.substring(2)).then(file -> {
                           if (file.isPresent()) {
                               comparePresenter.showCompareWithLatest(file.get(), defineStatus(diff.substring(0, 1)),
                                                                      selectedRevision.getId());
                           }
                       });

                   }
               })
               .catchError(arg -> {
                   notificationManager.notify(locale.diffFailed(), FAIL, NOT_EMERGE_MODE);
               });
    }

