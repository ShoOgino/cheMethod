  @Override
  public Promise<Void> add(Path project, boolean update, Path[] paths) {
    AddRequest addRequest = dtoFactory.createDto(AddRequest.class).withUpdate(update);
    addRequest.setFilePattern(
        paths == null
            ? DEFAULT_PATTERN
            : stream(paths).map(path -> path.isEmpty() ? "." : path.toString()).collect(toList()));
    String url = getWsAgentBaseUrl() + ADD + "?projectPath=" + project;
    return asyncRequestFactory.createPostRequest(url, addRequest).loader(loader).send();
  }

