    @Test
    public void testShowDialogWithExistingMessage() throws Exception {
        when(view.getMessage()).thenReturn("foo");
        presenter.showDialog();

        verify(view).setAmend(eq(!IS_OVERWRITTEN));
        verify(view).setAllFilesInclude(eq(!ALL_FILE_INCLUDES));
        verify(view).focusInMessageField();
        verify(view).setEnableCommitButton(eq(ENABLE_BUTTON));
        verify(view).getMessage();
        verify(view).showDialog();
    }

