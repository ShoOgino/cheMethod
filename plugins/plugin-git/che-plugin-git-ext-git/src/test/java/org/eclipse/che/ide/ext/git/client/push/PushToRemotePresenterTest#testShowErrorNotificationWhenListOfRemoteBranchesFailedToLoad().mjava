    @Test
    public void testShowErrorNotificationWhenListOfRemoteBranchesFailedToLoad() throws Exception {
        presenter.updateRemoteBranches();

        verify(service).branchList(eq(devMachine), anyObject(), anyString(), asyncRequestCallbackArrayBranchCaptor.capture());
        AsyncRequestCallback<List<Branch>> value = asyncRequestCallbackArrayBranchCaptor.getValue();
        Method onFailureRemotes = GwtReflectionUtils.getMethod(value.getClass(), "onFailure");
        onFailureRemotes.invoke(value, mock(Throwable.class));


        verify(constant, times(2)).remoteBranchesListFailed();
        verify(gitOutputConsoleFactory).create(anyString());
        verify(console).printError(anyString());
        verify(consolesPanelPresenter).addCommandOutput(anyString(), eq(console));
        verify(notificationManager).notify(anyString(), rootProjectConfig);
    }

