    @Test
    public void shouldShowMessageWhenNothingToCommit() throws Exception {
        ConfirmDialog dialog = mock(ConfirmDialog.class);
        when(dialogFactory.createConfirmDialog(anyString(),
                                               anyString(),
                                               anyString(),
                                               anyString(),
                                               any(ConfirmCallback.class),
                                               eq(null))).thenReturn(dialog);

        presenter.showDialog(project);
        verify(stringPromise).then(stringCaptor.capture());
        stringCaptor.getValue().apply("");
        verify(logPromise).then(logCaptor.capture());
        logCaptor.getValue().apply(null);

        verify(dialog).show();
    }

