  @Test
  public void shouldSetFileMessageToViewAndShowDialog() throws Exception {
    File file = mock(File.class);
    when(file.getName()).thenReturn(FILE_NAME);
    when(appContext.getResource()).thenReturn(file);
    when(appContext.getResources()).thenReturn(new Resource[] {file});
    when(constant.addToIndexFile(FILE_NAME)).thenReturn(MESSAGE);

    presenter.showDialog();

    verify(constant).addToIndexFile(eq(FILE_NAME));
    verify(view).setMessage(eq(MESSAGE));
    verify(view).setUpdated(eq(false));
    verify(view).showDialog();
  }

