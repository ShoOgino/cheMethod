  @Test
  public void shouldSetMultiSelectionMessageToViewAndShowDialog() throws Exception {
    File file1 = mock(File.class);
    File file2 = mock(File.class);
    when(file1.getName()).thenReturn(FILE_NAME + "1");
    when(file2.getName()).thenReturn(FILE_NAME + "2");
    when(appContext.getResource()).thenReturn(file2);
    when(appContext.getResources()).thenReturn(new Resource[] {file1, file2});
    when(constant.addToIndexMultiSelect()).thenReturn(MESSAGE);

    presenter.showDialog();

    verify(constant).addToIndexMultiSelect();
    verify(view).setMessage(eq(MESSAGE));
    verify(view).setUpdated(eq(false));
    verify(view).showDialog();
  }

