    @Test
    public void testShowBranchesWhenGetBranchesRequestIsSuccessful() throws Exception {
        final List<Branch> branches = new ArrayList<>();

        presenter.showBranches();

        verify(service).branchList(eq(devMachine), eq(rootProjectConfig), eq(LIST_ALL), branchListCallbackCaptor.capture());
        AsyncRequestCallback<List<Branch>> branchListCallback = branchListCallbackCaptor.getValue();
        GwtReflectionUtils.callOnSuccess(branchListCallback, branches);

        verify(appContext).getCurrentProject();
        verify(view).showDialogIfClosed();
        verify(view).setBranches(eq(branches));
        verify(console, never()).printError(anyString());
        verify(notificationManager, never()).notify(anyString(), any(ProjectConfigDto.class));
        verify(constant, never()).branchesListFailed();
    }

