    @Override
    public void disarm() {
        super.disarm();
        when(appContext.getWorkspaceId()).thenReturn("id");

        presenter = new ResetToCommitPresenter(view,
                                               service,
                                               constant,
                                               eventBus,
                                               editorAgent,
                                               dialogFactory,
                                               appContext,
                                               notificationManager,
                                               dtoUnmarshallerFactory,
                                               gitOutputConsoleFactory,
                                               consolesPanelPresenter);

        NavigableMap<String, EditorPartPresenter> partPresenterMap = new TreeMap<>();
        partPresenterMap.put("partPresenter", partPresenter);

        when(view.isMixMode()).thenReturn(IS_MIXED);
        when(selectedRevision.getId()).thenReturn(PROJECT_PATH);
        when(editorAgent.getOpenedEditors()).thenReturn(partPresenterMap);
        when(partPresenter.getEditorInput()).thenReturn(editorInput);
        when(editorInput.getFile()).thenReturn(file);
        when(file.getPath()).thenReturn(FILE_PATH);
    }

