    @Test
    public void testOnOkClickedInitWSRequestIsFailed() throws Exception {
        presenter.initRepository(project);

        verify(voidPromise).catchError(promiseErrorCaptor.capture());
        promiseErrorCaptor.getValue().apply(promiseError);

        verify(constant).initFailed();
        verify(gitOutputConsoleFactory).create(INIT_COMMAND_NAME);
        verify(console).printError(anyObject());
        verify(processesPanelPresenter).addCommandOutput(anyString(), eq(console));
        verify(notificationManager).notify(anyString(), any(StatusNotification.Status.class), anyObject());
    }

