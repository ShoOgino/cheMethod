    @Test
    public void onEnterClickedWhenValueIsCorrect() throws Exception {
        when(dtoFactory.createDto(CheckoutRequest.class)).thenReturn(checkoutRequest);
        when(checkoutRequest.withName(anyString())).thenReturn(checkoutRequest);
        when(checkoutRequest.withCreateNew(anyBoolean())).thenReturn(checkoutRequest);
        reset(service);
        when(view.getReference()).thenReturn(CORRECT_REFERENCE);

        presenter.onEnterClicked();

        verify(view).close();
        verify(service).checkout(eq(devMachine), anyObject(), anyObject(), anyObject());
        verify(checkoutRequest).withName(CORRECT_REFERENCE);
        verify(checkoutRequest).withCreateNew(false);
        verifyNoMoreInteractions(checkoutRequest);
    }

