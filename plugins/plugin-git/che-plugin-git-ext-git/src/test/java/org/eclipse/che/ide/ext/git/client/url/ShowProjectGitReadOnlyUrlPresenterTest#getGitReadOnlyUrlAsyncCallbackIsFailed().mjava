    @Test
    public void getGitReadOnlyUrlAsyncCallbackIsFailed() throws Exception {
        presenter.showDialog();
        verify(service).getGitReadOnlyUrl(eq(devMachine), anyObject(), asyncRequestCallbackGitReadOnlyUrlCaptor.capture());
        AsyncRequestCallback<String> callback = asyncRequestCallbackGitReadOnlyUrlCaptor.getValue();

        Method onSuccess = GwtReflectionUtils.getMethod(callback.getClass(), "onFailure");
        onSuccess.invoke(callback, mock(Throwable.class));

        verify(appContext).getCurrentProject();
        verify(service).getGitReadOnlyUrl(eq(devMachine), eq(rootProjectConfig), (AsyncRequestCallback<String>)anyObject());
        verify(notificationManager).notify(anyString(), rootProjectConfig);
        verify(console).printError(anyString());
        verify(constant).initFailed();
    }

