    @Override
    public void disarm() {
        super.disarm();
        when(appContext.getWorkspaceId()).thenReturn("id");
        presenter = new MergePresenter(view,
                                       eventBus,
                                       editorAgent,
                                       service,
                                       constant,
                                       appContext,
                                       notificationManager,
                                       dialogFactory,
                                       dtoUnmarshallerFactory,
                                       projectExplorer,
                                       gitOutputConsoleFactory,
                                       consolesPanelPresenter);
        NavigableMap<String, EditorPartPresenter> partPresenterMap = new TreeMap<>();
        partPresenterMap.put("partPresenter", partPresenter);

        when(mergeResult.getMergeStatus()).thenReturn(ALREADY_UP_TO_DATE);
        when(selectedReference.getDisplayName()).thenReturn(DISPLAY_NAME);
        when(editorAgent.getOpenedEditors()).thenReturn(partPresenterMap);
        when(partPresenter.getEditorInput()).thenReturn(editorInput);
        when(editorInput.getFile()).thenReturn(file);
        when(file.getPath()).thenReturn(FILE_PATH);
    }

