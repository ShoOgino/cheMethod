  @Test
  public void testShowStatusWhenStatusTextRequestIsFailed() throws Exception {
    presenter.showStatus(project);

    verify(stringPromise).catchError(promiseErrorCaptor.capture());
    promiseErrorCaptor.getValue().apply(promiseError);

    verify(notificationManager)
        .notify(anyString(), any(StatusNotification.Status.class), anyObject());
    verify(constant).statusFailed();
  }

