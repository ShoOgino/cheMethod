    @Test
    public void testOnDiffWithPrevCommitTwiceClicked() throws Exception {
        presenter.onDiffWithPrevCommitClicked();
        reset(view);
        reset(service);
        presenter.onDiffWithPrevCommitClicked();

        verify(view, never()).selectDiffWithIndexButton(anyBoolean());
        verify(view, never()).selectDiffWithPrevVersionButton(anyBoolean());
        verify(view, never()).selectDiffWithWorkingTreeButton(anyBoolean());
        verify(service, never())
                .diff(anyObject(), anyObject(), (List<String>)anyObject(), (DiffRequest.DiffType)anyObject(), anyBoolean(), anyInt(),
                      anyString(),
                      anyBoolean(), (AsyncRequestCallback<String>)anyObject());
        verify(service, never())
                .diff(anyObject(), anyObject(), (List<String>)anyObject(), (DiffRequest.DiffType)anyObject(), anyBoolean(), anyInt(),
                      anyString(), anyString(), (AsyncRequestCallback<String>)anyObject());
        verify(service, never())
                .log(anyObject(), eq(projectConfig), null, eq(TEXT_NOT_FORMATTED), (AsyncRequestCallback<LogResponse>)anyObject());
    }

