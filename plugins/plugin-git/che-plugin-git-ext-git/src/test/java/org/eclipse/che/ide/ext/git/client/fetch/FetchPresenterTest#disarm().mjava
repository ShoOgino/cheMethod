  @Override
  public void disarm() {
    super.disarm();

    presenter =
        new FetchPresenter(
            dtoFactory,
            view,
            service,
            constant,
            notificationManager,
            branchSearcher,
            gitOutputConsoleFactory,
            processesPanelPresenter,
            oAuthServiceClient);

    when(service.remoteList(any(Path.class), anyString(), anyBoolean()))
        .thenReturn(remoteListPromise);
    when(remoteListPromise.then(any(Operation.class))).thenReturn(remoteListPromise);
    when(remoteListPromise.catchError(any(Operation.class))).thenReturn(remoteListPromise);

    when(service.branchList(any(Path.class), anyObject())).thenReturn(branchListPromise);
    when(branchListPromise.then(any(Operation.class))).thenReturn(branchListPromise);
    when(branchListPromise.catchError(any(Operation.class))).thenReturn(branchListPromise);

    when(view.getRepositoryName()).thenReturn(REPOSITORY_NAME);
    when(view.getRepositoryUrl()).thenReturn(REMOTE_URI);
    when(view.getLocalBranch()).thenReturn(LOCAL_BRANCH);
    when(view.getRemoteBranch()).thenReturn(REMOTE_BRANCH);
    when(branch.getName()).thenReturn(REMOTE_BRANCH);
  }

