  @Test
  public void shouldSetFolderMessageToViewAndShowDialog() throws Exception {
    Container folder = mock(Container.class);
    when(folder.getName()).thenReturn(FOLDER_NAME);
    when(appContext.getResource()).thenReturn(folder);
    when(appContext.getResources()).thenReturn(new Resource[] {folder});
    when(constant.addToIndexFolder(FOLDER_NAME)).thenReturn(MESSAGE);

    presenter.showDialog();

    verify(constant).addToIndexFolder(eq(FOLDER_NAME));
    verify(view).setMessage(eq(MESSAGE));
    verify(view).setUpdated(eq(false));
    verify(view).showDialog();
  }

