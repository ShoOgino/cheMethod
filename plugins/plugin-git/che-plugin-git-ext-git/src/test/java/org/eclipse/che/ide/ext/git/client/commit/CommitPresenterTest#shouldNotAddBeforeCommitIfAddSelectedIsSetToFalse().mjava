    @Test
    public void shouldNotAddBeforeCommitIfAddSelectedIsSetToFalse() throws Exception {
        when(view.isAddSelectedFiles()).thenReturn(false);
        doNothing().when(presenter).doCommit(anyString(), anyBoolean(), anyBoolean(), anyBoolean());

        presenter.showDialog(project);
        presenter.onCommitClicked();

        verify(service, never()).add(any(DevMachine.class), any(Path.class), anyBoolean(), any(Path[].class));
        verify(presenter).doCommit(anyString(), anyBoolean(), anyBoolean(), anyBoolean());
    }

