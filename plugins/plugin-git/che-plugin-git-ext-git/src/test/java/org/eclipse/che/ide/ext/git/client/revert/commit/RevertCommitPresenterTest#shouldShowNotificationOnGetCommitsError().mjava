  @Test
  public void shouldShowNotificationOnGetCommitsError() throws Exception {
    when(constant.logFailed()).thenReturn("error");

    presenter.show(project);
    verify(logPromise).catchError(promiseErrorCaptor.capture());
    promiseErrorCaptor.getValue().apply(mock(PromiseError.class));

    verify(notificationManager).notify(eq("error"), eq(FAIL), eq(FLOAT_MODE));
  }

