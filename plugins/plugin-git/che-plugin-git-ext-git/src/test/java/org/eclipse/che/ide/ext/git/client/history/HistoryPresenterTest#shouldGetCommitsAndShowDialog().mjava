    @Test
    public void shouldGetCommitsAndShowDialog() throws Exception {
        LogResponse response = mock(LogResponse.class);
        List<Revision> revisions = singletonList(mock(Revision.class));
        when(response.getCommits()).thenReturn(revisions);

        presenter.show();
        verify(logPromise).then(logCaptor.capture());
        logCaptor.getValue().apply(response);

        verify(view).setRevisions(revisions);
        verify(view).showDialog();
    }

