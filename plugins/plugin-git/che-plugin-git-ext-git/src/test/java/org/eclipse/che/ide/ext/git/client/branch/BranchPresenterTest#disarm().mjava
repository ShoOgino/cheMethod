    @Override
    public void disarm() {
        super.disarm();

        presenter = new BranchPresenter(view,
                                        dtoFactory,
                                        service,
                                        constant,
                                        appContext,
                                        notificationManager,
                                        gitOutputConsoleFactory,
                                        consolesPanelPresenter,
                                        dialogFactory);

        when(selectedBranch.getDisplayName()).thenReturn(BRANCH_NAME);
        when(selectedBranch.getName()).thenReturn(BRANCH_NAME);
        when(selectedBranch.isRemote()).thenReturn(IS_REMOTE);
        when(selectedBranch.isActive()).thenReturn(IS_ACTIVE);

        when(service.branchList(anyObject(), anyObject(), anyString())).thenReturn(branchListPromise);
        when(branchListPromise.then(any(Operation.class))).thenReturn(branchListPromise);
        when(branchListPromise.catchError(any(Operation.class))).thenReturn(branchListPromise);
    }

