    @Override
    public void disarm() {
        super.disarm();

        presenter = new BranchPresenter(view,
                                        dtoFactory,
                                        editorAgent,
                                        service,
                                        projectService,
                                        constant,
                                        appContext,
                                        notificationManager,
                                        dtoUnmarshallerFactory,
                                        gitOutputConsoleFactory,
                                        consolesPanelPresenter,
                                        dialogFactory,
                                        eventBus);

        List<EditorPartPresenter> partPresenterList = new ArrayList<>();
        partPresenterList.add(partPresenter);

        when(selectedBranch.getDisplayName()).thenReturn(BRANCH_NAME);
        when(selectedBranch.getName()).thenReturn(BRANCH_NAME);
        when(selectedBranch.isRemote()).thenReturn(IS_REMOTE);
        when(selectedBranch.isActive()).thenReturn(IS_ACTIVE);
        when(editorAgent.getOpenedEditors()).thenReturn(partPresenterList);
        when(partPresenter.getEditorInput()).thenReturn(editorInput);
    }

