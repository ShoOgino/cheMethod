    @Test
    public void testOnCheckoutClickedWhenSelectedNotRemoteBranch() throws Exception {
        when(selectedBranch.isRemote()).thenReturn(false);
        when(dtoFactory.createDto(CheckoutRequest.class)).thenReturn(checkoutRequest);

        selectBranch();
        presenter.onCheckoutClicked();

        verify(checkoutRequest).setName(eq(BRANCH_NAME));
        verifyNoMoreInteractions(checkoutRequest);
        verify(service).checkout(anyString(), eq(rootProjectConfig),
                                       eq(checkoutRequest),
                                       asyncRequestCallbackCaptor.capture());
    }

