  @Test
  public void testOnOkClickedInitWSRequestAndGetProjectIsSuccessful() throws Exception {
    presenter.initRepository(project);

    verify(voidPromise).then(voidPromiseCaptor.capture());
    voidPromiseCaptor.getValue().apply(null);

    verify(gitOutputConsoleFactory).create(eq(INIT_COMMAND_NAME));
    verify(console).print(eq(constant.initSuccess()));
    verify(processesPanelPresenter).addCommandOutput(anyString(), eq(console));
    verify(notificationManager).notify(anyString());

    verify(project).synchronize();
  }

