  @Override
  public void actionPerformed(ActionEvent e) {
    final Resource[] resources = appContext.getResources();

    checkState(resources != null && resources.length == 1);

    final Project project = resources[0].getRelatedProject().get();

    checkState(MAVEN_ID.equals(project.getType()));

    mavenServerServiceClient
        .getEffectivePom(project.getLocation().toString())
        .then(
            new Operation<String>() {
              @Override
              public void apply(String content) throws OperationException {
                editorAgent.openEditor(
                    new SyntheticFile(
                        "pom.xml",
                        project.getAttributes().get(MavenAttributes.ARTIFACT_ID).get(0)
                            + " [effective pom]",
                        content));
              }
            })
        .catchError(
            new Operation<PromiseError>() {
              @Override
              public void apply(PromiseError arg) throws OperationException {
                notificationManager.notify(
                    "Problem with generating effective pom file",
                    arg.getMessage(),
                    FAIL,
                    EMERGE_MODE);
              }
            });
  }

