  @Override
  public Promise<Boolean> downloadSources(String projectPath, String fqn) {
    final String url =
        appContext.getWsAgentServerApiEndpoint()
            + servicePath
            + "download/sources?projectpath="
            + encodePath(valueOf(projectPath))
            + "&fqn="
            + fqn;
    return asyncRequestFactory
        .createGetRequest(url)
        .loader(loaderFactory.newLoader("Generating effective pom..."))
        .send(
            new Unmarshallable<Boolean>() {
              private boolean downloaded;

              @Override
              public void unmarshal(Response response) throws UnmarshallerException {
                downloaded = Boolean.valueOf(response.getText());
              }

              @Override
              public Boolean getPayload() {
                return downloaded;
              }
            });
  }

