    private void handleMavenServerEvents(final MessageBus messageBus) throws WebSocketException {
        messageBus.subscribe(MAVEN_CHANEL_NAME, new MessageHandler() {
            @Override
            public void onMessage(String message) {
                final JsonObject jsonObject = Json.parse(message);
                final int type = (int)jsonObject.getNumber("$type");
                MessageType messageType = MessageType.valueOf(type);
                switch (messageType) {
                    case NOTIFICATION:
                        NotificationMessage dto = factory.createDtoFromJson(message, NotificationMessage.class);
                        handleNotification(dto);
                        break;

                    case UPDATE:
                        handleUpdate(factory.createDtoFromJson(message, ProjectsUpdateMessage.class));
                        break;

                    case START_STOP:
                        handleStartStop(factory.createDtoFromJson(message, StartStopNotification.class));
                        break;

                    default:
                        Log.error(getClass(), "Unknown message type:" + messageType);
                }
            }
        });
    }

