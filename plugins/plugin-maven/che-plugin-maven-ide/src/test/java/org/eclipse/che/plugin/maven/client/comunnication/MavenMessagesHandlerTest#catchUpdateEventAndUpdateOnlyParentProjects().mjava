  @Test
  public void catchUpdateEventAndUpdateOnlyParentProjects() throws Exception {
    final List<String> updatedProjects =
        Arrays.asList(
            "/che/core",
            "/project",
            "/che/core/che-core-db-vendor-postgresql",
            "/che/plugins/plugin-svn",
            "/che/samples/sample-plugin-json",
            "/che/wsmaster/che-core-api-auth",
            "/project/api",
            "/che/wsagent",
            "/che",
            "/che/plugins/plugin-github/che-plugin-github-pullrequest",
            "/che/plugins/plugin-java-debugger");

    when(projectsUpdateMessage.getUpdatedProjects()).thenReturn(updatedProjects);
    when(rootContainer.getContainer(anyString())).thenReturn(optionalContainer);

    mavenMessagesHandler.handleUpdate(projectsUpdateMessage);

    verify(pomEditorReconciler).reconcilePoms(updatedProjects);
  }

