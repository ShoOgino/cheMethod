    @Test
    public void testOnWorkingDirectoryChanged() throws Exception {
        String workDir = "project";
        when(mavenCommandPageView.getWorkingDirectory()).thenReturn(workDir);

        final CommandConfigurationPage.DirtyStateListener listener = mock(CommandConfigurationPage.DirtyStateListener.class);
        mavenCommandPagePresenter.setDirtyStateListener(listener);

        mavenCommandPagePresenter.onWorkingDirectoryChanged();

        verify(mavenCommandPageView).getWorkingDirectory();
        verify(configuration).setWorkingDirectory(eq(workDir));
        verify(listener).onDirtyStateChanged();
    }

