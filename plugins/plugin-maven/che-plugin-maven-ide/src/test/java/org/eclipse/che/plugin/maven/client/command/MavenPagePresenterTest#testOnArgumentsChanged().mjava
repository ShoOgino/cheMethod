    @Test
    public void testOnArgumentsChanged() throws Exception {
        when(view.getArguments()).thenReturn(ARGUMENTS);

        final CommandPage.DirtyStateListener listener = mock(CommandPage.DirtyStateListener.class);
        presenter.setDirtyStateListener(listener);

        presenter.onArgumentsChanged();

        verify(view).getArguments();
        verify(command).setCommandLine(eq(COMMAND_LINE));
        verify(listener).onDirtyStateChanged();
    }

