  /**
   * Sets default goal of current build element.
   *
   * <p>If {@code defaultGoal} is {@code null} and this build instance is associated with xml
   * element then {@code defaultGoal} will be removed from model as well as from xml.
   *
   * @param defaultGoal new default goal
   */
  public BuildBase setDefaultGoal(String defaultGoal) {
    this.defaultGoal = defaultGoal;
    if (!isNew()) {
      if (isNullOrEmpty(defaultGoal)) {
        element.removeChild("defaultGoal");
      } else if (element.hasSingleChild("defaultGoal")) {
        element.getSingleChild("defaultGoal").setText(defaultGoal);
      } else {
        element.insertChild(
            createElement("defaultGoal", defaultGoal), after("finalName").or(inTheEnd()));
      }
    }
    return this;
  }

