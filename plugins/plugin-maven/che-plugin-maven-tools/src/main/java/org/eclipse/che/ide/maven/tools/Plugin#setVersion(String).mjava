  /** Sets plugin version. */
  public Plugin setVersion(String version) {
    this.version = version;
    if (!isNew()) {
      if (version == null) {
        pluginElement.removeChild("version");
      } else if (pluginElement.hasSingleChild("version")) {
        pluginElement.getSingleChild("version").setText(version);
      } else {
        pluginElement.insertChild(
            createElement("version", version), after("artifactId").or(inTheBegin()));
      }
    }
    return this;
  }

