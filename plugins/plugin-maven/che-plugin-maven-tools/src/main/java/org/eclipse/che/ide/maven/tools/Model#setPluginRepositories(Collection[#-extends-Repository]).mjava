  /**
   * Sets collection of plugin repositories.
   *
   * <p><b>Note: all existing plugin repositories will be removed from model and xml as well</b>
   *
   * @param pluginRepositories new plugin repositories
   */
  public Model setPluginRepositories(Collection<? extends Repository> pluginRepositories) {
    // remove existing plugin repositories
    for (Repository pluginRepository : pluginRepositories()) {
      pluginRepository.remove();
    }
    // add plugin repositories if necessary
    if (pluginRepositories != null && !pluginRepositories.isEmpty()) {
      for (Repository pluginRepository : pluginRepositories) {
        addPluginRepository(pluginRepository);
      }
    } else {
      root.removeChild("pluginRepositories");
      this.pluginRepositories = null;
    }
    return this;
  }

