  /**
   * Set the type of artifact this project produces
   *
   * <p>For example: <code>jar</code> <code>war</code> <code>ear</code> <code>pom</code>. Plugins
   * can create their own packaging, and therefore their own packaging types, so this list does not
   * contain all possible types. If {@code packaging} is {@code null} it will be removed from model
   * as well as from xml.
   *
   * @param packaging new project packaging
   * @return this model instance
   */
  public Model setPackaging(String packaging) {
    this.packaging = packaging;
    if (packaging == null) {
      root.removeChild("packaging");
    } else if (!root.hasSingleChild("packaging")) {
      root.insertChild(
          createElement("packaging", packaging),
          afterAnyOf("version", "artifactId", "groupId", "parent", "modelVersion")
              .or(inTheBegin()));
    } else {
      tree.updateText("/project/packaging", packaging);
    }
    return this;
  }

