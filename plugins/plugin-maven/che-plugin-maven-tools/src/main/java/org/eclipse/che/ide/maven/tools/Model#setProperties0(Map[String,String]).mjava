  private void setProperties0(Map<String, String> properties) {
    this.properties = new HashMap<>(properties);
    // if properties element exists we should replace it children
    // with new set of properties, otherwise create element for it
    if (root.hasSingleChild("properties")) {
      final Element propertiesElement = root.getSingleChild("properties");
      for (Element property : propertiesElement.getChildren()) {
        property.remove();
      }
      for (Map.Entry<String, String> property : properties.entrySet()) {
        propertiesElement.appendChild(createElement(property.getKey(), property.getValue()));
      }
    } else {
      final NewElement newProperties = createElement("properties");
      for (Map.Entry<String, String> property : properties.entrySet()) {
        newProperties.appendChild(createElement(property.getKey(), property.getValue()));
      }
      // insert new properties to xml
      root.insertChild(
          newProperties,
          beforeAnyOf("dependencyManagement", "dependencies", "build").or(inTheEnd()));
    }
  }

