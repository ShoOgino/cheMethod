    private void setModules0(Collection<String> modules) {
        this.modules = new ArrayList<>(modules);
        //if modules element exists we should replace it children
        //with new set of modules, otherwise create element for it
        if (root.hasSingleChild("modules")) {
            final Element modulesElement = root.getSingleChild("modules");
            //remove all modules
            for (Element module : modulesElement.getChildren()) {
                module.remove();
            }
            //append each new module to "modules" element
            for (String module : modules) {
                modulesElement.appendChild(createElement("module", module));
            }
        } else {
            final NewElement newModules = createElement("modules");
            for (String module : modules) {
                newModules.appendChild(createElement("module", module));
            }
            root.insertChild(newModules, beforeAnyOf("properties",
                                                     "dependencyManagement",
                                                     "dependencies",
                                                     "build").or(inTheEnd()));
        }
    }

