  /**
   * Returns plugin configuration. If plugin has nested configuration elements it will not be
   * fetched.
   *
   * <p>Consider following configuration:
   *
   * <pre>{@code
   * <configuration>
   *     <item1>value1</item1>
   *     <item2>value2</item2>
   *     <properties>
   *         <property1>property</property1>
   *     </properties>
   * </configuration>
   * }</pre>
   *
   * <p>Resulting map will contain next data <i>item1="value1"</i>, <i>item2="value2"</i> and
   * <i>properties=null</i>
   *
   * <p><b>Note: update methods should not be used on returned map</b>
   *
   * @return plugin configuration or empty map when plugin doesn't have configuration
   */
  public Map<String, String> getConfiguration() {
    if (configuration == null) {
      return emptyMap();
    }
    return new HashMap<>(configuration);
  }

