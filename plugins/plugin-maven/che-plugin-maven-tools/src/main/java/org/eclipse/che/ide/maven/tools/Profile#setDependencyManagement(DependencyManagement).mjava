  /**
   * Sets default dependency information for projects that inherit from this one. If new dependency
   * management is {@code null} removes old dependency management from profile and from xml as well
   *
   * @param dependencyManagement new project dependency management
   * @return this profile instance
   */
  public Profile setDependencyManagement(DependencyManagement dependencyManagement) {
    this.dependencyManagement = dependencyManagement;
    if (dependencyManagement == null) {
      element.removeChild("dependencyManagement");
    } else {
      final Element dependencyManagementElement = element.getSingleChild("dependencyManagement");
      if (element.hasSingleChild("dependencyManagement") && dependencyManagementElement != null) {
        dependencyManagement.dmElement =
            dependencyManagementElement.replaceWith(dependencyManagement.asXMLElement());
      } else {
        element.insertChild(
            this.dependencyManagement.asXMLElement(), beforeAnyOf("dependencies").or(inTheEnd()));
        dependencyManagement.dmElement = dependencyManagementElement;
      }
    }
    return this;
  }

