    /**
     * Sets the path to directory where compiled test classes are placed.
     * <p/>
     * If {@code testOutputDirectory} is {@code null} and this build instance is associated with
     * xml element then {@code testOutputDirectory} will be removed from model as well as from xml.
     *
     * @param testOutputDirectory
     *         new build test output directory
     * @return this build instance
     */
    public Build setTestOutputDirectory(String testOutputDirectory) {
        this.testOutputDirectory = testOutputDirectory;
        if (!isNew()) {
            if (testOutputDirectory == null) {
                buildElement.removeChild("testOutputDirectory");
            } else if (buildElement.hasSingleChild("testOutputDirectory")) {
                buildElement.getSingleChild("testOutputDirectory").setText(testOutputDirectory);
            } else {
                buildElement.appendChild(createElement("testOutputDirectory", testOutputDirectory));
            }
        }
        return this;
    }

