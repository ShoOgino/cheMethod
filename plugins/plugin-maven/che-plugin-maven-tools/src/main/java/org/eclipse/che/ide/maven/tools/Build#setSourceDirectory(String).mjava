  /**
   * Sets the path to directory containing the source of the project.
   *
   * <p>If {@code sourceDirectory} is {@code null} and this build instance is associated with xml
   * element then {@code sourceDirectory} will be removed from model as well as from xml.
   *
   * @param sourceDirectory new build source directory
   */
  public Build setSourceDirectory(String sourceDirectory) {
    this.sourceDirectory = sourceDirectory;
    if (!isNew()) {
      if (sourceDirectory == null) {
        buildElement.removeChild("sourceDirectory");
      } else if (buildElement.hasSingleChild("sourceDirectory")) {
        buildElement.getSingleChild("sourceDirectory").setText(sourceDirectory);
      } else {
        buildElement.appendChild(createElement("sourceDirectory", sourceDirectory));
      }
    }
    return this;
  }

