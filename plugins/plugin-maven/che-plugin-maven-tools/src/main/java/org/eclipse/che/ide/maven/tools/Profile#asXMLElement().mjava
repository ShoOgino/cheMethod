  /** Returns profile element as XML element. */
  public NewElement asXMLElement() {
    final NewElement profile = createElement("profile");
    if (!isNullOrEmpty(id)) {
      profile.appendChild(createElement("id", id));
    }
    if (modules != null && !modules.isEmpty()) {
      profile.appendChild(newModulesXMLElement(modules));
    }
    if (activation != null) {
      profile.appendChild(activation.asXMLElement());
    }
    if (build != null) {
      profile.appendChild(build.asXMLElement());
    }
    if (repositories != null && !repositories.isEmpty()) {
      profile.appendChild(newRepositoryElement(repositories));
    }
    if (dependencies != null && !dependencies.get().isEmpty()) {
      profile.appendChild(newDependencyElement(dependencies.get()));
    }

    if (properties != null && !properties.isEmpty()) {
      profile.appendChild(newPropertiesElement(properties));
    }

    if (dependencyManagement != null && !dependencyManagement.getDependencies().isEmpty()) {
      profile.appendChild(newDependencyManagementElement(dependencies.get()));
    }

    return profile;
  }

