  /**
   * Sets collection of repositories.
   *
   * <p><b>Note: all existing repositories will be removed from profile and xml as well</b>
   *
   * @param repositories new plugin repositories
   */
  public Profile setRepositories(Collection<? extends Repository> repositories) {
    for (Repository repository : repositories()) {
      repository.remove();
    }
    if (repositories != null && !repositories.isEmpty()) {
      for (Repository repository : repositories) {
        addRepository(repository);
      }
    } else {
      element.removeChild("repositories");
      this.repositories = null;
    }
    return this;
  }

