  /**
   * Sets the current version of the artifact produced by this project.
   *
   * <p>If {@code version} is {@code null} then it will be remove from model as well as from xml.
   *
   * @param version new project version
   * @return this model instance
   */
  public Model setVersion(String version) {
    this.version = version;
    if (version == null) {
      root.removeChild("version");
    } else if (!root.hasSingleChild("version")) {
      root.insertChild(
          createElement("version", version),
          afterAnyOf("artifactId", "groupId", "parent", "modelVersion").or(inTheBegin()));
    } else {
      tree.updateText("/project/version", version);
    }
    return this;
  }

