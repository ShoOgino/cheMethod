    @Test
    public void shouldRemoveExclusionsIfLastExclusionWasRemoved() throws Exception {
        final File pom = getTestPomFile();
        write(pom, "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
                   "<project>\n" +
                   "    <dependencies>\n" +
                   "        <dependency>\n" +
                   "            <artifactId>junit</artifactId>\n" +
                   "            <groupId>org.junit</groupId>\n" +
                   "            <version>new-version</version>\n" +
                   "            <exclusions>\n" +
                   "                <exclusion>\n" +
                   "                    <artifactId>artifact-id</artifactId>\n" +
                   "                    <groupId>group-id</groupId>\n" +
                   "                </exclusion>\n" +
                   "            </exclusions>\n" +
                   "        </dependency>\n" +
                   "    </dependencies>\n" +
                   "</project>");
        final Model model = Model.readFrom(pom);

        final Dependency test = model.dependencies().first();

        test.removeExclusion(test.getExclusions().get(0));

        model.writeTo(pom);

        assertEquals(read(pom), "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" +
                                "<project>\n" +
                                "    <dependencies>\n" +
                                "        <dependency>\n" +
                                "            <artifactId>junit</artifactId>\n" +
                                "            <groupId>org.junit</groupId>\n" +
                                "            <version>new-version</version>\n" +
                                "        </dependency>\n" +
                                "    </dependencies>\n" +
                                "</project>");
    }

