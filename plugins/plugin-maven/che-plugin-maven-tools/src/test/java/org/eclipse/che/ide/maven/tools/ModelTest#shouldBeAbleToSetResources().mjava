  @Test
  public void shouldBeAbleToSetResources() throws Exception {
    final File pom = getTestPomFile();
    write(
        pom,
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project>\n"
            + "    <build>\n"
            + "        <resources>\n"
            + "            <resource>\n"
            + "                 <directory>${basedir}/src/main/temp</directory>\n"
            + "            </resource>\n"
            + "         </resources>\n"
            + "    </build>\n"
            + "</project>");
    final Model model = Model.readFrom(pom);

    model
        .getBuild()
        .setResources(
            asList(
                new Resource().setDirectory("directory1"),
                new Resource().setDirectory("directory2")));
    model.save();

    assertEquals(
        read(pom),
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project>\n"
            + "    <build>\n"
            + "        <resources>\n"
            + "            <resource>\n"
            + "                <directory>directory1</directory>\n"
            + "            </resource>\n"
            + "            <resource>\n"
            + "                <directory>directory2</directory>\n"
            + "            </resource>\n"
            + "         </resources>\n"
            + "    </build>\n"
            + "</project>");
    assertEquals(model.getBuild().getResources().size(), 2);
  }

