  @Test
  public void shouldBeAbleToSetParentToModelWhichAlreadyHasIt() throws Exception {
    final File pom = targetDir().resolve("test-pom.xml").toFile();
    write(
        pom,
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project>\n"
            + "    <modelVersion>4.0.0</modelVersion>\n"
            + "    <parent>\n"
            + "        <groupId>new-parent-artifact</groupId>\n"
            + "        <artifactId>new-parent-group</artifactId>\n"
            + "        <version>new-parent-version</version>\n"
            + "    </parent>\n"
            + "    <artifactId>artifact-id</artifactId>\n"
            + "    <groupId>group-id</groupId>\n"
            + "    <version>x.x.x</version>\n"
            + "</project>");
    final Model model = Model.readFrom(pom);

    model.setParent(new Parent("new-parent-artifact", "new-parent-group", "new-parent-version"));

    model.writeTo(pom);

    assertEquals(
        read(pom),
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project>\n"
            + "    <modelVersion>4.0.0</modelVersion>\n"
            + "    <parent>\n"
            + "        <groupId>new-parent-artifact</groupId>\n"
            + "        <artifactId>new-parent-group</artifactId>\n"
            + "        <version>new-parent-version</version>\n"
            + "    </parent>\n"
            + "    <artifactId>artifact-id</artifactId>\n"
            + "    <groupId>group-id</groupId>\n"
            + "    <version>x.x.x</version>\n"
            + "</project>");
  }

