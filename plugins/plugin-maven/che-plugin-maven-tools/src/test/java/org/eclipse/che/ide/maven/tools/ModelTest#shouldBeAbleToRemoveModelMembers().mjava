  @Test
  public void shouldBeAbleToRemoveModelMembers() throws Exception {
    final File pom = getTestPomFile();
    write(
        pom,
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project>\n"
            + "    <modelVersion>4.0.0</modelVersion>\n"
            + "    <groupId>group-id</groupId>\n"
            + "    <artifactId>artifact-id</artifactId>\n"
            + "    <version>x.x.x</version>\n"
            + "    <packaging>war</packaging>\n"
            + "    <name>name</name>\n"
            + "    <description>description</description>\n"
            + "    <modules>\n"
            + "        <module>first</module>\n"
            + "        <module>second</module>\n"
            + "    </modules>\n"
            + "    <properties>\n"
            + "        <childKey>child</childKey>\n"
            + "        <parentKey>parent</parentKey>\n"
            + "    </properties>\n"
            + "    <dependencyManagement>\n"
            + "        <dependencies>\n"
            + "            <dependency>\n"
            + "                <groupId>artifact-id</groupId>\n"
            + "                <artifactId>group-id</artifactId>\n"
            + "                <version>version</version>\n"
            + "            </dependency>\n"
            + "        </dependencies>\n"
            + "    </dependencyManagement>\n"
            + "    <dependencies>\n"
            + "        <dependency>\n"
            + "            <groupId>junit</groupId>\n"
            + "            <artifactId>org.junit</artifactId>\n"
            + "            <version>x.x.x</version>\n"
            + "        </dependency>\n"
            + "    </dependencies>\n"
            + "</project>");
    final Model model = Model.readFrom(pom);

    model
        .setModelVersion(null)
        .setGroupId(null)
        .setArtifactId(null)
        .setVersion(null)
        .setPackaging(null)
        .setName(null)
        .setDescription(null)
        .setDependencyManagement(null)
        .setModules(null)
        .setProperties(null)
        .dependencies()
        .set(null);

    model.writeTo(pom);

    assertEquals(
        read(pom), "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "<project>\n" + "</project>");
  }

