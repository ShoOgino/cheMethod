  @Test
  public void shouldBeAbleToSetRepositories() throws Exception {
    final File pom = getTestPomFile();
    write(pom, "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "<project>\n" + "</project>");
    final Model model =
        Model.readFrom(pom)
            .setRepositories(
                singletonList(
                    new Repository()
                        .setId("id")
                        .setLayout("default")
                        .setUrl("url")
                        .setName("name")));
    model.save();

    assertEquals(model.getRepositories().size(), 1);
    assertEquals(
        read(pom),
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project>\n"
            + "    <repositories>\n"
            + "        <repository>\n"
            + "            <id>id</id>\n"
            + "            <name>name</name>\n"
            + "            <url>url</url>\n"
            + "            <layout>default</layout>\n"
            + "        </repository>\n"
            + "    </repositories>\n"
            + "</project>");
  }

