  @Test
  public void shouldBeAbleToCreateModel() throws Exception {
    final Model model = Model.createModel();
    model
        .setModelVersion("4.0.0")
        .setArtifactId("artifact-id")
        .setGroupId("group-id")
        .setVersion("x.x.x")
        .setName("name")
        .setDescription("description")
        .dependencies()
        .set(asList(new Dependency("junit", "org.junit", "x.x.x")))
        .add(new Dependency("testng", "org.testng", "x.x.x"));
    final File pom = getTestPomFile();

    model.writeTo(pom);

    assertEquals(
        read(pom),
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project xmlns=\"http://maven.apache.org/POM/4.0.0\" "
            + "xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\""
            + " xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 "
            + "http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n"
            + "    <modelVersion>4.0.0</modelVersion>\n"
            + "    <groupId>group-id</groupId>\n"
            + "    <artifactId>artifact-id</artifactId>\n"
            + "    <version>x.x.x</version>\n"
            + "    <name>name</name>\n"
            + "    <description>description</description>\n"
            + "    <dependencies>\n"
            + "        <dependency>\n"
            + "            <groupId>junit</groupId>\n"
            + "            <artifactId>org.junit</artifactId>\n"
            + "            <version>x.x.x</version>\n"
            + "        </dependency>\n"
            + "        <dependency>\n"
            + "            <groupId>testng</groupId>\n"
            + "            <artifactId>org.testng</artifactId>\n"
            + "            <version>x.x.x</version>\n"
            + "        </dependency>\n"
            + "    </dependencies>\n"
            + "</project>");
  }

