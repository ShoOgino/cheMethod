  @Test
  public void shouldBeAbleToRemovePluginRepositories() throws Exception {
    final File pom = getTestPomFile();
    write(
        pom,
        "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n"
            + "<project>\n"
            + "    <pluginRepositories>\n"
            + "        <repository>\n"
            + "            <id>id</id>\n"
            + "            <name>name</name>\n"
            + "            <url>url</url>\n"
            + "            <layout>default</layout>\n"
            + "        </repository>\n"
            + "    </pluginRepositories>\n"
            + "</project>");

    final Model model = Model.readFrom(pom).setPluginRepositories(null);
    model.save();

    assertTrue(model.getRepositories().isEmpty());
    assertEquals(
        read(pom), "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n" + "<project>\n" + "</project>");
  }

