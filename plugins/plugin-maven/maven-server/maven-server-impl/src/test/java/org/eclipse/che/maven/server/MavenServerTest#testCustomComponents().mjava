    @Test
    public void testCustomComponents() throws Exception {
        MavenSettings mavenSettings = new MavenSettings();
        mavenSettings.setLoggingLevel(MavenTerminal.LEVEL_DEBUG);
        MavenServerImpl mavenServerImpl = new MavenServerImpl(mavenSettings);
        boolean[] isPrintCalled = new boolean[] {false};
        mavenServerImpl.setComponents(null, false, new MavenTerminal() {

            @Override
            public void print(int level, String message, Throwable throwable) throws RemoteException {
                isPrintCalled[0] = true;
            }
        }, null, false);
        mavenServerImpl
                .getEffectivePom(new File(MavenServerTest.class.getResource("/EffectivePom/pom.xml").getFile()), Collections.emptyList(),
                                 Collections.emptyList());
        Assert.assertTrue(isPrintCalled[0]);
    }

