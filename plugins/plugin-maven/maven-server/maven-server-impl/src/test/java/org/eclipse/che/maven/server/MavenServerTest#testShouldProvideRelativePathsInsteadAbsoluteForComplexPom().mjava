    @Test
    public void testShouldProvideRelativePathsInsteadAbsoluteForComplexPom() throws Exception {
        final MavenSettings mavenSettings = new MavenSettings();
        mavenSettings.setLoggingLevel(MavenTerminal.LEVEL_INFO);

        final MavenServer server = new MavenServerImpl(mavenSettings);
        final MavenServerResult mavenServerResult =
                server.resolveProject(new File(MavenServerTest.class.getResource("/ComplexPom/pom.xml").getFile()),
                                      emptyList(), emptyList());

        final MavenBuild mavenBuild = mavenServerResult.getProjectInfo().getMavenModel().getBuild();

        final MavenResource expectedMavenResource = new MavenResource("resDir1",
                                                                      true,
                                                                      "targetPath",
                                                                      Arrays.asList("include1", "include2"),
                                                                      Arrays.asList("exclude1", "exclude2"));
        final MavenResource expectedMavenTestResource = new MavenResource("testResDir1",
                                                                          true,
                                                                          "targetPath",
                                                                          Arrays.asList("include1", "include2"),
                                                                          Arrays.asList("exclude1", "exclude2"));

        Assert.assertEquals(mavenBuild.getOutputDirectory(), "outputDir");
        Assert.assertEquals(mavenBuild.getTestOutputDirectory(), "testOutputDir");
        Assert.assertEquals(mavenBuild.getSources(), singletonList("srcDir"));
        Assert.assertEquals(mavenBuild.getTestSources(), singletonList("testSrcDir"));
        Assert.assertEquals(mavenBuild.getResources(), singletonList(expectedMavenResource));
        Assert.assertEquals(mavenBuild.getTestResources(), singletonList(expectedMavenTestResource));
    }

