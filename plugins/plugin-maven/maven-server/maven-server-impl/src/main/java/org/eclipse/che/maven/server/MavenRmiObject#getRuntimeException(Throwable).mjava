    public RuntimeException getRuntimeException(Throwable t) {
        Throwable wrapped = wrapException(t);
        if(wrapped instanceof RuntimeException){
            return (RuntimeException)wrapped;
        } else {
            return new RuntimeException(wrapped);
        }
    }

