    @Override
    public void setComponents(MavenWorkspaceCache cache,
                              boolean failOnUnresolvedDependency,
                              MavenTerminal mavenTerminal,
                              MavenServerProgressNotifier notifier,
                              boolean alwaysUpdateSnapshot) throws RemoteException {

        container.addComponent(getMavenComponent(ArtifactResolver.class, "che"), ArtifactResolver.ROLE);
        ArtifactResolver artifactResolver = getMavenComponent(ArtifactResolver.class);
        if (artifactResolver instanceof CheArtifactResolver) {
            ((CheArtifactResolver)artifactResolver).setWorkspaceCache(cache, failOnUnresolvedDependency);
        }

        buildDate = new Date();
        workspaceCache = cache;
        updateSnapshots = updateSnapshots || alwaysUpdateSnapshot;
        terminalLogger.setTerminal(mavenTerminal);
        mavenProgressNotifier = new MavenServerProgressNotifierImpl(notifier);
    }

