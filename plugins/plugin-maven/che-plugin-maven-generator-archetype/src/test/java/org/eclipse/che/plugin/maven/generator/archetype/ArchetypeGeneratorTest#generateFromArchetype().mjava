    @Test
    @Ignore
    public void generateFromArchetype() throws Exception {
        MavenArchetype mavenArchetype = mock(MavenArchetype.class);
        EventService eventService = mock(EventService.class);
        when(mavenArchetype.getArtifactId()).thenReturn("tomee-webapp-archetype");
        when(mavenArchetype.getGroupId()).thenReturn("org.apache.openejb.maven");
        when(mavenArchetype.getVersion()).thenReturn("1.7.1");
        File workDir = Files.createTempDirectory("workDir").toFile();
        ArchetypeGenerator archetypeGenerator = new ArchetypeGenerator(eventService);
        String artifactId = NameGenerator.generate("artifactId", 5);
        String groupId = NameGenerator.generate("groupId", 5);
        MavenArtifact mavenArtifact = new MavenArtifact();
        mavenArtifact.setArtifactId(artifactId);
        mavenArtifact.setGroupId(groupId);
        mavenArtifact.setVersion("1.0-SNAPSHOT");
        archetypeGenerator.generateFromArchetype(workDir, mavenArchetype, mavenArtifact);
        String[] list = workDir.list();
        List<String> strings = Arrays.asList(list);
        Assert.assertTrue(strings.contains(artifactId));
    }

