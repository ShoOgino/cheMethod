    @Test
    public void testClasspathMultimoduleProject() throws Exception {
        String pom = "<groupId>test</groupId>" +
                     "<artifactId>testArtifact</artifactId>" +
                     "<version>42</version>" +
                     "<modules>" +
                     "    <module>module1</module>" +
                     "    <module>module2</module>" +
                     "</modules>";
        createTestProject("parent", pom);

        String pomModule1 = "<groupId>test</groupId>" +
                            "<artifactId>testModule1</artifactId>" +
                            "<version>1</version>" +
                            "<dependencies>" +
                            "    <dependency>" +
                            "        <groupId>junit</groupId>" +
                            "        <artifactId>junit</artifactId>" +
                            "        <version>4.12</version>" +
                            "    </dependency>" +
                            "</dependencies>";
        createTestProjectWithPackages("parent/module1", pomModule1, "org.eclipse.multi.module");

        String pomModule2 = "<groupId>test</groupId>" +
                            "<artifactId>testModule2</artifactId>" +
                            "<version>2</version>" +
                            "<dependencies>" +
                            "    <dependency>" +
                            "        <groupId>test</groupId>" +
                            "        <artifactId>testModule1</artifactId>" +
                            "        <version>1</version>" +
                            "    </dependency>" +
                            "</dependencies>";
        createTestProject("parent/module2", pomModule2);
        IProject parent = ResourcesPlugin.getWorkspace().getRoot().getProject("parent");
        mavenWorkspace.update(Collections.singletonList(parent));
        mavenWorkspace.waitForUpdate();

        IProject module2 = ResourcesPlugin.getWorkspace().getRoot().getProject("parent/module2");
        JavaProject javaProject = (JavaProject)JavaCore.create(module2);
        IJavaElement packageFragment = javaProject.findPackageFragment("org.eclipse.multi.module");
        assertThat(packageFragment).isNotNull();
    }

