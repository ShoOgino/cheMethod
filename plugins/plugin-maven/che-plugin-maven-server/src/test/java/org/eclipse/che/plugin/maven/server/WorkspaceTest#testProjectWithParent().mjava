    @Test
    public void testProjectWithParent() throws Exception {
        String pom = "<parent>" +
                     "   <groupId>testParent</groupId>" +
                     "   <artifactId>testParentArtifact</artifactId>" +
                     "   <version>42</version>" +
                     "</parent>" +
                     "<artifactId>testArtifact</artifactId>" +
                     "<dependencies>" +
                     "    <dependency>" +
                     "        <groupId>junit</groupId>" +
                     "        <artifactId>junit</artifactId>" +
                     "        <version>4.12</version>" +
                     "    </dependency>" +
                     "</dependencies>";
        createTestProject("test", pom);

        IProject test = ResourcesPlugin.getWorkspace().getRoot().getProject("test");
        mavenWorkspace.update(Collections.singletonList(test));
        mavenWorkspace.waitForUpdate();
        MavenProject mavenProject = projectManager.findMavenProject(test);

        MavenKey mavenKey = mavenProject.getMavenKey();
        assertThat(mavenKey.getArtifactId()).isEqualTo("testArtifact");
        assertThat(mavenKey.getGroupId()).isEqualTo("testParent");
        assertThat(mavenKey.getVersion()).isEqualTo("42");

    }

