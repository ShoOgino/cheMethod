  private void internalAddMavenProject(
      IProject project, boolean recursive, UpdateState state, Deque<MavenProject> stack) {
    MavenProject mavenProject = new MavenProject(project, workspaceProvider.get());
    MavenProject potentialParent = null;
    for (MavenProject parent : getAllProjects()) {
      if (parent.containsAsModule(project.getFullPath())) {
        potentialParent = parent;
        break;
      }
    }
    internalUpdate(mavenProject, potentialParent, true, recursive, state, stack);
  }

