  private boolean updateChild(MavenProject parentProject, MavenProject module) {
    MavenProject oldParent = findParentProject(module);
    if (oldParent == parentProject) {
      return false;
    }
    writeLock.lock();
    try {
      if (oldParent == null) {
        rootProjects.remove(module);
      } else {
        removeModule(oldParent, module);
      }

      if (parentProject == null) {
        rootProjects.add(module);
      } else {
        addModule(parentProject, module);
      }
    } finally {
      writeLock.unlock();
    }

    return false;
  }

