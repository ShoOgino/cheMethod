  public synchronized MavenServerWrapper getMavenServer(ServerType type) {
    MavenServerWrapper wrapper = cache.get(type);
    if (wrapper == null) {
      wrapper = serverManager.createMavenServer();
      cache.put(type, wrapper);
    }

    if (usedServers.contains(wrapper)) {
      //need to warn here
      return serverManager.createMavenServer();
    }

    usedServers.add(wrapper);
    return wrapper;
  }

