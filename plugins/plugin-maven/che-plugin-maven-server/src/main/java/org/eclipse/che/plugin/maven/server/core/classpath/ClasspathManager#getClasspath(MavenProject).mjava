    private IClasspathEntry[] getClasspath(MavenProject mavenProject) {
        ClasspathHelper helper = new ClasspathHelper(true);

        List<MavenArtifact> dependencies = mavenProject.getDependencies();
        for (MavenArtifact dependency : dependencies) {

            File file = dependency.getFile();
            if (file == null) {
                continue;
            }

            ClasspathEntryHelper entry;
            if (file.getPath().endsWith("pom.xml")) {
                String path = file.getParentFile().getPath();
                entry = helper.addProjectEntry(new Path(path.substring(workspacePath.length())));
            } else {
                entry = helper.addLibraryEntry(new Path(file.getPath()));
            }
            if (entry != null) {
                MavenArtifactKey artifactKey = new MavenArtifactKey(dependency.getGroupId(),
                                                                    dependency.getArtifactId(),
                                                                    dependency.getVersion(),
                                                                    dependency.getExtension(),
                                                                    dependency.getClassifier());
                entry.setArtifactKey(artifactKey);
                attachSources(entry);
            }

        }
        //todo add downloaded sources
        return helper.getEntries();
    }

