  private Problem createProblem(String pomContent, SAXParseException spe) {
    Problem problem = DtoFactory.newDto(Problem.class);
    problem.setError(true);
    problem.setMessage(spe.getMessage());
    if (pomContent != null) {
      int lineNumber = spe.getLineNumber();
      int columnNumber = spe.getColumnNumber();
      try {
        Document document = new Document(pomContent);
        int lineOffset = document.getLineOffset(lineNumber - 1);
        problem.setSourceStart(lineOffset + columnNumber - 1);
        problem.setSourceEnd(lineOffset + columnNumber);
      } catch (BadLocationException e) {
        LOG.error(e.getMessage(), e);
      }
    }
    return problem;
  }

