  private void updateJavaProject(MavenProject project) {
    IJavaProject javaProject = JavaCore.create(project.getProject());
    try {
      ClasspathHelper helper = new ClasspathHelper(javaProject);
      IPath sourceOutputPath =
          project.getProject().getFullPath().append(project.getOutputDirectory());
      for (String source : project.getSources()) {
        IPath sourcePath = project.getProject().getFullPath().append(source);
        helper.addSourceEntry(sourcePath, sourceOutputPath);
      }

      IPath testOutputPath =
          project.getProject().getFullPath().append(project.getTestOutputDirectory());
      for (String testSource : project.getTestSources()) {
        IPath testSourcePath = project.getProject().getFullPath().append(testSource);
        helper.addSourceEntry(testSourcePath, testOutputPath);
      }
      //add maven classpath container
      helper.addContainerEntry(new Path(MavenClasspathContainer.CONTAINER_ID));
      //add JRE classpath container
      helper.addContainerEntry(new Path(JREContainerInitializer.JRE_CONTAINER));

      javaProject.setRawClasspath(helper.getEntries(), null);
    } catch (JavaModelException e) {
      LOG.error("Can't update Java project classpath", e);
    }
  }

