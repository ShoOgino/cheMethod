    public void delete(List<IProject> projects) {
        if (projects.isEmpty()) {
            return;
        }
        UpdateState state = new UpdateState();

        Deque<MavenProject> stack = new LinkedList<>();

        Set<MavenProject> childToUpdate = new HashSet<>();

        for (IProject project : projects) {
            MavenProject mavenProject = findMavenProject(project);
            if (mavenProject == null) {
                return;
            }

            childToUpdate.addAll(findChildProjects(mavenProject));
            internalDelete(findParentProject(mavenProject), mavenProject, state);
        }

        childToUpdate.removeAll(state.removedProjects);

        for (MavenProject mavenProject : childToUpdate) {
            internalUpdate(mavenProject, null, false, false, state, stack);
        }

        state.fireUpdate();
    }

