  @Override
  public void visit(Choice e) {
    try {
      out.write('|');
      boolean first = true;
      for (String choice : e.getChoices()) {
        if (first) {
          first = false;
        } else {
          out.write(",");
        }
        out.write(choice);
      }
      out.write('|');
    } catch (IOException e1) {
      throw new RuntimeException(e1);
    }
  }

