  @Test
  public void shouldReturnNotNullCompletion() throws Exception {
    when(serverCapabilities.getCompletionProvider()).thenReturn(completionOptions);
    when(completionOptions.getResolveProvider()).thenReturn(false);

    Completion[] completions = new Completion[1];
    proposal.getCompletion(completion -> completions[0] = completion);

    assertNotNull(completions[0]);
  }

