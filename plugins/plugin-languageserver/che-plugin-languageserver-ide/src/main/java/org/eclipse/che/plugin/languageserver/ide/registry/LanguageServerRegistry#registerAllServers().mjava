    @Inject
    protected void registerAllServers() {
        eventBus.addHandler(WsAgentStateEvent.TYPE, new WsAgentStateHandler() {
            @Override
            public void onWsAgentStarted(WsAgentStateEvent event) {
                Promise<List<ExtendedInitializeResult>> registeredLanguages = client.getRegisteredLanguages();

                registeredLanguages.then(new Operation<List<ExtendedInitializeResult>>() {
                    @Override
                    public void apply(List<ExtendedInitializeResult> initialResults) throws OperationException {
                        for (ExtendedInitializeResult initializeResultDTO : initialResults) {
                            for (LanguageDescription languageDescription : initializeResultDTO.getSupportedLanguages()) {
                                register(initializeResultDTO.getProject(),
                                         languageDescription,
                                         initializeResultDTO.getCapabilities());
                            }
                        }
                    }
                });
            }

            @Override
            public void onWsAgentStopped(WsAgentStateEvent event) {
            }
        });
    }

