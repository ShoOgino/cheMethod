  private Snippet snippet(Function<Token, Boolean> stopOnToken) {
    int start = pos;
    List<Expression> expressions = new ArrayList<>();
    while (token != Token.EOF && !stopOnToken.apply(token)) {
      expressions.add(any(stopOnToken));
    }
    return new Snippet(start, pos, expressions);
  }

