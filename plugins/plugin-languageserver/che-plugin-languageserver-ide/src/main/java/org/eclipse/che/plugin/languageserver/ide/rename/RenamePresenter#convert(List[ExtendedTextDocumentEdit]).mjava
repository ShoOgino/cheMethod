  @Override
  public List<RenameProject> convert(List<ExtendedTextDocumentEdit> documentChanges) {
    if (projectCache.containsKey(documentChanges)) {
      return projectCache.get(documentChanges);
    }
    Project[] projects = appContext.getProjects();
    Map<Project, List<ExtendedTextDocumentEdit>> projectMap = new HashMap<>();
    for (ExtendedTextDocumentEdit documentChange : documentChanges) {
      String filePath = documentChange.getTextDocument().getUri();
      Project project = getProject(filePath, projects);
      if (project == null) {
        continue;
      }
      if (!projectMap.containsKey(project)) {
        projectMap.put(project, new ArrayList<>());
      }
      projectMap.get(project).add(documentChange);
    }

    List<RenameProject> result = new ArrayList<>();
    for (Project project : projectMap.keySet()) {
      result.add(new RenameProject(project, getRenameFolders(project, projectMap.get(project))));
    }

    return result;
  }

