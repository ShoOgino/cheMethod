    @Inject
    public LanguageServerExtension(LanguageServerFileTypeRegister languageServerFileTypeRegister,
                                   EventBus eventBus,
                                   AppContext appContext) {
        eventBus.addHandler(WsStatusChangedEvent.TYPE, event -> {
            if (event.getStatus() == RUNNING) {
                languageServerFileTypeRegister.start();
            }
        });

        final Workspace workspace = appContext.getWorkspace();
        if (workspace != null && workspace.getStatus() == RUNNING) {
            languageServerFileTypeRegister.start();
        }
    }

