  private static String getCurrentWord(Document doc, TextPosition pos) {
    String line = doc.getLineContent(pos.getLine());
    if (line.length() == 0) {
      return "";
    }
    int start = pos.getCharacter();
    int end = start;
    while (start > 0 && !Character.isWhitespace(line.charAt(start - 1))) {
      start--;
    }
    while (end < line.length() && !Character.isWhitespace(line.charAt(end))) {
      end++;
    }
    return line.substring(start, end);
  }

