  public Promise<ServerCapabilities> getOrInitializeServer(String projectPath, VirtualFile file) {
    // call initialize service
    final MessageLoader loader =
        loaderFactory.newLoader("Initializing Language Server for " + file.getName());
    loader.show();
    return jsonRpcClient
        .initializeServer(file.getLocation().toString())
        .then(
            (ServerCapabilities arg) -> {
              loader.hide();
              return arg;
            })
        .catchError(
            arg -> {
              notificationManager.notify(
                  "Initializing Language Server for " + file.getName(),
                  arg.getMessage(),
                  FAIL,
                  EMERGE_MODE);
              loader.hide();
              return null;
            });
  }

