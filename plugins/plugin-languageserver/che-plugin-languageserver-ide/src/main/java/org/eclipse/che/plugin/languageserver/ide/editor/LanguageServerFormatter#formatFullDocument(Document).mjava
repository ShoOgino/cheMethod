  private void formatFullDocument(Document document) {
    DocumentFormattingParams params = dtoFactory.createDto(DocumentFormattingParams.class);

    TextDocumentIdentifier identifier = dtoFactory.createDto(TextDocumentIdentifier.class);
    identifier.setUri(document.getFile().getLocation().toString());

    params.setTextDocument(identifier);
    params.setOptions(getFormattingOptions());
    Promise<List<TextEdit>> promise = client.formatting(params);
    handleFormatting(promise, document);
  }

