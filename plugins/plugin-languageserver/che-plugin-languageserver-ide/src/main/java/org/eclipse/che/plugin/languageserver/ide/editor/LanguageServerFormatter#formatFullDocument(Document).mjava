  private void formatFullDocument(Document document) {
    DocumentFormattingParams params = dtoFactory.createDto(DocumentFormattingParams.class);

    TextDocumentIdentifier identifier = dtoHelper.createTDI(document.getFile());

    params.setTextDocument(identifier);
    params.setOptions(getFormattingOptions());

    Promise<List<TextEdit>> promise = client.formatting(params);
    handleFormatting(promise, document);
  }

