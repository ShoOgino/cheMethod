    private void formatFullDocument(Document document) {
        DocumentFormattingParamsDTO params = dtoFactory.createDto(DocumentFormattingParamsDTO.class);

        TextDocumentIdentifierDTO identifier = dtoFactory.createDto(TextDocumentIdentifierDTO.class);
        identifier.setUri(document.getFile().getPath());

        params.setTextDocument(identifier);
        params.setOptions(getFormattingOptions());
        Promise<List<TextEditDTO>> promise = client.formatting(params);
        handleFormatting(promise, document);
    }

