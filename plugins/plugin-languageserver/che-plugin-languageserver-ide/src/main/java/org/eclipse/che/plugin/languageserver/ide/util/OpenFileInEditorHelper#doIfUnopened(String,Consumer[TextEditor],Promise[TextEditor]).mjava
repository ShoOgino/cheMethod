  private void doIfUnopened(
      final String filePath, Consumer<TextEditor> onEditorOpened, Promise<TextEditor> openEditor) {
    if (Strings.isNullOrEmpty(filePath)) {
      return;
    }

    EditorPartPresenter editorPartPresenter = editorAgent.getOpenedEditor(Path.valueOf(filePath));
    if (editorPartPresenter != null) {
      editorAgent.activateEditor(editorPartPresenter);
      fileOpened(editorPartPresenter, onEditorOpened);
    } else {
      openEditor.then(
          (editor) -> {
            fileOpened(editor, onEditorOpened);
          });
    }
  }

