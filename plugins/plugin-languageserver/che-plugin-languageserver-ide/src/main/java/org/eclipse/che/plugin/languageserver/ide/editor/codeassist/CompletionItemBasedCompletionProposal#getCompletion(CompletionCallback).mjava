  @Override
  public void getCompletion(final CompletionCallback callback) {
    if (canResolve()) {
      resolve()
          .then(
              completionItem -> {
                callback.onCompletion(
                    new CompletionImpl(completionItem.getItem(), currentWord, offset));
              });
    } else {
      callback.onCompletion(new CompletionImpl(completionItem.getItem(), currentWord, offset));
    }
  }

