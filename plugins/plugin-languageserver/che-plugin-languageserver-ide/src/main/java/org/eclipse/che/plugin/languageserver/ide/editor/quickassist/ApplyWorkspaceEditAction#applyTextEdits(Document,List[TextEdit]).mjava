  public static void applyTextEdits(Document document, List<TextEdit> edits) {
    edits
        .stream()
        .sorted(COMPARATOR)
        .forEach(
            e -> {
              Range r = e.getRange();
              Position start = r.getStart();
              Position end = r.getEnd();
              document.replace(
                  start.getLine(),
                  start.getCharacter(),
                  end.getLine(),
                  end.getCharacter(),
                  e.getNewText());
            });
  }

