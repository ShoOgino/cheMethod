    @Test
    public void testOnDebugPortChanged() throws Exception {
        int debugPort = 10000;
        when(pageView.getDebugPort()).thenReturn(debugPort);
        final DebugConfigurationPage.DirtyStateListener listener = mock(DebugConfigurationPage.DirtyStateListener.class);
        pagePresenter.setDirtyStateListener(listener);
        pagePresenter.onDebugPortChanged();
        verify(pageView).getDebugPort();
        verify(configuration, times(3)).getConnectionProperties();
        verify(listener).onDirtyStateChanged();
    }

