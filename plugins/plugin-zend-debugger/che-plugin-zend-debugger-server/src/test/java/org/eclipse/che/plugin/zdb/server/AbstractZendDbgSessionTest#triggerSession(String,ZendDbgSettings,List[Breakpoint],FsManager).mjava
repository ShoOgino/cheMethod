  protected void triggerSession(
      String dbgFile,
      ZendDbgSettings dbgSettings,
      List<Breakpoint> dbgBreakpoints,
      FsManager fsManager)
      throws Exception {
    ZendDbgLocationHandler dbgLocationMapper = mock(ZendDbgLocationHandler.class);
    // No need to convert between VFS and DBG for test purposes
    when(dbgLocationMapper.convertToVFS(anyObject())).then(returnsFirstArg());
    when(dbgLocationMapper.convertToDBG(anyObject())).then(returnsFirstArg());
    debugger = new ZendDebugger(dbgSettings, dbgLocationMapper, dbgEvents::add, fsManager);
    debugger.start(new StartActionImpl(dbgBreakpoints));
    dbgEngineProcess =
        Runtime.getRuntime()
            .exec(
                "php " + dbgFile,
                new String[] {dbgSettings.isUseSsslEncryption() ? QUERY_SSL : QUERY_NO_SSL});
  }

