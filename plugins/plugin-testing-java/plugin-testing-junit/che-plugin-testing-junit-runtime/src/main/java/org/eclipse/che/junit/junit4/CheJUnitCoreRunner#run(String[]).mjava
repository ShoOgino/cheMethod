  /**
   * Create a <code>request</code> where all tests are described and run it.
   *
   * @param suites the name of the test classes to be executed. If array has one element - it is an
   *     information about test method to be executed (for example
   *     full.qualified.ClassName#methodName)
   */
  public void run(String[] suites) {
    createListener();

    List<JUnit4TestReference> newSuites = TestRunnerUtil.createTestReferences(suites);

    if (newSuites.isEmpty()) {
      TestingMessageHelper.reporterAttached(System.out);
      return;
    }

    RunNotifier runNotifier = new RunNotifier();
    runNotifier.addListener(new JUnitExecutionListener(cheJUnitTestListener));
    cheJUnitTestListener.testRunStarted();

    for (JUnit4TestReference jUnit4TestReference : newSuites) {
      jUnit4TestReference.sendTree(cheJUnitTestListener);
    }

    Result result = new Result();
    final RunListener listener = result.createListener();
    runNotifier.addListener(listener);

    for (JUnit4TestReference testReference : newSuites) {
      testReference.run(runNotifier);
    }
    runNotifier.fireTestRunFinished(result);
  }

