    @Override
    public void actionPerformed(ActionEvent e) {
        final Selection< ? > selection = selectionAgent.getSelection();
        final Object possibleNode = selection.getHeadElement();
        if (possibleNode instanceof FileNode) {
            VirtualFile file = ((FileNode)possibleNode).getData();
            String fqn = JavaUtil.resolveFQN(file);
            Map<String, String> parameters = new HashMap<>();
            parameters.put("fqn", fqn);
            parameters.put("runClass", "true");
            delegate.doRunTests(e, parameters);
        }
    }

