    @Override
    public void updateInPerspective(@NotNull ActionEvent e) {
        if ((appContext.getRootProject() == null)) {
            e.getPresentation().setVisible(true);
            e.getPresentation().setEnabled(false);
            return;
        }
        final Selection<?> selection = selectionAgent.getSelection();
        if (selection == null || selection.isEmpty()) {
            e.getPresentation().setEnabled(false);
            return;
        }
        if (selection.isMultiSelection()) {
            e.getPresentation().setEnabled(false);
            return;
        }
        final Object possibleNode = selection.getHeadElement();
        boolean enable = possibleNode instanceof FileNode
                && ((FileNode) possibleNode).getData().getExtension().equals("java");
        e.getPresentation().setEnabled(enable);
    }

