    private ProcessHandler startTestProcess(IJavaProject javaProject, TestExecutionContext context) {
        JavaParameters parameters = new JavaParameters();
        parameters.setJavaExecutable(JAVA_EXECUTABLE);
        parameters.setMainClassName(MAIN_CLASS_NAME);
        parameters.setWorkingDirectory(workspacePath + javaProject.getPath());

        List<String> classPath = new ArrayList<>();
        Set<String> projectClassPath = classpathProvider.getProjectClassPath(javaProject);
        classPath.addAll(projectClassPath);
        classPath.add(ClasspathUtil.getJarPathForClass(CheJUnitCoreRunner.class));
        parameters.getClassPath().addAll(classPath);

        String suite = createTestSuite(context, javaProject);
        parameters.getParametersList().add(suite);
        if (context.isDebugModeEnable()) {
            generateDebuggerPort();
            parameters.getVmParameters().add("-Xdebug");
            parameters.getVmParameters().add("-Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=" + getDebugPort());
        }
        CommandLine command = parameters.createCommand();
        try {
            return new ProcessHandler(command.createProcess());
        } catch (ExecutionException e) {
            LOG.error("Can't run JUnit JVM", e);
        }

        return null;
    }

