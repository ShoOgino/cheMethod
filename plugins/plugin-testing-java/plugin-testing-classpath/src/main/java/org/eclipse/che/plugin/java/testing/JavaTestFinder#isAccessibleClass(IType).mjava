  private static boolean isAccessibleClass(IType type) throws JavaModelException {
    int flags = type.getFlags();
    if (Flags.isInterface(flags)) {
      return false;
    }
    IJavaElement parent = type.getParent();
    while (true) {
      if (parent instanceof ICompilationUnit || parent instanceof IClassFile) {
        return true;
      }
      if (!(parent instanceof IType) || !Flags.isStatic(flags) || !Flags.isPublic(flags)) {
        return false;
      }
      flags = ((IType) parent).getFlags();
      parent = parent.getParent();
    }
  }

