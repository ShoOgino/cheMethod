  private void addCheListeners() {
    CheTestNGListener listener = new CheTestNGListener();
    addListener(new CheSuiteListener(listener));
    addListener(new CheTestListener(listener));

    try {
      Class<?> configurationListenerClass =
          Class.forName("org.testng.listeners.CheConfigurationListener");
      Object confListener =
          configurationListenerClass.getConstructor(CheTestNGListener.class).newInstance(listener);
      addListener(confListener);

      Class<?> methodListenerClass = Class.forName("org.testng.listeners.CheInvokedMethodListener");
      Object methodListener =
          methodListenerClass.getConstructor(CheTestNGListener.class).newInstance(listener);
      addListener(methodListener);

      configurationListenerClass.getMethod("setIgnoreStarted").invoke(confListener);
    } catch (Throwable ignored) {
    }
  }

