    /**
     * Message when the test is failed.
     *
     * @param out
     *         output stream
     * @param params
     *         special parameters which can contain the name of failed test, error message
     */
    public static void testFailed(PrintStream out, Map<String, String> params) {

        List<Pair> attributes = new ArrayList<>(params.size());
        for (String key : params.keySet()) {
            attributes.add(new Pair(key, escape(params.get(key))));
        }
        out.println(create("testFailed", attributes));
    }

