    @Override
    public void updateInPerspective(@NotNull ActionEvent e) {
        Resource resource = appContext.getResource();
        if (resource == null || resource.getProject() == null) {
            e.getPresentation().setEnabledAndVisible(false);
            return;
        }

        e.getPresentation().setVisible(true);

        String projectType = resource.getProject().getType();
        if (!"maven".equals(projectType)) {
            e.getPresentation().setEnabled(false);
        }

        if (resource instanceof File) {
            File file = (File)resource;
            String expectedXmlFile = MavenAttributes.DEFAULT_TEST_RESOURCES_FOLDER + "/testng.xml";
            e.getPresentation().setEnabled(file.getLocation().toString().endsWith(expectedXmlFile));
        } else {
            e.getPresentation().setEnabled(true);
        }
    }

