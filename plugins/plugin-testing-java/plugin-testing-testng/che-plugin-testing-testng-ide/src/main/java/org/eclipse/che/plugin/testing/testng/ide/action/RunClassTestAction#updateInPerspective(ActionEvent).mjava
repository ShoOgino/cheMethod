    @Override
    public void updateInPerspective(@NotNull ActionEvent e) {
        Resource resource = appContext.getResource();
        if (! (resource instanceof File)) {
            e.getPresentation().setEnabledAndVisible(false);
            return;
        }
        
        Project project = resource.getProject();
        if (project == null) {
            e.getPresentation().setEnabledAndVisible(false);
        }
        
        e.getPresentation().setVisible(true);

        String projectType = project.getType();
        if (! "maven".equals(projectType)) {
            e.getPresentation().setEnabled(false);
        }

        boolean enable = "java".equals(((File)resource).getExtension());
        e.getPresentation().setEnabled(enable);
    }

