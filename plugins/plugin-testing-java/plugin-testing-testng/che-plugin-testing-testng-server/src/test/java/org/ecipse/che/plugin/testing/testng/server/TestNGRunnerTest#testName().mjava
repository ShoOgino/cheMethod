  @Test()
  public void testName() throws Exception {
    String name = "Test";
    FolderEntry folder = pm.getProjectsRoot().createFolder(name);
    FolderEntry testsFolder = folder.createFolder("src/tests");
    StringBuilder b = new StringBuilder("package tests;\n");
    b.append("public class TestNGTest {}");
    testsFolder.createFile("TestNGTest.java", b.toString().getBytes());
    projectRegistry.setProjectType(folder.getPath().toString(), "java", false);

    // inform DeltaProcessingStat about new project
    JavaModelManager.getJavaModelManager()
        .deltaState
        .resourceChanged(new ResourceChangedEvent(root, new ProjectCreatedEvent("", "/Test")));

    IJavaProject javaProject =
        JavaModelManager.getJavaModelManager().getJavaModel().getJavaProject("/Test");
    IClasspathEntry testNg =
        JavaCore.newLibraryEntry(
            new Path(ClasspathUtil.getJarPathForClass(Test.class)), null, null);
    IClasspathEntry source =
        JavaCore.newSourceEntry(
            new Path("/Test/src"),
            null,
            new Path(ClasspathUtil.getJarPathForClass(TestNGRunnerTest.class)));
    IClasspathEntry jre =
        JavaCore.newContainerEntry(new Path(JREContainerInitializer.JRE_CONTAINER));

    javaProject.setRawClasspath(new IClasspathEntry[] {testNg, source, jre}, null);

    DtoServerImpls.TestExecutionContextImpl context = new DtoServerImpls.TestExecutionContextImpl();
    context.setDebugModeEnable(false);
    context.setContextType(TestExecutionContext.ContextType.FILE);
    context.setProjectPath("/Test");
    context.setFilePath("/Test/src/tests/TestNGTest.java");
    assertEquals("testng", runner.getName());
  }

