  @BeforeMethod
  public void setUp() throws Exception {
    javaProject = createJavaProject("testDiscovery", "bin");
    testNGTestFinder = new JavaTestFinder();
    IPackageFragmentRoot packageFragmentRoot = addSourceContainer(javaProject, "src", "bin");
    javaProject.setRawClasspath(getTestNgClassPath("/testDiscovery/src"), null);

    RegisteredProject testDiscovery = projectRegistry.getProject("testDiscovery");
    Map<String, Value> attributeEntries = testDiscovery.getAttributeEntries();
    attributeEntries.put("language", new ValueImpl(Collections.singletonList(JavaCore.NATURE_ID)));

    packageFragment = packageFragmentRoot.createPackageFragment("test", false, null);
  }

