  private void doSetAndGetValues() throws DebuggerException {
    VariablePath variablePath = new VariablePathImpl("i");
    Variable variable =
        new VariableImpl("int", "i", "2", true, variablePath, Collections.emptyList(), false);

    SimpleValue value = gdbDebugger.getValue(variablePath);
    assertEquals(value.getValue(), "0");

    gdbDebugger.setValue(variable);

    value = gdbDebugger.getValue(variablePath);

    assertEquals(value.getValue(), "2");

    String expression = gdbDebugger.evaluate("i");
    assertEquals(expression, "2");

    expression = gdbDebugger.evaluate("10 + 10");
    assertEquals(expression, "20");

    StackFrameDump stackFrameDump = gdbDebugger.dumpStackFrame();
    assertTrue(stackFrameDump.getFields().isEmpty());
    assertEquals(stackFrameDump.getVariables().size(), 1);
    assertEquals(stackFrameDump.getVariables().get(0).getName(), "i");
    assertEquals(stackFrameDump.getVariables().get(0).getValue(), "2");
    assertEquals(stackFrameDump.getVariables().get(0).getType(), "int");
  }

