    private void initializeDebugger() throws GdbDebuggerException {
        gdbDebugger = spy(GdbDebugger.newInstance("localhost", 1111, file));

        doAnswer(invocation -> {
            DebuggerEventList eventList = (DebuggerEventList)invocation.getArguments()[0];
            events.addAll(eventList.getEvents());
            return null;
        }).when(gdbDebugger).publishWebSocketMessage(any(), any());

        assertEquals(gdbDebugger.getFile(), file);
        assertEquals(gdbDebugger.getHost(), "localhost");
        assertEquals(gdbDebugger.getPort(), 1111);
        assertNotNull(gdbDebugger.getVersion());
        assertNotNull(gdbDebugger.getName());
        assertNotNull(gdbDebugger.getId(), "1");
    }

