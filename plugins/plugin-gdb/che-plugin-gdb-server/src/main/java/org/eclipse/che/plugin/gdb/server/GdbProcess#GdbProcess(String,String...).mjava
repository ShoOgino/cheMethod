  public GdbProcess(String outputSeparator, String... commands) throws IOException {
    this.outputSeparator = outputSeparator;
    this.outputs = new ArrayBlockingQueue<>(MAX_CAPACITY);

    ProcessBuilder processBuilder = new ProcessBuilder(commands);
    process = processBuilder.start();

    outputReader = new OutputReader(commands[0] + " output reader");
    outputReader.setDaemon(true);
    outputReader.start();

    try {
      Field pidField =
          Thread.currentThread()
              .getContextClassLoader()
              .loadClass("java.lang.UNIXProcess")
              .getDeclaredField("pid");
      pidField.setAccessible(true);
      pid = ((Number) pidField.get(process)).intValue();
    } catch (Exception e) {
      pid = -1;
      LOG.error(e.getMessage(), e);
    }
  }

