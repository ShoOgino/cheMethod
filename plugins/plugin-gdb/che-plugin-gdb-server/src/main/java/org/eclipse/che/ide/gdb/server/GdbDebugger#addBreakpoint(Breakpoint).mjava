    /**
     * Adds breakpoint to the server.
     */
    public void addBreakpoint(Breakpoint breakpoint) throws GdbDebuggerException {
        try {
            Location location = breakpoint.getLocation();
            if (location.getClassName() == null) {
                gdb.breakpoint(location.getLineNumber());
            } else {
                gdb.breakpoint(location.getClassName(), location.getLineNumber());
            }

            BreakpointActivatedEvent breakpointActivatedEvent = newDto(BreakpointActivatedEvent.class);
            breakpointActivatedEvent.setType(DebuggerEvent.BREAKPOINT_ACTIVATED);
            breakpointActivatedEvent.setBreakpoint(breakpoint);

            DebuggerEventList debuggerEventList = newDto(DebuggerEventList.class);
            debuggerEventList.withEvents(Collections.singletonList(breakpointActivatedEvent));
            publishWebSocketMessage(debuggerEventList, EVENTS_CHANNEL + id);
        } catch (IOException | GdbParseException | InterruptedException e) {
            throw new GdbDebuggerException("Can't add breakpoint: " + breakpoint, e);
        }
    }

