    /**
     * Disconnects from GDB.
     *
     * @throws GdbDebuggerException
     */
    public void disconnect() throws GdbDebuggerException {
        instances.remove(id);
        DisconnectEvent disconnectEvent = newDto(DisconnectEvent.class);
        disconnectEvent.setType(DebuggerEvent.DISCONNECTED);

        DebuggerEventList debuggerEventList = newDto(DebuggerEventList.class);
        debuggerEventList.withEvents(Collections.singletonList(disconnectEvent));
        publishWebSocketMessage(debuggerEventList, EVENTS_CHANNEL + id);

        try {
            gdb.quit();
        } catch (IOException e) {
            throw new GdbDebuggerException("quit failed", e);
        }
    }

