    @Override
    public void openFile(final Location location, final AsyncCallback<VirtualFile> callback) {
        CurrentProject currentProject = appContext.getCurrentProject();
        if (currentProject == null) {
            return;
        }
        String filePath = currentProject.getProjectConfig().getPath() + "/" + location.getTarget();
        VirtualFile activeFile = null;
        final EditorPartPresenter activeEditor = editorAgent.getActiveEditor();
        if (activeEditor != null) {
            activeFile = activeEditor.getEditorInput().getFile();
        }

        if (activeEditor == null || !activeFile.getPath().equals(filePath)) {
            doOpenFile(filePath, location.getLineNumber(), callback);
        } else {
            scrollEditorToExecutionPoint((TextEditor)activeEditor, location.getLineNumber());
            callback.onSuccess(activeEditor.getEditorInput().getFile());
        }
    }

