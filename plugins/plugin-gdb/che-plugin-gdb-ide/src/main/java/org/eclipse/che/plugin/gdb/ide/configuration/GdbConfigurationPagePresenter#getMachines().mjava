  private List<Machine> getMachines() {
    Workspace workspace = appContext.getWorkspace();
    if (workspace == null || workspace.getRuntime() == null) {
      return emptyList();
    }

    List<? extends Machine> runtimeMachines = workspace.getRuntime().getMachines();
    List<Machine> machines = new ArrayList<>(runtimeMachines.size());
    for (Machine currentMachine : runtimeMachines) {
      if (currentMachine instanceof MachineDto) {
        Machine machine = new MachineEntityImpl(currentMachine);
        machines.add(machine);
      }
    }
    return machines;
  }

