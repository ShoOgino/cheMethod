  @Override
  public void openFile(Location location, AsyncCallback<VirtualFile> callback) {
    findInOpenedEditors(
        location,
        new AsyncCallback<VirtualFile>() {
          @Override
          public void onSuccess(VirtualFile result) {
            callback.onSuccess(result);
          }

          @Override
          public void onFailure(Throwable caught) {
            if (location.isExternalResource()) {
              openExternalResource(location, callback);
            } else {
              findSourceToOpen(location, callback);
            }
          }
        });
  }

