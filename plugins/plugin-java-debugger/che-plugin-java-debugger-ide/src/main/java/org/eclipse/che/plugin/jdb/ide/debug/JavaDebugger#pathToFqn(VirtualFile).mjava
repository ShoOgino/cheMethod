    @Nullable
    @Override
    protected String pathToFqn(VirtualFile file) {
        if (file instanceof JavaFileNode) {
            return ((JavaFileNode)file).getFqn();
        }
        if (file instanceof JarFileNode) {
            return file.getPath();
        }

        String fileExtension = fileTypeRegistry.getFileTypeByFile(file).getExtension();

        FqnResolver resolver = fqnResolverFactory.getResolver(fileExtension);
        if (resolver != null) {
            return resolver.resolveFqn(file);
        }

        return null;
    }

