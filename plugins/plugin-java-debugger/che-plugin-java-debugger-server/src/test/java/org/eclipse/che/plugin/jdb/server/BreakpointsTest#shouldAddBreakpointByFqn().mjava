  @Test(priority = 1)
  public void shouldAddBreakpointByFqn() throws Exception {
    Location location =
        new LocationImpl("org.eclipse.BreakpointsTest", 20, false, -1, "/test", null, -1);

    try {
      debugger.addBreakpoint(new BreakpointImpl(location, false, null));
    } catch (DebuggerException e) {
      // class might not be loaded yet
    }

    debugger.resume(new ResumeActionImpl());

    DebuggerEvent debuggerEvent = events.take();
    assertTrue(debuggerEvent instanceof BreakpointActivatedEvent);

    Breakpoint actualBreakpoint = ((BreakpointActivatedEvent) debuggerEvent).getBreakpoint();
    Location actualLocation = actualBreakpoint.getLocation();
    assertEquals(actualLocation.getLineNumber(), 20);
    assertEquals(actualLocation.getTarget(), "org.eclipse.BreakpointsTest");
    assertEquals(actualLocation.getResourceProjectPath(), "/test");
    assertTrue(actualBreakpoint.isEnabled());

    debuggerEvent = events.take();
    assertTrue(debuggerEvent instanceof SuspendEvent);

    Location suspendLocation = ((SuspendEvent) debuggerEvent).getLocation();
    assertEquals(suspendLocation.getLineNumber(), 20);
    assertEquals(actualLocation.getTarget(), "org.eclipse.BreakpointsTest");
    assertEquals(actualLocation.getResourceProjectPath(), "/test");
  }

