  private JdiStackFrame getCurrentFrame() throws DebuggerException {
    if (stackFrame != null) {
      return stackFrame;
    }
    try {
      stackFrame = new JdiStackFrameImpl(getCurrentThread().frame(0));
    } catch (IncompatibleThreadStateException e) {
      throw new DebuggerException("Thread is not suspended. ", e);
    }
    return stackFrame;
  }

