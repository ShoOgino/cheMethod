  @Override
  public List<Variable> getVariables() {
    if (variables.get() == null) {
      synchronized (variables) {
        if (variables.get() == null) {
          try {
            variables.set(
                jdiStackFrame
                    .visibleVariables()
                    .stream()
                    .map(v -> new JdbVariable(jdiStackFrame, v))
                    .collect(Collectors.toList()));
          } catch (Exception e) {
            variables.set(Collections.emptyList());
          }
        }
      }
    }

    return variables.get();
  }

