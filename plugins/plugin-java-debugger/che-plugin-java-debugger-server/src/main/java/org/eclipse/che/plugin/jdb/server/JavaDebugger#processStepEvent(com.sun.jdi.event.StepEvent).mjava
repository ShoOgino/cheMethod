  private boolean processStepEvent(com.sun.jdi.event.StepEvent event) throws DebuggerException {
    setCurrentThread(event.thread());

    try {
      StackFrame jdiFrame = event.thread().frame(0);
      JdbLocation jdbLocation = new JdbLocation(jdiFrame);
      debuggerCallback.onEvent(new SuspendEventImpl(jdbLocation));
      return false;
    } catch (IncompatibleThreadStateException e) {
      invalidateCurrentThread();
      return true;
    }
  }

