  public void onLanguageServerInitialized(LanguageServerInitializedEvent event) {

    try {
      Map<String, String> preferences =
          requestFactory.fromUrl(apiUrl + "/preferences").useGetMethod().request().asProperties();

      Endpoint endpoint = ServiceEndpoints.toEndpoint(event.getLanguageServer());
      YamlSchemaAssociations serviceObject =
          ServiceEndpoints.toServiceObject(endpoint, YamlSchemaAssociations.class);
      Map<String, String[]> associations =
          jsonToSchemaAssociations(preferences.get("yaml.preferences"));
      serviceObject.yamlSchemaAssociation(associations);

    } catch (ApiException | IOException e) {
      LOG.error(e.getLocalizedMessage(), e);
    }
  }

