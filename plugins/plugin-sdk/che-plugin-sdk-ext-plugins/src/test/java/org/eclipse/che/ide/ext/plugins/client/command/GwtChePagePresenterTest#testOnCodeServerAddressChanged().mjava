    @Test
    public void testOnCodeServerAddressChanged() throws Exception {
        when(view.getCodeServerAddress()).thenReturn(CODE_SERVER_ADDRESS);

        final CommandPage.DirtyStateListener listener = mock(CommandPage.DirtyStateListener.class);
        presenter.setDirtyStateListener(listener);

        presenter.onCodeServerAddressChanged();

        verify(view).getCodeServerAddress();
        verify(command).setCommandLine(eq(COMMAND_LINE));
        verify(listener).onDirtyStateChanged();
    }

