    private void selectElement(Element element) {
        if (selectedElement != null) {
            selectedElement.removeAttribute("selected");
        }

        if (docPopup.isAttached()) {
            if (element != selectedElement) {
                element.dispatchEvent(createValidateEvent(DOCUMENTATION));
            }
        } else {
            showDocTimer.cancel();
            showDocTimer.schedule(1500);
        }

        selectedElement = element;
        selectedElement.setAttribute("selected", "true");

        if (selectedElement.getOffsetTop() < this.popupBodyElement.getScrollTop()) {
            selectedElement.scrollIntoView(true);
        } else if ((selectedElement.getOffsetTop() + selectedElement.getOffsetHeight()) >
                   (this.popupBodyElement.getScrollTop() + this.popupBodyElement.getClientHeight())) {
            selectedElement.scrollIntoView(false);
        }
    }

