    @Test
    public void testOnGwtModuleChanged() throws Exception {
        String gwtModule = "module";
        when(gwtCommandPageView.getGwtModule()).thenReturn(gwtModule);

        final CommandConfigurationPage.DirtyStateListener listener = mock(CommandConfigurationPage.DirtyStateListener.class);
        gwtCommandPagePresenter.setDirtyStateListener(listener);

        gwtCommandPagePresenter.onGwtModuleChanged();

        verify(gwtCommandPageView).getGwtModule();
        verify(configuration).setGwtModule(eq(gwtModule));
        verify(listener).onDirtyStateChanged();
    }

