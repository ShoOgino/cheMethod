    @Test(expectedExceptions = IOException.class, expectedExceptionsMessageRegExp = "Error response from docker API, status: 500, message: Error")
    public void shouldProduceAnErrorWhenPutsResourcesIntoContainer() throws IOException {
        String msg = "Error";
        when(dockerResponse.getStatus()).thenReturn(500);
        when(dockerResponse.getInputStream())
                .thenReturn(new ByteArrayInputStream(msg.getBytes()));
        InputStream source = new CloseConnectionInputStream(new ByteArrayInputStream(msg.getBytes()), dockerConnection);

        dockerConnector.putResource("id", "path", source, false);
    }

