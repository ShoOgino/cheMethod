  @Test
  public void shouldCallWaitContainerWithParametersObject() throws IOException {
    WaitContainerParams waitContainerParams = WaitContainerParams.create(CONTAINER);

    doReturn(CONTAINER_EXIT_CODE).when(dockerConnector).waitContainer(waitContainerParams);

    int returnedExitCode = dockerConnector.waitContainer(CONTAINER);

    verify(dockerConnector).waitContainer((WaitContainerParams) captor.capture());

    assertEquals(captor.getValue(), waitContainerParams);
    assertEquals(returnedExitCode, CONTAINER_EXIT_CODE);
  }

