    @Test
    public void shouldBeAbleToGetVersion() throws IOException, JsonParseException {
        Version version = mock(Version.class);

        doReturn(version).when(dockerConnector).parseResponseStreamAndClose(inputStream, Version.class);

        Version returnedVersion =
                dockerConnector.getVersion();

        verify(dockerConnectionFactory).openConnection(any(URI.class));
        verify(dockerConnection).method(REQUEST_METHOD_GET);
        verify(dockerConnection).path("/version");
        verify(dockerConnection).request();
        verify(dockerResponse).getStatus();
        verify(dockerResponse).getInputStream();

        assertEquals(returnedVersion, version);
    }

