  @Test
  public void
      shouldGetXRegistryAuthValueFromCustomConfigWhenDockerHubRegistryConfiguredWithAlias1() {
    AuthConfigs dockerHubAuthConfigs =
        modifyAuthConfigUrl(
            this.dockerHubAuthConfigs, DEFAULT_REGISTRY_URL, DEFAULT_REGISTRY_URL_ALIAS3);
    when(initialAuthConfig.getAuthConfigs()).thenReturn(emptyAuthConfigs);

    String base64HeaderValue =
        authResolver.getXRegistryAuthHeaderValue(DEFAULT_REGISTRY_URL_ALIAS1, dockerHubAuthConfigs);

    assertEqualsXRegistryAuthHeader(
        base64ToAuthConfig(base64HeaderValue),
        jsonToAuthConfig(DEFAULT_REGISTRY_X_REGISTRY_AUTH_VALUE));
  }

