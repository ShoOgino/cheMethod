    @Test
    public void registryShouldBeAvailable() throws ApiException, IOException {
        when(requestFactory.fromUrl("http://" + URL)).thenReturn(jsonRequest);
        when(jsonRequest.setTimeout(TIME_OUT)).thenReturn(jsonRequest);
        when(jsonRequest.request()).thenReturn(httpJsonResponse);
        DockerRegistryChecker dockerRegistryChecker = new DockerRegistryChecker(requestFactory, URL, true);

        dockerRegistryChecker.checkRegistryIsAvailable();

        verify(requestFactory).fromUrl(anyString());
        verify(jsonRequest).setTimeout(TIME_OUT);
        verify(jsonRequest).request();
        verify(httpJsonResponse).getResponseCode();
    }

