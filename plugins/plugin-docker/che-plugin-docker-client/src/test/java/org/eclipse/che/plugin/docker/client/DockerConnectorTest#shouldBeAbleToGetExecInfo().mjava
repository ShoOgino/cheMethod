  @Test
  public void shouldBeAbleToGetExecInfo() throws IOException, JsonParseException {
    GetExecInfoParams getExecInfoParams = GetExecInfoParams.create(EXEC_ID);

    ExecInfo execInfo = mock(ExecInfo.class);

    doReturn(execInfo)
        .when(dockerConnector)
        .parseResponseStreamAndClose(inputStream, ExecInfo.class);

    ExecInfo returnedExecInfo = dockerConnector.getExecInfo(getExecInfoParams);

    verify(dockerConnectionFactory).openConnection(any(URI.class));
    verify(dockerConnection).method(REQUEST_METHOD_GET);
    verify(dockerConnection).path("/exec/" + getExecInfoParams.getExecId() + "/json");
    verify(dockerConnection).request();
    verify(dockerResponse).getStatus();
    verify(dockerResponse).getInputStream();

    assertEquals(returnedExecInfo, execInfo);
  }

