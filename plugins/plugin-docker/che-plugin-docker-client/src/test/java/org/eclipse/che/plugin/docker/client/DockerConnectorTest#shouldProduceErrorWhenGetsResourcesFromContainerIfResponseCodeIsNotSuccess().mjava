    @Test(expectedExceptions = IOException.class, expectedExceptionsMessageRegExp = EXCEPTION_ERROR_MESSAGE)
    public void shouldProduceErrorWhenGetsResourcesFromContainerIfResponseCodeIsNotSuccess() throws IOException {
        GetResourceParams getResourceParams = GetResourceParams.from(CONTAINER, PATH_TO_FILE);

        when(dockerResponse.getStatus()).thenReturn(RESPONSE_ERROR_CODE);
        when(dockerResponse.getInputStream())
                .thenReturn(new CloseConnectionInputStream(new ByteArrayInputStream(ERROR_MESSAGE.getBytes()), dockerConnection));

        dockerConnector.getResource(getResourceParams);

        verify(dockerResponse).getStatus();
        verify(dockerConnector).getDockerException(dockerResponse);
    }

