  @Test
  public void shouldInvokeGetListImagesWithDefaultParamsWhenGetListImagesCalledWithoutParams()
      throws IOException, JsonParseException {
    List<Image> images = new ArrayList<>();
    images.add(mock(Image.class));

    doReturn(images)
        .when(dockerConnector)
        .parseResponseStreamAndClose(eq(inputStream), Matchers.<TypeToken<List<Image>>>any());

    List<Image> returnedImages = dockerConnector.listImages();

    verify(dockerConnector).listImages((ListImagesParams) captor.capture());

    assertEquals(captor.getValue(), ListImagesParams.create());
    assertEquals(returnedImages, images);
  }

