    @Test(expectedExceptions = IOException.class, expectedExceptionsMessageRegExp = "Error response from docker API, status: 500, message: Error")
    public void shouldProduceAnErrorWhenGetsResourcesFromContainer() throws IOException {
        String msg = "Error";
        when(dockerResponse.getStatus()).thenReturn(500);
        when(dockerResponse.getInputStream())
                .thenReturn(new CloseConnectionInputStream(new ByteArrayInputStream(msg.getBytes()), dockerConnection));

        dockerConnector.getResource("id", "path");
    }

