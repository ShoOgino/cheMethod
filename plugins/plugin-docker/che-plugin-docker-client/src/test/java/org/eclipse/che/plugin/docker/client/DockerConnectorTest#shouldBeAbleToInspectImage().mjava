    @Test
    public void shouldBeAbleToInspectImage() throws IOException, JsonParseException {
        InspectImageParams inspectImageParams = InspectImageParams.from(IMAGE);

        ImageInfo imageInfo = mock(ImageInfo.class);

        doReturn(imageInfo).when(dockerConnector).parseResponseStreamAndClose(inputStream, ImageInfo.class);

        ImageInfo returnedImageInfo =
                dockerConnector.inspectImage(inspectImageParams);

        verify(dockerConnectionFactory).openConnection(any(URI.class));
        verify(dockerConnection).method(REQUEST_METHOD_GET);
        verify(dockerConnection).path("/images/" + inspectImageParams.getImage() + "/json");
        verify(dockerConnection).request();
        verify(dockerResponse).getStatus();
        verify(dockerResponse).getInputStream();

        assertEquals(returnedImageInfo, imageInfo);
    }

