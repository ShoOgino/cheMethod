    /**
     * Check that on Linux, if we have a bridge named docker0, we should use that bridge
     */
    @Test
    public void testLinuxDefaultDockerHostWithBrige() throws Exception {
        Map<String, String> env = new HashMap<>();
        String myCustomIpAddress = "123.231.133.10";
        InetAddress inetAddress = Mockito.mock(InetAddress.class);
        doReturn(myCustomIpAddress).when(inetAddress).getHostAddress();
        NetworkFinder networkFinder = Mockito.mock(NetworkFinder.class);
        doReturn(Optional.of(inetAddress)).when(networkFinder).getIPAddress(BRIDGE_LINUX_INTERFACE_NAME);
        DockerConnectorConfiguration dockerConnectorConfiguration = new DockerConnectorConfiguration(null, null, null, networkFinder);

        String ip = dockerConnectorConfiguration.getDockerHostIp(true, env);
        assertEquals(ip, myCustomIpAddress);
        verify(networkFinder).getIPAddress(BRIDGE_LINUX_INTERFACE_NAME);
    }

