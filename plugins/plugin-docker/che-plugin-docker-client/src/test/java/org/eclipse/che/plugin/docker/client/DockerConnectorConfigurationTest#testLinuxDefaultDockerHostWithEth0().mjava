    /**
     * Check if Che server IP from container is eth0 default IP when bridge docker0 is not defined
     */
    @Test
    public void testLinuxDefaultDockerHostWithEth0() throws Exception {
        Map<String, String> env = new HashMap<>();
        String eth0IpAddress = "172.17.0.2";
        InetAddress eth0InetAddress = Mockito.mock(InetAddress.class);
        doReturn(eth0IpAddress).when(eth0InetAddress).getHostAddress();
        NetworkFinder networkFinder = Mockito.mock(NetworkFinder.class);
        doReturn(Optional.empty()).when(networkFinder).getIPAddress(BRIDGE_LINUX_INTERFACE_NAME);
        doReturn(Optional.of(eth0InetAddress)).when(networkFinder).getIPAddress(DEFAULT_LINUX_INTERFACE_NAME);
        DockerConnectorConfiguration dockerConnectorConfiguration = new DockerConnectorConfiguration(null, null, null, networkFinder);

        String ip = dockerConnectorConfiguration.getDockerHostIp(true, env);
        assertEquals(ip, eth0IpAddress);
        verify(networkFinder).getIPAddress(BRIDGE_LINUX_INTERFACE_NAME);
        verify(networkFinder).getIPAddress(DEFAULT_LINUX_INTERFACE_NAME);
    }

