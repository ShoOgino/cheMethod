    @VisibleForTesting
    @SuppressWarnings("unchecked")
    <T> List<T> parseResponseStreamAsListAndClose(InputStream inputStream) throws IOException, JsonParseException {
        try (InputStream responseStream = inputStream) {
            return (List<T>)JsonHelper.fromJson(responseStream,
                                                List.class,
                                                new TypeToken<List<T>>() {}.getType(),
                                                FIRST_LETTER_LOWERCASE);
        }
    }

