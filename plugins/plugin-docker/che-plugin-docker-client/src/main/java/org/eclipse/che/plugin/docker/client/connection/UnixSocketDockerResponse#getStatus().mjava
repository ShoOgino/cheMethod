    @Override
    public int getStatus() throws IOException {
        if (status != -1) {
            return status;
        }
        getInputStream();
        final String statusLine = headersFields[0];
        if (statusLine.startsWith("HTTP/1.")) {
            int startCode = statusLine.indexOf(' ');
            if (startCode > 0) {
                int endCode = statusLine.indexOf(' ', startCode + 1);
                if (endCode < 0) {
                    endCode = statusLine.length();
                }

                try {
                    return status = Integer.parseInt(statusLine.substring(startCode + 1, endCode));
                } catch (NumberFormatException ignored) {
                }
            }
        }
        return -1;
    }

