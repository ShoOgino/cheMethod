  /**
   * Disconnects container from docker network
   *
   * @throws IOException when problems occurs with docker api calls
   */
  public void disconnectContainerFromNetwork(DisconnectContainerFromNetworkParams params)
      throws IOException {
    byte[] entityBytesArray =
        toJson(params.getDisconnectContainer()).getBytes(StandardCharsets.UTF_8);

    try (DockerConnection connection =
        connectionFactory
            .openConnection(dockerDaemonUri)
            .method("POST")
            .path(apiVersionPathPrefix + "/networks/" + params.getNetworkId() + "/disconnect")
            .header("Content-Type", MediaType.APPLICATION_JSON)
            .header("Content-Length", entityBytesArray.length)
            .entity(entityBytesArray)) {
      final DockerResponse response = connection.request();
      if (response.getStatus() / 100 != 2) {
        throw getDockerException(response);
      }
    }
  }

