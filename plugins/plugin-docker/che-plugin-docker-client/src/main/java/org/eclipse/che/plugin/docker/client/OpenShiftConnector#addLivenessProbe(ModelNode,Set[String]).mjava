    /**
     * Adds OpenShift liveness probe to the container. Liveness probe is configured
     * via TCP Socket Check - for dev machines by checking Workspace API agent port
     * (4401), for non-dev by checking Terminal port (4411)
     *
     * @param container
     * @param exposedPorts
     * @see <a href=
     *      "https://docs.openshift.com/enterprise/3.0/dev_guide/application_health.html">OpenShift
     *      Application Health</a>
     *
     */
    private void addLivenessProbe(final ModelNode container, final Set<String> exposedPorts) {
        int port = 0;

        if (isDevMachine(exposedPorts)) {
            port = CHE_WORKSPACE_AGENT_PORT;
        } else if (isTerminalAgentInjected(exposedPorts)) {
            port = CHE_TERMINAL_AGENT_PORT;
        }

        if (port != 0) {
            container.get("livenessProbe").get("tcpSocket").get("port").set(port);
            container.get("livenessProbe").get("initialDelaySeconds").set(OPENSHIFT_LIVENESS_PROBE_DELAY);
            container.get("livenessProbe").get("timeoutSeconds").set(OPENSHIFT_LIVENESS_PROBE_TIMEOUT);
        }
    }

