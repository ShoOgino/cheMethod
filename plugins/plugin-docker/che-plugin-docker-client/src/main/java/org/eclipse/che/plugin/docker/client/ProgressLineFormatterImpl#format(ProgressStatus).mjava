  @Override
  public String format(ProgressStatus progressStatus) {
    final StringBuilder sb = new StringBuilder();
    sb.append("[DOCKER] ");
    final String stream = progressStatus.getStream();
    final String status = progressStatus.getStatus();
    final String error = progressStatus.getError();
    if (error != null) {
      sb.append("[ERROR] ");
      sb.append(error);
    } else if (stream != null) {
      sb.append(stream.trim());
    } else if (status != null) {
      final String id = progressStatus.getId();
      if (id != null) {
        sb.append(id);
        sb.append(':');
        sb.append(' ');
      }
      sb.append(status);
      sb.append(' ');
      sb.append(parseProgressText(progressStatus));
    }
    return sb.toString();
  }

