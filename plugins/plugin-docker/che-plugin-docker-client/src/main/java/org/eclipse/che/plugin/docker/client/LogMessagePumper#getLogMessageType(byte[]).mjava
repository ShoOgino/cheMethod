    private LogMessage.Type getLogMessageType(byte[] header) {
        switch (header[0]) {
            case 0:
                return LogMessage.Type.STDIN;
            case 1:
                return LogMessage.Type.STDOUT;
            case 2:
                return LogMessage.Type.STDERR;
            default:
                throw new IllegalArgumentException(String.format("Invalid docker stream type %d", header[0]));
        }
    }

