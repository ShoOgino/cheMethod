    /**
     * @param protocolForInternalUrl
     * @return https, if {@link #useHttpsForExternalUrls()} method in sub-class returns true and protocol for internal Url is http
     */
    private String getProtocolForExternalUrl(final String protocolForInternalUrl) {
        if (useHttpsForExternalUrls() && HTTP.equals(protocolForInternalUrl)) {
            return HTTPS;
        }
        return protocolForInternalUrl;
    }

