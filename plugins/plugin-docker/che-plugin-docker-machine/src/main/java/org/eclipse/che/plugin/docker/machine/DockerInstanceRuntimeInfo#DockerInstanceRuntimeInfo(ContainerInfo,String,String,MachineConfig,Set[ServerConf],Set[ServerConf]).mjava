    @Inject
    public DockerInstanceRuntimeInfo(@Assisted ContainerInfo containerInfo,
                                     @Assisted("externalhost") @Nullable String containerExternalHostname,
                                     @Assisted("internalhost") String containerInternalHostname,
                                     @Assisted MachineConfig machineConfig,
                                     @Named("machine.docker.dev_machine.machine_servers") Set<ServerConf> devMachineSystemServers,
                                     @Named("machine.docker.machine_servers") Set<ServerConf> allMachinesSystemServers) {
        this.info = containerInfo;
        this.containerExternalHostname = containerExternalHostname == null ?
                                                    containerInternalHostname : containerExternalHostname;
        this.containerInternalHostname = containerInternalHostname;
        Stream<ServerConf> confStream = Stream.concat(machineConfig.getServers().stream(), allMachinesSystemServers.stream());
        if (machineConfig.isDev()) {
            confStream = Stream.concat(confStream, devMachineSystemServers.stream());
        }
        // convert list to map for quick search and normalize port - add /tcp if missing
        this.serversConf = confStream.collect(toMap(srvConf -> srvConf.getPort().contains("/") ?
                                                               srvConf.getPort() :
                                                               srvConf.getPort() + "/tcp",
                                                    ServerConfImpl::new));
    }

