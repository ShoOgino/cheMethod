    @Override
    public Object invoke(MethodInvocation methodInvocation) throws Throwable {
        // If force pull of base image is not disabled ensure that image build won't fail if needed layers are cached
        // but update of them fails due to network outage.
        // To do that do pull here if needed and make DockerInstanceProvider to not do force pull itself.
        if (doForcePullOnBuild) {
            MachineConfig machineConfig = (MachineConfig)methodInvocation.getArguments()[0];
            ProgressMonitor progressMonitor = (ProgressMonitor)methodInvocation.getArguments()[3];

            try {
                pullImage(machineConfig, progressMonitor);
            } catch (IOException | DockerFileException ignored) {
            }
        }

        // set force pulling flag to false
        methodInvocation.getArguments()[2] = Boolean.FALSE;
        return methodInvocation.proceed();
    }

