  /**
   * Test: If che.docker.ip.external is not null and che.docker.ip is null, internal address is
   * taken from provided internalAddress and external address is taken from property.
   *
   * @throws Exception
   */
  @Test
  public void defaultStrategyShouldUseProvidedInternalIpIfInternalIpPropertyIsNull()
      throws Exception {
    // given
    strategy = new DefaultServerEvaluationStrategy(null, CHE_DOCKER_IP_EXTERNAL);

    final Map<String, ServerImpl> expectedServers =
        getExpectedServers(CHE_DOCKER_IP_EXTERNAL, DEFAULT_HOSTNAME);

    // when
    final Map<String, ServerImpl> servers =
        strategy.getServers(containerInfo, DEFAULT_HOSTNAME, serverConfs);

    // then
    assertEquals(servers, expectedServers);
  }

