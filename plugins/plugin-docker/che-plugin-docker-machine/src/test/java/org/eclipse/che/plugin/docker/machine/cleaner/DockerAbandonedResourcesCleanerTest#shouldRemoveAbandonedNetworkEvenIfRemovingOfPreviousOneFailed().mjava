    @Test
    public void shouldRemoveAbandonedNetworkEvenIfRemovingOfPreviousOneFailed() throws IOException {
        // given
        doThrow(new IOException("Failed to remove docker network")).when(dockerConnector).removeNetwork(usedNetworkId);

        networks.add(abandonedNetwork);
        networks.add(usedNetwork);

        // when
        cleaner.cleanNetworks();

        // then
        verify(dockerConnector).removeNetwork(abandonedNetworkId);
        verify(dockerConnector).removeNetwork(usedNetworkId);
    }

