    /**
     * Test: single port strategy should use .
     * @throws Exception
     */
    @Test
    public void shouldUseServerRefToBuildAddressWhenAvailable() throws Exception {
        // given
        strategy = new LocalDockerCustomServerEvaluationStrategy(null, null, CHE_DOCKER_SERVER_EVALUATION_STRATEGY_CUSTOM_TEMPLATE, "http", null).withThrowOnUnknownHost(false);

        final Map<String, ServerImpl> expectedServers = getExpectedServers(CHE_DOCKER_IP_EXTERNAL,
                                                                           CONTAINERCONFIG_HOSTNAME,
                                                                           true);

        // when
        final Map<String, ServerImpl> servers = strategy.getServers(containerInfo,
                                                                    CHE_DOCKER_IP_EXTERNAL,
                                                                    serverConfs);

        // then
        assertEquals(servers, expectedServers);
    }

