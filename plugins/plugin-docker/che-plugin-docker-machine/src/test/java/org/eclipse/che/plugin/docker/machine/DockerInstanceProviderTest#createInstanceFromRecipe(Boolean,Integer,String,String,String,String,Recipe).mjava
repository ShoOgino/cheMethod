    private void createInstanceFromRecipe(Boolean isDev,
                                          Integer memorySizeInMB,
                                          String machineId,
                                          String userId,
                                          String workspaceId,
                                          String displayName,
                                          Recipe recipe) throws Exception {

        createInstanceFromRecipe(isDev == null ? false : isDev,
                                 memorySizeInMB == null ? MEMORY_LIMIT_MB : memorySizeInMB,
                                 machineId == null ? "machineId" : machineId,
                                 userId == null ? "userId" : userId,
                                 workspaceId == null ? WORKSPACE_ID : workspaceId,
                                 displayName == null ? DISPLAY_NAME : displayName,
                                 recipe == null ? new RecipeImpl().withType("Dockerfile")
                                                                  .withScript("FROM busybox") : recipe,
                                 "machineType",
                                 new MachineSourceImpl("source type", "source location"),
                                 MachineStatus.CREATING);
    }

