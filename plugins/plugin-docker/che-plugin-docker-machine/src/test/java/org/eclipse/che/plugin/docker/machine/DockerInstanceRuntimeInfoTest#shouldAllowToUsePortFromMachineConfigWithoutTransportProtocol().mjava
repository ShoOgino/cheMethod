    @Test
    public void shouldAllowToUsePortFromMachineConfigWithoutTransportProtocol() throws Exception {
        // given
        Map<String, List<PortBinding>> ports = new HashMap<>();
        when(networkSettings.getPorts()).thenReturn(ports);
        List<ServerConfImpl> serversConfigs = new ArrayList<>();
        doReturn(serversConfigs).when(machineConfig).getServers();
        ports.put("8080/tcp", Collections.singletonList(new PortBinding().withHostIp(ALL_IP_ADDRESS )
                                                                         .withHostPort("32100")));
        ports.put("8080/udp", Collections.singletonList(new PortBinding().withHostIp(ALL_IP_ADDRESS )
                                                                         .withHostPort("32102")));
        serversConfigs.add(new ServerConfImpl("myserv1", "8080", "http", "/some"));
        serversConfigs.add(new ServerConfImpl("myserv1-tftp", "8080/udp", "tftp", "path"));
        runtimeInfo = new DockerInstanceRuntimeInfo(containerInfo,
                                                    machineConfig,
                                                    DEFAULT_HOSTNAME,
                                                    provider,
                                                    Collections.emptySet(),
                                                    Collections.emptySet());
        final HashMap<String, ServerImpl> expectedServers = new HashMap<>();
        expectedServers.put("8080/tcp", new ServerImpl("myserv1",
                                                       "http",
                                                       CONTAINERINFO_GATEWAY + ":32100",
                                                       "http://" + CONTAINERINFO_GATEWAY + ":32100/some",
                                                       new ServerPropertiesImpl("/some",
                                                               CONTAINERINFO_GATEWAY + ":32100",
                                                               "http://" + CONTAINERINFO_GATEWAY + ":32100/some")));
        expectedServers.put("8080/udp", new ServerImpl("myserv1-tftp",
                                                       "tftp",
                                                       CONTAINERINFO_GATEWAY  + ":32102",
                                                       "tftp://" + CONTAINERINFO_GATEWAY  + ":32102/path",
                                                       new ServerPropertiesImpl("path",
                                                               CONTAINERINFO_GATEWAY  + ":32102",
                                                               "tftp://" + CONTAINERINFO_GATEWAY  + ":32102/path")));

        // when
        final Map<String, ServerImpl> servers = runtimeInfo.getServers();

        // then
        assertEquals(servers, expectedServers);
    }

