    @Test
    public void shouldAddDefaultReferenceIfReferenceIsNotSet() throws Exception {
        // given
        Map<String, List<PortBinding>> ports = new HashMap<>();
        when(networkSettings.getPorts()).thenReturn(ports);
        ports.put("8080/tcp", Collections.singletonList(new PortBinding().withHostIp(ALL_IP_ADDRESS )
                                                                         .withHostPort("32100")));
        ports.put("100100/udp", Collections.singletonList(new PortBinding().withHostIp(ALL_IP_ADDRESS )
                                                                           .withHostPort("32101")));
        ports.put("8080/udp", Collections.singletonList(new PortBinding().withHostIp(ALL_IP_ADDRESS )
                                                                         .withHostPort("32102")));
        final HashMap<String, ServerImpl> expectedServers = new HashMap<>();
        expectedServers.put("8080/tcp", new ServerImpl("Server-8080-tcp",
                                                       null,
                                                       CONTAINERINFO_GATEWAY + ":32100",
                                                       null,
                                                       new ServerPropertiesImpl(null, CONTAINERINFO_GATEWAY + ":32100", null)));
        expectedServers.put("100100/udp", new ServerImpl("Server-100100-udp",
                                                         null,
                                                         CONTAINERINFO_GATEWAY + ":32101",
                                                         null,
                                                         new ServerPropertiesImpl(null, CONTAINERINFO_GATEWAY + ":32101", null)));
        expectedServers.put("8080/udp", new ServerImpl("Server-8080-udp",
                                                       null,
                                                       CONTAINERINFO_GATEWAY + ":32102",
                                                       null,
                                                       new ServerPropertiesImpl(null, CONTAINERINFO_GATEWAY + ":32102", null)));

        // when
        final Map<String, ServerImpl> servers = runtimeInfo.getServers();

        // then
        assertEquals(servers, expectedServers);
    }

