    /**
     * Check offline mode with external ip
     */
    @Test
    public void testOfflineExternal() throws Throwable {
        Set<String> exposedPorts = new HashSet<>();
        exposedPorts.add("22/tcp");
        exposedPorts.add("4401/tcp");
        exposedPorts.add("4411/tcp");
        exposedPorts.add("8080/tcp");
        List<String> env = Arrays.asList(WORKSPACE_ID_PROPERTY, MACHINE_NAME_PROPERTY);
        this.customServerEvaluationStrategy =
                new CustomServerEvaluationStrategy("127.0.0.1", "127.0.0.1", "<externalAddress>-<workspaceId>", "https", "8080");
        CustomServerEvaluationStrategy.RenderingEvaluation renderingEvaluation = this.customServerEvaluationStrategy
                .getOfflineRenderingEvaluation(containerLabels, exposedPorts, env.stream().toArray(String[]::new));
        String eval = renderingEvaluation.render("<workspaceId>", "4401/tcp");
        Assert.assertEquals(eval, WORKSPACE_ID_VALUE);
    }

