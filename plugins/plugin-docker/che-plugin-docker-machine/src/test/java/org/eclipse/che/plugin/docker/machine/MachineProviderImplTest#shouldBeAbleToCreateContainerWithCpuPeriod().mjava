  @Test
  public void shouldBeAbleToCreateContainerWithCpuPeriod() throws Exception {
    provider = new MachineProviderBuilder().setCpuPeriod(200).build();

    createInstanceFromRecipe();

    ArgumentCaptor<CreateContainerParams> argumentCaptor =
        ArgumentCaptor.forClass(CreateContainerParams.class);
    verify(dockerConnector).createContainer(argumentCaptor.capture());
    assertEquals(
        ((long) argumentCaptor.getValue().getContainerConfig().getHostConfig().getCpuPeriod()),
        200);
  }

