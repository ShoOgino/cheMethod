    @Test(expectedExceptions = ServerException.class)
    public void shouldRemoveContainerInCaseFailedStartContainer() throws Exception {
        doThrow(IOException.class).when(dockerConnector).startContainer(StartContainerParams.create(CONTAINER_ID));

        createInstanceFromRecipe(false, WORKSPACE_ID);

        verify(dockerConnector)
                .removeContainer(RemoveContainerParams.create(CONTAINER_ID).withRemoveVolumes(true).withForce(true));
    }

