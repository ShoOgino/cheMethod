  /**
   * Test: If che.docker.ip.external and che.docker.ip are not null, these values should take
   * precedence for external and internal addresses.
   *
   * @throws Exception
   */
  @Test
  public void defaultStrategyShouldUseIpPropertiesWhenAvailable() throws Exception {
    // given
    strategy = new DefaultServerEvaluationStrategy(CHE_DOCKER_IP, CHE_DOCKER_IP_EXTERNAL);

    final Map<String, ServerImpl> expectedServers =
        getExpectedServers(CHE_DOCKER_IP_EXTERNAL, CHE_DOCKER_IP);

    // when
    final Map<String, ServerImpl> servers =
        strategy.getServers(containerInfo, DEFAULT_HOSTNAME, serverConfs);

    // then
    assertEquals(servers, expectedServers);
  }

