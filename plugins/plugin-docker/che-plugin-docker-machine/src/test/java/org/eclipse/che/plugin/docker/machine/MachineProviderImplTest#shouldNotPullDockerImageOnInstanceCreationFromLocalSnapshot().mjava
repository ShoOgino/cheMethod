  @Test
  public void shouldNotPullDockerImageOnInstanceCreationFromLocalSnapshot() throws Exception {
    String repo = MACHINE_SNAPSHOT_PREFIX + "repo";
    String tag = "latest";
    String registry = "localhost:1234";
    provider = new MachineProviderBuilder().setSnapshotUseRegistry(false).build();

    createInstanceFromSnapshot(repo, tag, registry);

    verify(dockerConnector, never())
        .pull(eq(PullParams.create(repo).withTag(tag)), any(ProgressMonitor.class));
  }

