  @Test
  public void shouldBeAbleToCreateContainerWithCpuQuota() throws Exception {
    // given
    provider = new MachineProviderBuilder().setCpuQuota(200).build();

    // when
    createInstanceFromRecipe();

    // then
    ArgumentCaptor<CreateContainerParams> argumentCaptor =
        ArgumentCaptor.forClass(CreateContainerParams.class);
    verify(dockerConnector).createContainer(argumentCaptor.capture());
    assertEquals(
        ((long) argumentCaptor.getValue().getContainerConfig().getHostConfig().getCpuQuota()), 200);
  }

