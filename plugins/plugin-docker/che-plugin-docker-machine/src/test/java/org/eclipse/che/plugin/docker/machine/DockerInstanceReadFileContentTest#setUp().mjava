    @BeforeMethod
    public void setUp() throws IOException {

        dockerInstance = spy(new DockerInstance(dockerConnector,
                                                null,
                                                null,
                                                new MachineStateImpl(false,
                                                                     "Display name",
                                                                     "machineType",
                                                                     new MachineSourceImpl("type", "location"),
                                                                     new LimitsImpl(64),
                                                                     "machineId",
                                                                     new ChannelsImpl("chan1", "chan2"),
                                                                     "workspaceId",
                                                                     "userId",
                                                                     "envName",
                                                                     MachineStatus.CREATING),
                                                null,
                                                null,
                                                null,
                                                null,
                                                dockerInstanceStopDetector,
                                                mock(DockerInstanceProcessesCleaner.class)));
    }

