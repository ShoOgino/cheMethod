    @Test
    public void shouldPullLatestIfNoTagFoundInDockerfile() throws Throwable {
        final Object[] arguments = {dockerfile, lineConsumer, "string", Boolean.TRUE, 0L, 0L};
        when(methodInvocation.getArguments()).thenReturn(arguments);
        when(dockerfile.getImages()).thenReturn(Collections.singletonList(dockerImage));
        final String repo = "my_repo/my_image";
        when(dockerImage.getFrom()).thenReturn(repo);


        interceptor.invoke(methodInvocation);


        assertFalse((Boolean)arguments[3]);
        verify(methodInvocation).proceed();
        verify(dockerfile).getImages();
        verify(dockerConnector).pull(eq(repo), eq("latest"), eq(null), any(ProgressMonitor.class));
    }

