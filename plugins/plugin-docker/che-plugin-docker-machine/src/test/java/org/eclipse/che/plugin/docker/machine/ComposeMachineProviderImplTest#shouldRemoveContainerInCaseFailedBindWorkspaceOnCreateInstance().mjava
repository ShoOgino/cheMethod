    @Test(expectedExceptions = ServerException.class)
    public void shouldRemoveContainerInCaseFailedBindWorkspaceOnCreateInstance() throws Exception {
        doThrow(ServerException.class).when(dockerNode).bindWorkspace();
        final boolean isDev = true;
        final String hostProjectsFolder = "/tmp/projects";
        when(dockerNode.getProjectsFolder()).thenReturn(hostProjectsFolder);

        createInstanceFromRecipe(isDev, WORKSPACE_ID);

        verify(dockerConnector)
                .removeContainer(RemoveContainerParams.create(CONTAINER_ID).withRemoveVolumes(true).withForce(true));
    }

