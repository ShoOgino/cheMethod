    @Test
    public void shouldPullDockerImageIfForcePullIsEnabled() throws Throwable {
        final Object[] arguments = {dockerfile, lineConsumer, "string", Boolean.TRUE};
        when(methodInvocation.getArguments()).thenReturn(arguments);
        when(dockerfile.getImages()).thenReturn(Collections.singletonList(dockerImage));
        final String tag = "latest";
        final String repo = "my_repo/my_image";
        when(dockerImage.getFrom()).thenReturn(repo + ":" + tag);


        interceptor.invoke(methodInvocation);


        assertFalse((Boolean)arguments[3]);
        verify(methodInvocation).proceed();
        verify(dockerfile).getImages();
        verify(dockerConnector).pull(eq(repo), eq(tag), eq(null), any(ProgressMonitor.class));
    }

