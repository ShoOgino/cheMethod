  @Test
  public void shouldAddDefaultReferenceIfReferenceIsNotSet() throws Exception {
    // given
    prepareStrategyAndContainerInfoMocks();

    final HashMap<String, ServerImpl> expectedServers = new HashMap<>();
    expectedServers.put(
        "8080/tcp",
        new ServerImpl(
            "Server-8080-tcp",
            null,
            DEFAULT_HOSTNAME + ":32100",
            null,
            new ServerPropertiesImpl(null, DEFAULT_HOSTNAME + ":32100", null)));
    expectedServers.put(
        "9090/udp",
        new ServerImpl(
            "Server-9090-udp",
            null,
            DEFAULT_HOSTNAME + ":32101",
            null,
            new ServerPropertiesImpl(null, DEFAULT_HOSTNAME + ":32101", null)));
    // when
    final Map<String, ServerImpl> servers =
        strategy.getServers(containerInfo, DEFAULT_HOSTNAME, serverConfs);

    // then
    assertEquals(servers, expectedServers);
  }

