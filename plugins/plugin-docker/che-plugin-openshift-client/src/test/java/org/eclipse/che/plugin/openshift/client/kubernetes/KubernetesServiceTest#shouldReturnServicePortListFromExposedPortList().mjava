  @Test
  public void shouldReturnServicePortListFromExposedPortList() {
    // Given
    Map<String, Map<String, String>> exposedPorts = new HashMap<>();
    exposedPorts.put("8080/TCP", null);
    exposedPorts.put("22/TCP", null);
    exposedPorts.put("4401/TCP", null);
    exposedPorts.put("4403/TCP", null);
    Map<String, String> portsToRefName = new HashMap<>();
    portsToRefName.put("8080/tcp", "tomcat");

    // When
    List<ServicePort> servicePorts =
        KubernetesService.getServicePortsFrom(exposedPorts.keySet(), portsToRefName);

    // Then
    List<String> portsAndProtocols =
        servicePorts
            .stream()
            .map(p -> Integer.toString(p.getPort()) + "/" + p.getProtocol())
            .collect(Collectors.toList());
    assertTrue(exposedPorts.keySet().stream().allMatch(portsAndProtocols::contains));
  }

