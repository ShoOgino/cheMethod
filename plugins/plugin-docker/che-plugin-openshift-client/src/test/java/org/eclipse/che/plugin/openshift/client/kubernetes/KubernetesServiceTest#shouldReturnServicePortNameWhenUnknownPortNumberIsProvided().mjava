  @Test
  public void shouldReturnServicePortNameWhenUnknownPortNumberIsProvided() {
    // Given
    Map<String, Map<String, String>> exposedPorts = new HashMap<>();
    exposedPorts.put("55/tcp", null);
    Map<String, String> portsToRefName = new HashMap<>();
    portsToRefName.put("8080/tcp", "tomcat");

    Set<String> expectedPortNames = new HashSet<>();
    expectedPortNames.add("server-55-tcp");

    // When
    List<ServicePort> servicePorts =
        KubernetesService.getServicePortsFrom(exposedPorts.keySet(), portsToRefName);
    List<String> actualPortNames =
        servicePorts.stream().map(p -> p.getName()).collect(Collectors.toList());

    // Then
    assertTrue(actualPortNames.stream().allMatch(expectedPortNames::contains));
  }

