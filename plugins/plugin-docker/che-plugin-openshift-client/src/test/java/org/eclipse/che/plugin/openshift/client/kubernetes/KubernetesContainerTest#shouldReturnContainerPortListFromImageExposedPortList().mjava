  @Test
  public void shouldReturnContainerPortListFromImageExposedPortList() {
    // Given
    Map<String, ExposedPort> imageExposedPorts = new HashMap<>();
    imageExposedPorts.put("8080/tcp", new ExposedPort());
    Map<String, String> portsToRefName = new HashMap<>();
    portsToRefName.put("8080/tcp", "tomcat");

    // When
    List<ContainerPort> containerPorts =
        KubernetesContainer.getContainerPortsFrom(imageExposedPorts.keySet(), portsToRefName);

    // Then
    List<String> portsAndProtocols =
        containerPorts
            .stream()
            .map(p -> Integer.toString(p.getContainerPort()) + "/" + p.getProtocol().toLowerCase())
            .collect(Collectors.toList());
    assertTrue(imageExposedPorts.keySet().stream().allMatch(portsAndProtocols::contains));
  }

