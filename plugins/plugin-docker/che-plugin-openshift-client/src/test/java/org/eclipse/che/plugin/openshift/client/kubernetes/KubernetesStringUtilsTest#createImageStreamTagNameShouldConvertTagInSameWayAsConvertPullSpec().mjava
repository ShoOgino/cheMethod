  @Test
  public void createImageStreamTagNameShouldConvertTagInSameWayAsConvertPullSpec() {
    // Given
    String inputOldRepo = "eclipse/ubuntu_jdk8";
    String inputNewRepo = "eclipse-che/che-workspace_" + RandomStringUtils.random(20);
    String expectedTagName = KubernetesStringUtils.convertPullSpecToTagName(inputNewRepo);

    // When
    String rawOutput = KubernetesStringUtils.createImageStreamTagName(inputOldRepo, inputNewRepo);

    // Then
    assertTrue(rawOutput.contains(":"), "ImageStreamTag name is invalid: must contain ':'");
    String outputImageStreamName = rawOutput.split(":")[1];
    assertEquals(
        outputImageStreamName,
        expectedTagName,
        "ImageStream Tag should match output of convertPullSpecToTagName");
  }

