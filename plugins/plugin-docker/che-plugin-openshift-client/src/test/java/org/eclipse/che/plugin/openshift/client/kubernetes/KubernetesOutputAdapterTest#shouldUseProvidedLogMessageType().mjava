    @Test
    public void shouldUseProvidedLogMessageType() {
        for (LogMessage.Type type : LogMessage.Type.values()) {
            // Given
            byte[] input = "line1\n".getBytes();
            LogMessage.Type expected = type;
            processor = new testMessageProcessor();
            adapter = new KubernetesOutputAdapter(type, processor);

            // When
            adapter.call(input);

            // Then
            LogMessage.Type actual = processor.getType();
            assertEquals(actual, expected, "Should call MessageProcessor with provided type");
        }
    }

