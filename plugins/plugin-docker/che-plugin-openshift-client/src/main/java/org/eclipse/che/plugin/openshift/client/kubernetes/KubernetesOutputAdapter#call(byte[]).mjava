  @Override
  public void call(byte[] data) {
    if (data == null || data.length == 0 || execOutputProcessor == null) {
      return;
    }
    int start = 0;
    int offset = 0;

    for (int pos = 0; pos < data.length; pos++) {
      if (data[pos] == '\n' || data[pos] == '\r') {
        offset = pos - start;
        String line = new String(data, start, offset);
        lineBuffer.append(line);
        execOutputProcessor.process(new LogMessage(type, lineBuffer.toString()));
        lineBuffer.setLength(0);
        if (data[pos] == '\r') {
          pos += 1;
        }
        start = pos + 1;
      }
    }
    String trailingChars = new String(data, start, data.length - start);
    lineBuffer.append(trailingChars);
  }

