  /**
   * Gets the API endpoint URL to be used if the `che.workspace.che_server_endpoint` property is
   * null.
   *
   * @return .
   * @throws IOException when a problem occurs with docker api calls
   */
  @Override
  @Nullable
  public String getApiEndpoint() {
    synchronized (apiEndpointRetrieved) {
      if (!apiEndpointRetrieved) {
        apiEndpointRetrieved = true;
        apiEndpoint = retrieveApiEndpoint();
        LOG.debug("apiEndpoint = {}", apiEndpoint);
      }
    }

    return apiEndpoint;
  }

