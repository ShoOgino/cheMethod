  public static Service getServiceBySelector(
      final String selectorKey,
      final String selectorValue,
      final String namespace,
      final Config config,
      final OpenShiftClientFactory ocFactory) {
    DefaultKubernetesClient kubeClient = ocFactory.newKubeClient(config);
    ServiceList svcs = kubeClient.services().inNamespace(namespace).list();

    Service svc =
        svcs.getItems()
            .stream()
            .filter(s -> s.getSpec().getSelector().containsKey(selectorKey))
            .filter(s -> s.getSpec().getSelector().get(selectorKey).equals(selectorValue))
            .findAny()
            .orElse(null);

    if (svc == null) {
      LOG.warn("No Service with selector {}={} could be found", selectorKey, selectorValue);
    }
    return svc;
  }

