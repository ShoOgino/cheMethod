  @Override
  public Version getVersion() throws IOException {
    OpenShiftClient openShiftClient = new DefaultOpenShiftClient();
    final OpenShiftClientExtension client =
        new OpenShiftClientExtension(
            openShiftClient.adapt(OkHttpClient.class),
            OpenShiftConfig.wrap(openShiftClient.getConfiguration()));
    String versionString = client.getVersion();
    if (isNullOrEmpty(versionString)) {
      return null;
    }
    final Gson gson = new GsonBuilder().disableHtmlEscaping().create();
    OpenShiftVersion openShiftVersion = gson.fromJson(versionString, OpenShiftVersion.class);
    Version version = openShiftVersion.getVersion();
    version.setApiVersion(client.getApiVersion());
    return version;
  }

