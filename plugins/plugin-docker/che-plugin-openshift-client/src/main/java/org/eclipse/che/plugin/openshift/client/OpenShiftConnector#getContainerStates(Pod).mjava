  private List<ContainerState> getContainerStates(final Pod pod) throws OpenShiftException {
    List<ContainerState> containerStates = new ArrayList<>();
    List<ContainerStatus> containerStatuses = pod.getStatus().getContainerStatuses();
    for (ContainerStatus status : containerStatuses) {
      io.fabric8.kubernetes.api.model.ContainerState state = status.getState();

      ContainerStateTerminated terminated = state.getTerminated();
      ContainerStateWaiting waiting = state.getWaiting();
      ContainerStateRunning running = state.getRunning();

      ContainerState containerState = new ContainerState();

      if (terminated != null) {
        containerState.setStatus("exited");
      } else if (waiting != null) {
        containerState.setStatus("paused");
      } else if (running != null) {
        containerState.setStatus("running");
      } else {
        throw new OpenShiftException(
            "Fail to detect the state of container with id " + status.getContainerID());
      }
      containerStates.add(containerState);
    }
    return containerStates;
  }

