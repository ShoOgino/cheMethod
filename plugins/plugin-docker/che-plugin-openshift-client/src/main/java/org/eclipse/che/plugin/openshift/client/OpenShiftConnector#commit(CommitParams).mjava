    /**
     * OpenShift does not support taking image snapshots since the underlying assumption
     * is that Pods are largely immutable (and so any snapshot would be identical to the image
     * used to create the pod). Che uses docker commit to create machine snapshots, which are
     * used to restore workspaces. To emulate this functionality in OpenShift, commit
     * actually creates a new ImageStreamTag by calling {@link OpenShiftConnector#tag(TagParams)}
     * named for the snapshot that would be created.
     *
     * @see DockerConnector#commit(CommitParams)
     */
    @Override
    public String commit(final CommitParams params) throws IOException {
        String repo = params.getRepository();     // e.g. machine_snapshot_mdkfmksdfm
        String container = params.getContainer(); // container ID

        Pod pod = getChePodByContainerId(container);
        String image = pod.getSpec().getContainers().get(0).getImage();
        String imageStreamTagName = KubernetesStringUtils.getTagNameFromPullSpec(image);

        ImageStreamTag imageStreamTag = getImageStreamTagFromRepo(imageStreamTagName);
        String sourcePullSpec = imageStreamTag.getTag().getFrom().getName();
        String trackingRepo = KubernetesStringUtils.stripTagFromPullSpec(sourcePullSpec);
        String tag          = KubernetesStringUtils.getTagNameFromPullSpec(sourcePullSpec);

        tag(TagParams.create(trackingRepo, repo).withTag(tag));

        return repo; // Return value not used.
    }

