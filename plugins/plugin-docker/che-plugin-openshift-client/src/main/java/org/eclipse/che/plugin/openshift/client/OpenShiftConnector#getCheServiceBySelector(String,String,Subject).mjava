  private Service getCheServiceBySelector(String selectorKey, String selectorValue, Subject subject)
      throws OpenShiftException {
    DefaultKubernetesClient kubeClient =
        ocFactory.newKubeClient(
            openshiftWorkspaceEnvironmentProvider.getWorkspacesOpenshiftConfig(subject));
    ServiceList svcs =
        kubeClient
            .services()
            .inNamespace(
                openshiftWorkspaceEnvironmentProvider.getWorkspacesOpenshiftNamespace(subject))
            .list();

    Service svc =
        svcs.getItems()
            .stream()
            .filter(s -> s.getSpec().getSelector().containsKey(selectorKey))
            .filter(s -> s.getSpec().getSelector().get(selectorKey).equals(selectorValue))
            .findAny()
            .orElse(null);

    if (svc == null) {
      LOG.warn("No Service with selector {}={} could be found", selectorKey, selectorValue);
    }
    return svc;
  }

