    /**
     * Extracts the ImageInfo stored in an ImageStreamTag. The returned object is the JSON
     * that would be returned by executing {@code docker inspect <image>}, except, due to a quirk
     * in OpenShift's handling of this data, fields except for {@code Config} and {@code ContainerConfig}
     * are null.
     * @param imageStreamTag
     * @return
     */
    private ImageInfo getImageInfoFromTag(ImageStreamTag imageStreamTag) {
        // The DockerImageConfig string here is the JSON that would be returned by a docker inspect image,
        // except that the capitalization is inconsistent, breaking deserialization. Top level elements
        // are lowercased with underscores, while nested elements conform to FieldNamingPolicy.UPPER_CAMEL_CASE.
        // We're only converting the config fields for brevity; this means that other fields are null.
        String dockerImageConfig = imageStreamTag.getImage().getDockerImageConfig();
        ImageInfo info = GSON.fromJson(dockerImageConfig.replaceFirst("config", "Config")
                                                        .replaceFirst("container_config", "ContainerConfig"),
                                       ImageInfo.class);

        return info;
    }

