  private String[] getCommand(Command commandType, String mountPath, String... dirs) {
    String[] command = new String[0];
    switch (commandType) {
      case MAKE:
        command = MKDIR_WORKSPACE_COMMAND;
        break;
      case REMOVE:
        command = RMDIR_WORKSPACE_COMMAND;
        break;
    }

    String[] dirsWithPath =
        Arrays.asList(dirs).stream().map(dir -> mountPath + dir).toArray(String[]::new);

    String[] fullCommand = new String[command.length + dirsWithPath.length];

    System.arraycopy(command, 0, fullCommand, 0, command.length);
    System.arraycopy(dirsWithPath, 0, fullCommand, command.length, dirsWithPath.length);
    return fullCommand;
  }

