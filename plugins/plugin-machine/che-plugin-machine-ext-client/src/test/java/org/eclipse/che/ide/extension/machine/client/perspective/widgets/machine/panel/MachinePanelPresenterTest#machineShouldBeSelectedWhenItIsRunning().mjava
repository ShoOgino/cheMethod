    @Test
    public void machineShouldBeSelectedWhenItIsRunning() {
        MachineStartingEvent startingEvent = mock(MachineStartingEvent.class);

        when(startingEvent.getMachine()).thenReturn(selectedMachine1);
        when(stateEvent.getMachine()).thenReturn(selectedMachine1);

        presenter.onMachineStarting(startingEvent);
        reset(view);

        presenter.onMachineRunning(stateEvent);

        verify(view).selectNode(machineNode1);

        assertThat(presenter.isMachineRunning(), is(true));
    }

