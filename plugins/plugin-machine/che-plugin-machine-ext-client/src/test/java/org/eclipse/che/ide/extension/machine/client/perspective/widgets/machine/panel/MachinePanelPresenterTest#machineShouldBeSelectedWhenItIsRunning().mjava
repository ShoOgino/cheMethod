    @Test
    public void machineShouldBeSelectedWhenItIsRunning() {
        when(selectedMachine1.getId()).thenReturn("machine1");

        MachineStateEvent stateEvent = mock(MachineStateEvent.class);
        when(stateEvent.getMachineId()).thenReturn("machine1");
        when(stateEvent.getMachine()).thenReturn(selectedMachine1);

        presenter.onMachineCreating(stateEvent);
        reset(view);
        presenter.onMachineRunning(stateEvent);

        verify(view).selectNode(machineNode1);

        assertThat(presenter.isMachineRunning(), is(true));
    }

