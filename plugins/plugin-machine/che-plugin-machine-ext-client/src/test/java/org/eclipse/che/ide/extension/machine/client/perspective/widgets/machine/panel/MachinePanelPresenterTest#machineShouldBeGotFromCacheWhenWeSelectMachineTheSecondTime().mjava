    @Test
    public void machineShouldBeGotFromCacheWhenWeSelectMachineTheSecondTime() throws Exception {
        presenter.onMachineSelected(machineState1);

        verify(machinePromise).then(operationMachineCaptor.capture());
        operationMachineCaptor.getValue().apply(machineDescriptor1);
        reset(service, appliance);

        presenter.onMachineSelected(machineState1);

        verify(appliance).showAppliance(machine1);

        verify(service, never()).getMachine(anyString());

        assertThat(machineState1, is(equalTo(presenter.getSelectedMachineState())));
        assertThat(presenter.isMachineRunning(), is(true));
    }

