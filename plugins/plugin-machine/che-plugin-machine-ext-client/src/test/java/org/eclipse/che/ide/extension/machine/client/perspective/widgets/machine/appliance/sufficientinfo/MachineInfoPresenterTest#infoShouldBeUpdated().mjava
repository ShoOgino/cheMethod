    @Test
    public void infoShouldBeUpdated() {
        when(wsService.getWorkspace(SOME_TEXT)).thenReturn(promise);

        presenter.update(machine);

        verify(unmarshallerFactory).newUnmarshaller(ProfileDescriptor.class);

        verify(userProfile).getCurrentProfile(Matchers.<AsyncRequestCallback<ProfileDescriptor>>anyObject());
        verify(machine).getWorkspaceId();
        verify(wsService).getWorkspace(eq(SOME_TEXT));

        verify(view).updateInfo(machine);
    }

