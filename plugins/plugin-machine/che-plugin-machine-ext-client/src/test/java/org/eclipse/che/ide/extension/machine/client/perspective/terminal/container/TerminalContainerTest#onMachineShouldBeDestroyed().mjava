    @Test
    public void onMachineShouldBeDestroyed() {
        when(terminalFactory.create(machineState)).thenReturn(terminal);

        container.addOrShowTerminal(machineState);

        verify(terminalFactory).create(machineState);
        reset(terminalFactory);

        when(terminalFactory.create(machineState)).thenReturn(terminal);

        container.onMachineDestroyed(machineStateEvent);

        container.addOrShowTerminal(machineState);

        verify(terminalFactory).create(machineState);
    }

