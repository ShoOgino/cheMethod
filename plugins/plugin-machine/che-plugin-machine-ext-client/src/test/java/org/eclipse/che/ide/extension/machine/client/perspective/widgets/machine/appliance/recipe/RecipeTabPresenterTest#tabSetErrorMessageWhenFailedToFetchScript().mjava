    @Test
    public void tabSetErrorMessageWhenFailedToFetchScript() throws Exception {
        when(machine.getRecipeType()).thenReturn("dockerfile");
        when(recipeScriptClient.getRecipeScript(any(Machine.class))).thenReturn(recipePromise);
        when(recipePromise.then(any(Operation.class))).thenReturn(recipePromise);
        when(machine.getId()).thenReturn("machine123");

        presenter.updateInfo(machine);

        verify(recipePromise).catchError(errorArgumentCaptor.capture());
        errorArgumentCaptor.getValue().apply(promiseError);
        verify(view).setScript("Failed to get recipe script for machine 'machine123'");
    }

