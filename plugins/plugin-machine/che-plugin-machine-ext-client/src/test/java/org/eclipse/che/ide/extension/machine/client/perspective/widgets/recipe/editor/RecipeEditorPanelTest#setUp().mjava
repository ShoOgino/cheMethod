    @Before
    public void setUp() throws Exception {
        when(recipeDescriptor.getScript()).thenReturn(SOME_TEXT);
        when(recipeFileFactory.newInstance(anyString())).thenReturn(recipeFile);
        when(orionTextEditorFactory.get()).thenReturn(editor);

        presenter = new RecipeEditorPanel(recipeFileFactory,
                                          fileTypeRegistry,
                                          orionTextEditorFactory,
                                          view,
                                          recipeDescriptor);

        presenter.setDelegate(delegate);

    }

