    @Test
    public void onEnterClickedWhenCancelButtonInFocus() throws Exception {
        when(view.isCancelButtonInFocus()).thenReturn(true);
        CommandDto command = mock(CommandDto.class);
        CommandConfiguration commandConfiguration = mock(CommandConfiguration.class);
        List<CommandDto> commands = new ArrayList<>(1);
        List<CommandConfiguration> confiqurations = new ArrayList<>(1);
        commands.add(command);
        confiqurations.add(commandConfiguration);

        presenter.onEnterClicked();

        verify(view).setCancelButtonState(false);
        verify(view).setSaveButtonState(false);
        verify(workspaceServiceClient).getCommands(anyString());

        verify(commandsPromise).then(commandsCaptor.capture());
        commandsCaptor.getValue().apply(commands);

        verify(commandConfigurationPromise).then(commandConfigurationCaptor.capture());
        commandConfigurationCaptor.getValue().apply(confiqurations);

        verify(view).setData(anyObject());
        verify(view).setFilterState(anyBoolean());
        verify(view).setCloseButtonInFocus();

        verify(view, never()).close();
        verify(workspaceServiceClient, never()).updateCommand(anyString(), anyString(), anyObject());
        verify(workspaceServiceClient, never()).deleteCommand(anyString(), anyString());
    }

