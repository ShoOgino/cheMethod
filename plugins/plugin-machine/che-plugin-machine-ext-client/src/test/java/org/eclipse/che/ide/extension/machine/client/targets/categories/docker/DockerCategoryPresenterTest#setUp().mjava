    @Before
    public void setUp() {
        when(dialogFactory.createConfirmDialog(anyString(),
                                               anyString(),
                                               Matchers.<ConfirmCallback>anyObject(),
                                               Matchers.<CancelCallback>anyObject())).thenReturn(confirmDialog);

        when(promise.then(operationSuccessCapture.capture())).thenReturn(promise);

        arbitraryCategoryPresenter = new DockerCategoryPresenter(dockerView,
                                                                 dialogFactory,
                                                                 notificationManager,
                                                                 machineLocale,
                                                                 machineService,
                                                                 eventBus);

        arbitraryCategoryPresenter.setTargetsTreeManager(targetsTreeManager);
    }

