    @Test
    public void applianceShouldBeShownForSelectedMachine() throws Exception {
        when(selectedMachine1.getStatus()).thenReturn(MachineStatus.RUNNING);

        presenter.onMachineSelected(selectedMachine1);

        verify(selectedMachine1, times(2)).getId();

        verify(appliance).showAppliance(selectedMachine1);

        assertThat(selectedMachine1, is(equalTo(presenter.getSelectedMachineState())));
        assertThat(presenter.isMachineRunning(), is(true));
    }

