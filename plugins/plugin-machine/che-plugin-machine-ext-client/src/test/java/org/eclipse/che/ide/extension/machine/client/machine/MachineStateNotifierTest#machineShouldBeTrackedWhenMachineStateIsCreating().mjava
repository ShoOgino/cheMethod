    @Test
    public void machineShouldBeTrackedWhenMachineStateIsCreating() throws Exception {
        WorkspaceDto workspace = mock(WorkspaceDto.class);
        when(appContext.getWorkspace()).thenReturn(workspace);
        when(workspace.getId()).thenReturn(SOME_TEXT);
        when(machineConfig.getName()).thenReturn(SOME_TEXT);
        when(notificationManager.notify(anyString(), eq(PROGRESS), anyObject())).thenReturn(notification);
        stateNotifier.trackMachine(machine, MachineManager.MachineOperationType.START);

        verify(notification).setTitle(eq(SOME_TEXT));

        verify(locale).notificationCreatingMachine(SOME_TEXT);
        verify(locale, never()).notificationDestroyingMachine(SOME_TEXT);

        verify(messageBus).subscribe(anyString(), Matchers.<MessageHandler>anyObject());
    }

