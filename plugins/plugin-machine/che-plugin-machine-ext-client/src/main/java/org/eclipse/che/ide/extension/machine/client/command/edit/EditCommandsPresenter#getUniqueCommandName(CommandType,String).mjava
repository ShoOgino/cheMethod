    private String getUniqueCommandName(CommandType customType, String customName) {
        final String newCommandName;

        if (customName == null || customName.isEmpty()) {
            newCommandName = "new" + customType.getDisplayName();
        } else {
            if (!commandNames.contains(customName)) {
                return customName;
            }
            newCommandName = customName + " copy";
        }
        if (!commandNames.contains(newCommandName)) {
            return newCommandName;
        }
        for (int count = 1; count < 1000; count++) {
            if (!commandNames.contains(newCommandName + "-" + count)) {
                return newCommandName + "-" + count;
            }
        }
        return newCommandName;
    }

