    @Override
    public void onWorkspaceStopped(WorkspaceStoppedEvent event) {
        boolean statusChannelNotNull = statusChannel != null;
        boolean outputChannelNotNull = outputChannel != null;
        boolean wsLogChannelNotNull = wsAgentLogChannel != null;

        if (statusChannelNotNull && messageBus.isHandlerSubscribed(statusHandler, statusChannel)) {
            unsubscribeChannel(statusChannel, statusHandler);
        }

        if (outputChannelNotNull && messageBus.isHandlerSubscribed(outputHandler, outputChannel)) {
            unsubscribeChannel(outputChannel, outputHandler);
        }

        if (wsLogChannelNotNull && messageBus.isHandlerSubscribed(outputHandler, wsAgentLogChannel)) {
            unsubscribeChannel(wsAgentLogChannel, outputHandler);
        }
    }

