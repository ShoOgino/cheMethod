    public String getTerminalUrl() {
        Map<String, ServerDto> serverDescriptors = descriptor.getRuntime().getServers();

        for (ServerDto descriptor : serverDescriptors.values()) {
            if (Constants.TERMINAL_REFERENCE.equals(descriptor.getRef())) {
                String terminalUrl = descriptor.getUrl();

                String uriWithoutProtocol = terminalUrl.substring(terminalUrl.indexOf(':'), terminalUrl.length());
                String protocol = Window.Location.getProtocol().equals("https:") ? "wss" : "ws";

                return protocol +
                       uriWithoutProtocol +
                       (terminalUrl.endsWith("/") ? "pty" : "/pty");
            }
        }

        return "";
    }

