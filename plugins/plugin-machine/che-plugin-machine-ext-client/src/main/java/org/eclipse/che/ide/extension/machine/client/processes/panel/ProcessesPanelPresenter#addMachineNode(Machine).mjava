    private ProcessTreeNode addMachineNode(Machine machine) {
        if (machineNodes.containsKey(machine.getId())) {
            return machineNodes.get(machine.getId());
        }

        final ProcessTreeNode machineNode = new ProcessTreeNode(MACHINE_NODE, rootNode, machine, null, new ArrayList<ProcessTreeNode>());
        machineNode.setRunning(true);
        machineNodes.put(machine.getId(), machineNode);

        if (rootNodes.contains(machineNode)) {
            rootNodes.remove(machineNode);
        }

        rootNodes.add(machineNode);

        OutputConsole outputConsole = commandConsoleFactory.create(machine.getConfig().getName());
        addOutputConsole(machine.getId(), outputConsole, true);

        view.setProcessesData(rootNode);

        return machineNode;
    }

