    @Inject
    MachineStatusNotifier(EventBus eventBus,
                          DtoUnmarshallerFactory dtoUnmarshallerFactory,
                          AppContext appContext,
                          final MessageBusProvider messageBusProvider,
                          NotificationManager notificationManager,
                          MachineLocalizationConstant locale) {
        this.eventBus = eventBus;
        this.dtoUnmarshallerFactory = dtoUnmarshallerFactory;
        this.appContext = appContext;
        this.notificationManager = notificationManager;
        this.locale = locale;

        this.messageBus = messageBusProvider.getMessageBus();

        eventBus.addHandler(StartWorkspaceEvent.TYPE, new StartWorkspaceHandler() {
            @Override
            public void onWorkspaceStarted(UsersWorkspaceDto workspace) {
                messageBus = messageBusProvider.getMessageBus();
            }
        });
    }

