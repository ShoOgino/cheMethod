    @Override
    public void start(final Callback<WsAgentComponent, Exception> callback) {
        machineServiceClient.getMachinesStates(appContext.getWorkspace().getId()).then(new Operation<List<MachineStateDto>>() {
            @Override
            public void apply(List<MachineStateDto> arg) throws OperationException {
                if (arg.isEmpty()) {
                    callback.onSuccess(MachineComponent.this);
                    return;
                }

                for (MachineStateDto descriptor : arg) {
                    boolean isDev = descriptor.isDev();
                    MachineStatus status = descriptor.getStatus();

                    if (isDev && status == RUNNING) {
                        callback.onSuccess(MachineComponent.this);

                        appContext.setDevMachineId(descriptor.getId());
                        machineManager.onMachineRunning(descriptor.getId());
                        break;
                    }
                    if (isDev && status == CREATING) {
                        callback.onSuccess(MachineComponent.this);
                        break;
                    }
                }
            }
        }).catchError(new Operation<PromiseError>() {
            @Override
            public void apply(PromiseError arg) throws OperationException {
                callback.onFailure(new Exception(arg.getMessage()));
            }
        });
    }

