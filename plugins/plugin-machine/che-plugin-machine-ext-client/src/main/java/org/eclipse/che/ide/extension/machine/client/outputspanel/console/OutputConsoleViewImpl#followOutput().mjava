    /**
     * Scrolls to the bottom if following the output is enabled.
     */
    private void followOutput() {
        if (!followOutput) {
            return;
        }

        /** Scroll bottom immediately if view is visible */
        if (scrollPanel.getElement().getOffsetParent() != null) {
            scrollPanel.scrollToBottom();
            scrollPanel.scrollToLeft();
            return;
        }

        /** Otherwise, check the visibility periodically and scroll the view when it's visible */
        if (!followScheduled) {
            followScheduled = true;

            Scheduler.get().scheduleFixedPeriod(new Scheduler.RepeatingCommand() {
                @Override
                public boolean execute() {
                    if (!followOutput) {
                        followScheduled = false;
                        return false;
                    }

                    if (scrollPanel.getElement().getOffsetParent() != null) {
                        scrollPanel.scrollToBottom();
                        scrollPanel.scrollToLeft();
                        followScheduled = false;
                        return false;
                    }

                    return true;
                }
            }, 500);
        }
    }

