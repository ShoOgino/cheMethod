    /**
     * Updates buttons state.
     */
    public void updateButtons(boolean verifyTargetName) {
        if (selectedTarget == null) {
            return;
        }

        // Update text of Connect / Disconnect button
        if (selectedTarget.isConnected()) {
            sshView.setConnectButtonText("Disconnect");
        } else {
            sshView.setConnectButtonText("Connect");
        }

        // Disable Save and Cancel buttons and enable Connect for non dirty target.
        if (!selectedTarget.isDirty()) {
            sshView.enableConnectButton(true);
            sshView.enableCancelButton(false);
            sshView.enableSaveButton(false);

            sshView.unmarkTargetName();
            sshView.unmarkHost();
            sshView.unmarkPort();
            return;
        }

        sshView.enableConnectButton(false);
        sshView.enableCancelButton(true);

        // target name must be not empty
        if (sshView.getTargetName().isEmpty()) {
            sshView.markTargetNameInvalid();
            sshView.enableSaveButton(false);
            return;
        }

        boolean enableSave = true;

        // check target name to being not empty
        if (sshView.getTargetName().isEmpty()) {
            enableSave = false;
            sshView.markTargetNameInvalid();
        } else {
            if (verifyTargetName) {
                if (isTargetNameExist(sshView.getTargetName())) {
                    enableSave = false;
                    sshView.markTargetNameInvalid();
                } else {
                    sshView.unmarkTargetName();
                }
            }
        }

        // check host to being not empty
        if (sshView.getHost().isEmpty()) {
            enableSave = false;
            sshView.markHostInvalid();
        } else {
            sshView.unmarkHost();
        }

        // check port to being not empty
        if (sshView.getPort().isEmpty()) {
            enableSave = false;
            sshView.markPortInvalid();
        } else {
            sshView.unmarkPort();
        }

        sshView.enableSaveButton(enableSave);
    }

