    private void deleteTarget(final Target target) {
        final MachineEntity machine = this.getMachineByName(target.getName());

        if (machine == null || machine.getStatus() != RUNNING) {
            deleteTargetRecipe(target);
            return;
        }

        if (target.getRecipe() == null) {
            disconnect(machine);
            return;
        }

        machineService.destroyMachine(machine.getWorkspaceId(),
                                      machine.getId()).then(new Operation<Void>() {
            @Override
            public void apply(Void arg) throws OperationException {
                eventBus.fireEvent(new MachineStateEvent(machine, DESTROYED));
                notificationManager.notify(machineLocale.targetsViewDisconnectSuccess(target.getName()), SUCCESS, FLOAT_MODE);
                deleteTargetRecipe(target);
            }
        }).catchError(new Operation<PromiseError>() {
            @Override
            public void apply(PromiseError arg) throws OperationException {
                notificationManager.notify(machineLocale.targetsViewDisconnectError(target.getName()), FAIL, FLOAT_MODE);
                updateTargets(target.getName());
            }
        });
    }

