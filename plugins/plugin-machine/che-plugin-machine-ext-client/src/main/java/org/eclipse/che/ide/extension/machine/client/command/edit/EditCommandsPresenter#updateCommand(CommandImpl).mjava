    private Promise<CommandImpl> updateCommand(final CommandImpl command) {
        return commandManager.update(editedCommandNameInitial, command)
                             .then(new Operation<CommandImpl>() {
                                 @Override
                                 public void apply(CommandImpl updatedCommand) throws OperationException {
                                     editedPage.onSave();

                                     if (!command.getName().equals(updatedCommand.getName())) {
                                         onNameChanged();
                                     }
                                 }
                             })
                             .catchError(new Operation<PromiseError>() {
                                 @Override
                                 public void apply(PromiseError arg) throws OperationException {
                                     dialogFactory.createMessageDialog("Error", arg.getMessage(), null).show();
                                 }
                             });
    }

