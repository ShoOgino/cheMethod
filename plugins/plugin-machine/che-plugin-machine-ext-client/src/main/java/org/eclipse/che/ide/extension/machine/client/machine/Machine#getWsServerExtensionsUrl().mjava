    /** @return special url to connect to terminal web socket. */
    @NotNull
    public String getWsServerExtensionsUrl() {
        String url = "";
        Map<String, ServerDto> serverDescriptors = descriptor.getMetadata().getServers();
        for (ServerDto descriptor : serverDescriptors.values()) {
            if (EXTENSIONS_REF_KEY.equals(descriptor.getRef())) {
                url = descriptor.getUrl();
            }
        }

        String extUrl = url.substring(url.indexOf(':'), url.length());

        boolean isSecureConnection = Window.Location.getProtocol().equals("https:");

        return (isSecureConnection ? "wss" : "ws") + extUrl + Config.getCheExtensionPath() + "/ws";
    }

