    private void addMachineToConsoles(MachineDto machine) {
        List<ProcessTreeNode> processTreeNodes = new ArrayList<ProcessTreeNode>();
        ProcessTreeNode machineNode = new ProcessTreeNode(MACHINE_NODE, rootNode, machine, null, processTreeNodes);
        machineNode.setRunning(true);

        if (rootChildren.contains(machineNode)) {
            rootChildren.remove(machineNode);
        }

        rootChildren.add(machineNode);
        view.setProcessesData(rootNode);

        String machineId = machine.getId();

        restoreState(machineId);

        machineNodes.put(machineId, machineNode);
    }

