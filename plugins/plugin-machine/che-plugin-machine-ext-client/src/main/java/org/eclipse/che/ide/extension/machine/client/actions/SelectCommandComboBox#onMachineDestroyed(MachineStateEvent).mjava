    @Override
    public void onMachineDestroyed(MachineStateEvent event) {
        MachineDto machine = event.getMachine();

        final String machineId = machine.getId();

        if (registeredMachineMap.remove(machineId) == null) {
            return;
        }

        if (machine.getConfig().getName().equals(machinesListWidget.getSelectedName())) {
            machinesListWidget.selectElement(null, null);
        }

        updateMachineActions();
    }

