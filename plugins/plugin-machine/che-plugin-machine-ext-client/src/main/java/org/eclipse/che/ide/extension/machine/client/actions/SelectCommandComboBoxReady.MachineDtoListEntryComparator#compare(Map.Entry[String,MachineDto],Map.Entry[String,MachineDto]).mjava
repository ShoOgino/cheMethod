        @Override
        public int compare(Map.Entry<String, MachineDto> o1, Map.Entry<String, MachineDto> o2) {
            final MachineDto firstMachine = o1.getValue();
            final MachineDto secondMachine = o2.getValue();

            if (firstMachine == null) {
                return -1;
            }
            if (secondMachine == null) {
                return 1;
            }

            final MachineConfigDto firstMachineConfig = firstMachine.getConfig();
            final MachineConfigDto secondMachineConfig = secondMachine.getConfig();

            if (firstMachineConfig.isDev()) {
                return -1;
            }
            if (secondMachineConfig.isDev()) {
                return 1;
            }

            if (firstMachineConfig.getType().equalsIgnoreCase(secondMachineConfig.getType())) {
                return (firstMachineConfig.getName()).compareToIgnoreCase(secondMachineConfig.getName());
            }

            return (getMachineCategory(firstMachineConfig)).compareToIgnoreCase(getMachineCategory(secondMachineConfig));
        }

