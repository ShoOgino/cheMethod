    /** {@inheritDoc} */
    @Override
    public void onNewButtonClicked() {
        RecipeEditorPanel stubPanel = recipesContainerPresenter.getEditorStubPanel();

        String recipeName = NameGenerator.generateCustomRecipeName(recipes.keySet());
        List<String> tags = stubPanel.getTags();
        if (recipes.isEmpty() && !stubPanel.getName().isEmpty()) {
            recipeName = stubPanel.getName();
            stubPanel.setTags(Collections.<String>emptyList());
        }

        NewRecipe newRecipe = dtoFactory.createDto(NewRecipe.class)
                                        .withType(RECIPE_TYPE)
                                        .withScript(resources.recipeTemplate().getText())
                                        .withName(recipeName)
                                        .withTags(tags);

        createRecipe(newRecipe);
    }

