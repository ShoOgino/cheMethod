  @Test
  public void shouldNotInjectSshKeysWhenThereAreNotAnyPair() throws Exception {
    when(sshManager.getPairs(anyString(), anyString())).thenReturn(Collections.emptyList());

    keysInjector.injectPublicKeys(WORKSPACE_ID);

    verify(sshManager).getPairs(eq(OWNER), eq("machine"));
    verify(sshManager).getPair(eq(OWNER), eq("workspace"), eq(WORKSPACE_ID));
    verifyZeroInteractions(execAgentClientFactory, sshManager);
  }

