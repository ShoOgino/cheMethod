  @Test
  public void shouldNotInjectSshKeysWhenThereAreNotAnyPairWithPublicKey() throws Exception {
    when(sshManager.getPairs(anyString(), anyString()))
        .thenReturn(
            Collections.singletonList(new SshPairImpl(OWNER, "machine", "myPair", null, null)));

    keysInjector.injectPublicKeys(WORKSPACE_ID);

    verify(sshManager).getPairs(eq(OWNER), eq("machine"));
    verify(sshManager).getPair(eq(OWNER), eq("workspace"), eq(WORKSPACE_ID));
    verifyZeroInteractions(execAgentClientFactory, sshManager);
  }

