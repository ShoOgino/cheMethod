    @Test(dataProvider = "nonNamespacePathProvider")
    public void shouldRedirectIfRequestWithoutNamespace(String uri, String url) throws Exception {
        //given
        when(request.getMethod()).thenReturn("GET");
        when(request.getRequestURI()).thenReturn(uri);
        when(request.getRequestURL()).thenReturn(new StringBuffer(url));
        EnvironmentContext context = new EnvironmentContext();
        context.setWorkspaceId("ws-id");
        context.setWorkspaceTemporary(false);
        context.setSubject(new SubjectImpl("id123", "name", "token123", Arrays.asList("user"), false));
        EnvironmentContext.setCurrent(context);

        //when
        filter.doFilter(request, response, chain);

        //then
        verify(response).sendRedirect(eq("/dashboard/"));
    }

