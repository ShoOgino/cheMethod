  @Override
  protected void configure() {

    String infrastructure = System.getenv("CHE_INFRASTRUCTURE_ACTIVE");
    if ("openshift".equals(infrastructure)) {
      install(new OpenShiftInfraModule());
    } else {
      install(new LocalDockerModule());
      install(new DockerInfraModule());
    }

    bind(TokenValidator.class).to(org.eclipse.che.api.local.DummyTokenValidator.class);

    bind(org.eclipse.che.api.workspace.server.stack.StackLoader.class);
    bind(DataSource.class).toProvider(org.eclipse.che.core.db.h2.H2DataSourceProvider.class);

    install(new org.eclipse.che.api.user.server.jpa.UserJpaModule());
    install(new org.eclipse.che.api.workspace.server.jpa.WorkspaceJpaModule());

    bind(org.eclipse.che.api.user.server.CheUserCreator.class);
  }

