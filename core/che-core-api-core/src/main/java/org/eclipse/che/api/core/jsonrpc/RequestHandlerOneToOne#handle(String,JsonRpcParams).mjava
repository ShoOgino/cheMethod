    public JsonRpcResult handle(String endpointId, JsonRpcParams params) throws JsonRpcException {
        checkNotNull(endpointId, "Endpoint ID must not be null");
        checkArgument(!endpointId.isEmpty(), "Endpoint ID must not be empty");
        checkNotNull(params, "Params must not be null");

        LOG.debug("Handling request from: {}, with params: {}", endpointId, params);

        P paramsObject = params.getAs(pClass);
        LOG.debug("Created raw params object: {}", paramsObject);
        R result = function.apply(endpointId, paramsObject);
        LOG.debug("Received result: {}", result);

        return factory.createResult(result);
    }

