    public void dispatch(String endpointId, JsonRpcResponse response) {
        checkNotNull(endpointId, "Endpoint ID name must not be null");
        checkArgument(!endpointId.isEmpty(), "Endpoint ID name must not be empty");
        checkNotNull(response, "Response name must not be null");

        LOG.debug("Dispatching a response: {}, from endpoint: {}", response, endpointId);

        String responseId = response.getId();
        LOG.debug("Fetching response ID: {}", responseId);

        String key = combine(endpointId, responseId);
        LOG.debug("Generating key: {}", key);

        Class<?> rClass = rClasses.get(key);
        LOG.debug("Fetching result class: {}", rClass);

        if (response.hasResult()) {
            processResult(endpointId, response, key, rClass);
        } else if (response.hasError()) {
            processError(endpointId, response, key);
        } else {
            LOG.error("Received incorrect response: no error, no result");
        }
    }

