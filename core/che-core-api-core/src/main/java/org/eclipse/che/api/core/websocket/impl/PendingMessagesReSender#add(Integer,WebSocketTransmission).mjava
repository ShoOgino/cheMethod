    public void add(Integer endpointId, WebSocketTransmission message) {
        List<WebSocketTransmission> messages = messagesMap.get(endpointId);

        if (messages == null) {
            messages = new LinkedList<>();
            messagesMap.put(endpointId, messages);
        }

        if (messages.size() <= MAX_MESSAGES) {
            messages.add(message);
        }
    }

