    public JsonRpcResult handle(String endpointId, JsonRpcParams params) throws JsonRpcException {
        checkNotNull(endpointId, "Endpoint ID must not be null");
        checkArgument(!endpointId.isEmpty(), "Endpoint ID must not be empty");
        checkNotNull(params, "Params must not be null");

        LOG.debug("Handling request from: {}, with params: {}", endpointId, params);

        List<P> paramsList = params.getAsListOf(pClass);
        LOG.debug("Created raw params list: {}", paramsList);
        R result = function.apply(endpointId, paramsList);
        LOG.debug("Received result: {}", result);

        return factory.createResult(result);
    }

