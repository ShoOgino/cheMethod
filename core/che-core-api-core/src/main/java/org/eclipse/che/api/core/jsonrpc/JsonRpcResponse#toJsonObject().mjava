    public JsonObject toJsonObject() {
        JsonObject response = new JsonObject();
        response.addProperty("jsonrpc", "2.0");

        if (hasResult()) {
            response.add("result", result.toJsonElement());
        } else if (hasError()) {
            response.add("error", error.toJsonObject());
        }

        if (id != null) {
            response.addProperty("id", id);
        }
        return response;
    }

