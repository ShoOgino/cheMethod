  /**
   * Get free port from the specified range. Specified range may not be wider than configured range
   * otherwise IllegalArgumentException is thrown. Configured range may be checked with method
   * {@link #getRange()}.
   *
   * @return free port or {@code -1} if there is no free port
   * @throws IllegalArgumentException if {@code min > range.first} or if {@code min > range.second}
   * @see #getRange()
   * @see #MIN_PORT
   * @see #MAX_PORT
   */
  public int acquire(int min, int max) {
    if (min < range.first) {
      throw new IllegalArgumentException(
          String.format("Min port value may not be less than %d", range.first));
    }
    if (max > range.second) {
      throw new IllegalArgumentException(
          String.format("Max port value may not be greater than %d", range.second));
    }
    return doAcquire(min, max);
  }

