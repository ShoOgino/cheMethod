    private void processError(String endpointId, JsonRpcResponse response, String key) {
        LOG.debug("Response has error. Proceeding...");

        JsonRpcError error = response.getError();
        BiConsumer<String, JsonRpcError> consumer = cast(promises.get(key).getFailureConsumer());
        if (consumer != null) {
            LOG.debug("Failure consumer is found, accepting...");
            consumer.accept(endpointId, error);
        } else {
            LOG.debug("Reject function is not found, skipping");
        }
    }

