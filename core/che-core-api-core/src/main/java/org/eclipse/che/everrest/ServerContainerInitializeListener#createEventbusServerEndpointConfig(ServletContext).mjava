  protected ServerEndpointConfig createEventbusServerEndpointConfig(ServletContext servletContext) {
    final List<Class<? extends Encoder>> encoders = new LinkedList<>();
    final List<Class<? extends Decoder>> decoders = new LinkedList<>();
    encoders.add(OutputMessageEncoder.class);
    decoders.add(InputMessageDecoder.class);
    final ServerEndpointConfig endpointConfig =
        create(CheWSConnection.class, websocketContext + eventBusEndPoint)
            .configurator(createConfigurator())
            .encoders(encoders)
            .decoders(decoders)
            .build();
    endpointConfig
        .getUserProperties()
        .put(EVERREST_PROCESSOR_ATTRIBUTE, getEverrestProcessor(servletContext));
    endpointConfig
        .getUserProperties()
        .put(EVERREST_CONFIG_ATTRIBUTE, getEverrestConfiguration(servletContext));
    endpointConfig.getUserProperties().put(EXECUTOR_ATTRIBUTE, createExecutor(servletContext));
    return endpointConfig;
  }

