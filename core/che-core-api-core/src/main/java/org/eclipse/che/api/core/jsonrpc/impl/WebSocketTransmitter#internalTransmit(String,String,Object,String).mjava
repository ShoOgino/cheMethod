    private void internalTransmit(String endpointId, String method, Object dto, String id) {
        final JsonObject request = new JsonObject();

        request.addProperty("jsonrpc", "2.0");
        if (id != null) {
            request.addProperty("id", id);
        }
        request.addProperty("method", method);
        if (dto != null) {
            final String dtoString = DtoFactory.getInstance().toJson(dto);
            final JsonObject jsonParams = new JsonParser().parse(dtoString).getAsJsonObject();
            request.add("params", jsonParams);
        }

        if (endpointId == null) {
            transmitter.transmit(request.toString());
        } else {
            transmitter.transmit(endpointId, request.toString());
        }
    }

