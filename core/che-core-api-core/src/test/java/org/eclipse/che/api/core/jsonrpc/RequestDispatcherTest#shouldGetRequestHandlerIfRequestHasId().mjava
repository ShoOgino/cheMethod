    @Test
    public void shouldGetRequestHandlerIfRequestHasId() throws Exception {
        when(request.hasId()).thenReturn(true);

        requestDispatcher.dispatch(ENDPOINT_ID, request);

        verify(requestHandlerRegistry).getRequestHandler(METHOD_NAME);
        verify(requestHandlerRegistry, never()).getNotificationHandler(METHOD_NAME);
    }

