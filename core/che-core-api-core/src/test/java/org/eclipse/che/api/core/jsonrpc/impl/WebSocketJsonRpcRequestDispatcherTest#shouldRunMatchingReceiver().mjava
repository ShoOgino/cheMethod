    @Test
    public void shouldRunMatchingReceiver() {
        dispatcher.dispatch(getMessage(METHOD_NAME), ENDPOINT_ID);

        ArgumentCaptor<JsonRpcRequest> requestCaptor = ArgumentCaptor.forClass(JsonRpcRequest.class);

        verify(receiver).receive(requestCaptor.capture(), eq(ENDPOINT_ID));

        final JsonRpcRequest request = requestCaptor.getValue();

        assertEquals(request.getMethod(), "test-method");
        assertEquals(request.getParams(), PARAMS);
    }

