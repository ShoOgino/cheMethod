    /** @see GitCommand#execute() */
    @Override
    public Void execute() throws GitException {
        if (startPoint != null && trackBranch != null) {
            throw new GitException("Start point and track branch can not be used together.");
        }

        if (createNew && branchName == null) {
            throw new GitException("Branch name must be set when createNew equals to true.");
        }

        reset();
        commandLine.add("checkout");
       
        if (filePaths != null && !filePaths.isEmpty()){
            for (String file : filePaths){
        	    commandLine.add(file);
            }
        } else {
	        if (createNew) {
	            commandLine.add("-b");
	            commandLine.add(branchName);
	        } else if (branchName != null) {
	            commandLine.add(branchName);
	        }
	
	        if (trackBranch != null) {
	            commandLine.add("-t");
	            commandLine.add(trackBranch);
	        } else if (startPoint != null) {
	            commandLine.add(startPoint);
	        }
        }
        
        start();
        return null;
    }

