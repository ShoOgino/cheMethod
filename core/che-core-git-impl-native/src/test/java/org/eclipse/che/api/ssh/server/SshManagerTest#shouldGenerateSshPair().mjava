    @Test
    public void shouldGenerateSshPair() throws Exception {
        SshPairImpl generatedPair = sshManager.generatePair(OWNER, "service", "name");

        verify(sshDao).create(eq(OWNER), sshPairCaptor.capture());
        SshPairImpl storedSshPair = sshPairCaptor.getValue();
        assertEquals(generatedPair, storedSshPair);
        assertEquals(generatedPair.getName(), "name");
        assertEquals(generatedPair.getService(), "service");
        assertNotNull(generatedPair.getPrivateKey());
        assertNotNull(generatedPair.getPublicKey());
    }

