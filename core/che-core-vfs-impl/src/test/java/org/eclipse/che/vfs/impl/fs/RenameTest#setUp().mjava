    @Override
    protected void setUp() throws Exception {
        super.setUp();

        properties = new HashMap<>(2);
        properties.put("MyProperty01", new String[]{"foo"});
        properties.put("MyProperty02", new String[]{"bar"});

        filePath = createFile(testRootPath, "RenameTest_File", DEFAULT_CONTENT_BYTES);
        // Add custom properties for file. Will check after rename to be sure all original properties are saved.
        writeProperties(filePath, properties);

        lockedFilePath = createFile(testRootPath, "RenameTest_LockedFile", DEFAULT_CONTENT_BYTES);

        protectedFilePath = createFile(testRootPath, "RenameTest_ProtectedFile", DEFAULT_CONTENT_BYTES);

        folderPath = createDirectory(testRootPath, "RenameTest_Folder");
        writeProperties(folderPath, properties);
        // Add custom properties for each item in tree. Will check after rename to be sure all original properties are saved.
        createTree(folderPath, 6, 4, properties);

        protectedFolderPath = createDirectory(testRootPath, "RenameTest_ProtectedFolder");
        createTree(protectedFolderPath, 6, 4, properties);
        writeProperties(protectedFolderPath, properties);

        createLock(lockedFilePath, lockToken, Long.MAX_VALUE);

        permissions = new HashMap<>(2);
        Principal user = DtoFactory.getInstance().createDto(Principal.class).withName("andrew").withType(Principal.Type.USER);
        Principal admin = DtoFactory.getInstance().createDto(Principal.class).withName("admin").withType(Principal.Type.USER);
        permissions.put(user, Sets.newHashSet(BasicPermissions.ALL.value()));
        permissions.put(admin, Sets.newHashSet(BasicPermissions.READ.value()));
        writePermissions(protectedFilePath, permissions);
        writePermissions(protectedFolderPath, permissions);

        fileId = pathToId(filePath);
        lockedFileId = pathToId(lockedFilePath);
        protectedFileId = pathToId(protectedFilePath);
        folderId = pathToId(folderPath);
        protectedFolderId = pathToId(protectedFolderPath);
    }

