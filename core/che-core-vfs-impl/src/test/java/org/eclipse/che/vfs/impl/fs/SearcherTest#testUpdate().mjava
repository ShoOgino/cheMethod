    public void testUpdate() throws Exception {
        searcherManager.maybeRefresh();
        IndexSearcher luceneSearcher = searcherManager.acquire();
        TopDocs topDocs = luceneSearcher.search(new QueryParser("text", new SimpleAnalyzer()).parse("updated"), 10);
        assertEquals(0, topDocs.totalHits);
        searcherManager.release(luceneSearcher);
        mountPoint.getVirtualFile(file2).updateContent(new ByteArrayInputStream("updated content".getBytes()), null);

        searcherManager.maybeRefresh();
        luceneSearcher = searcherManager.acquire();
        topDocs = luceneSearcher.search(new QueryParser("text", new SimpleAnalyzer()).parse("updated"), 10);
        assertEquals(1, topDocs.totalHits);
        searcherManager.release(luceneSearcher);
    }

