    public void testRenameFile() throws Exception {
        final String newName = "_FILE_NEW_NAME_";
        final String newMediaType = "text/*;charset=ISO-8859-1";
        String requestPath = SERVICE_URI + "rename/" + fileId + '?' + "newname=" + newName + '&' +
                             "mediaType=" + newMediaType;
        ContainerResponse response = launcher.service(HttpMethod.POST, requestPath, BASE_URI, null, null, null);
        assertEquals("Error: " + response.getEntity(), 200, response.getStatus());
        assertFalse("File must be removed. ", exists(filePath));
        String expectedPath = testRootPath + '/' + newName;
        assertTrue("Not found new file in expected location. ", exists(expectedPath));
        assertTrue(Arrays.equals(DEFAULT_CONTENT_BYTES, readFile(expectedPath)));
        Map<String, String[]> expectedProperties = new HashMap<>(properties);
        expectedProperties.put("vfs:mimeType", new String[]{newMediaType});
        validateProperties(expectedPath, expectedProperties);
    }

