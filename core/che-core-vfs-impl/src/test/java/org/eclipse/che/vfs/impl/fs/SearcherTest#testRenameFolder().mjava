    public void testRenameFolder() throws Exception {
        String newName = "___renamed";
        searcherManager.maybeRefresh();
        IndexSearcher luceneSearcher = searcherManager.acquire();
        TopDocs topDocs = luceneSearcher.search(new PrefixQuery(new Term("path", searchTestPath)), 10);
        assertEquals(4, topDocs.totalHits);
        searcherManager.release(luceneSearcher);
        mountPoint.getVirtualFile(searchTestPath).rename(newName, null, null);

        searcherManager.maybeRefresh();
        luceneSearcher = searcherManager.acquire();

        String newPath = testRootPath + "/" + newName;

        topDocs = luceneSearcher.search(new PrefixQuery(new Term("path", newPath)), 10);
        assertEquals(4, topDocs.totalHits);
        topDocs = luceneSearcher.search(new PrefixQuery(new Term("path", searchTestPath)), 10);
        assertEquals(0, topDocs.totalHits);
        searcherManager.release(luceneSearcher);
    }

