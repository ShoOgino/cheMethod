    LazyIterator<VirtualFile> getVersions(VirtualFileImpl virtualFile, VirtualFileFilter filter) throws ForbiddenException {
        if (!virtualFile.isFile()) {
            throw new ForbiddenException("Versioning allowed for files only. ");
        }
        if (filter.accept(virtualFile)) {
            return LazyIterator.<VirtualFile>singletonIterator(virtualFile);
        }
        return LazyIterator.emptyIterator();
    }

