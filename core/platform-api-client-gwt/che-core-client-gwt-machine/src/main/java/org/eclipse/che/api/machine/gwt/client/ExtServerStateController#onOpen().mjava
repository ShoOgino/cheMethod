    @Override
    public void onOpen() {
        testConnection.close(); //close testing connection now we know ext-server already start
        state = ExtServerState.STARTED;
        initialLoadingInfo.setOperationStatus(EXTENSION_SERVER_BOOTING.getValue(), SUCCESS);
        loader.hide();

        messageBus = messageBusProvider.createMachineMessageBus(wsUrl);
        messageBus.addOnOpenHandler(new ConnectionOpenedHandler() {
            @Override
            public void onOpen() {
                messageBus.removeOnOpenHandler(this);
                eventBus.fireEvent(ExtServerStateEvent.createExtServerStartedEvent());
            }
        });

        if (messageBusCallback != null) {
            messageBusCallback.onSuccess(messageBus);
        }
    }

