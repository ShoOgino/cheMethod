    @Override
    public void onOpen() {
        testConnection.close(); //close testing connection now we know ws-agent already start
        messageBus = messageBusProvider.createMachineMessageBus(wsUrl);
        state = WsAgentState.STARTED;
        initialLoadingInfo.setOperationStatus(WS_AGENT_BOOTING.getValue(), SUCCESS);
        loader.hide();

        if (messageBusCallback != null) {
            messageBusCallback.onSuccess(messageBus);
        }
        eventBus.fireEvent(WsAgentStateEvent.createWsAgentStartedEvent());
    }

