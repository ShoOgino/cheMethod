    // TODO evaluate: keep?
    public void shiftLines(final int fromLine, final int lineDelta, final int charDelta) {
        final Map<Annotation, Position> modified = new IdentityHashMap<>();
        for (final Entry<Annotation, Position> entry: this.annotations.entrySet()) {
            final Position position = entry.getValue();
            final TextPosition textPos = docHandle.getDocument().getPositionFromIndex(position.getOffset());

            int horizontal;
            if (textPos.getLine() == fromLine) {
                horizontal = charDelta;
            } else if (textPos.getLine() >= fromLine) {
                horizontal = 0;
            } else {
                continue;
            }
            final TextPosition newTextPos = new TextPosition(fromLine + lineDelta,
                                                             textPos.getCharacter() + horizontal);
            final int newOffset = docHandle.getDocument().getIndexFromPosition(newTextPos);
            final Position newPos = new Position(newOffset, position.getLength());
            modified.put(entry.getKey(), newPos);
        }
        // merge changes in the annotartion map
        this.annotations.putAll(modified);
    }

