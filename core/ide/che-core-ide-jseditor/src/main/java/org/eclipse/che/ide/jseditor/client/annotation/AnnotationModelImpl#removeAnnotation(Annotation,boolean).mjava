    /**
     * Removes the given annotation from the annotation model. If requested inform all model change listeners about this change.
     *
     * @param annotation the annotation to be removed
     * @param fireModelChanged indicates whether to notify all model listeners
     */
    protected void removeAnnotation(final Annotation annotation, final boolean fireModelChanged) {
        if (annotations.containsKey(annotation)) {

            Position pos = null;
            pos = annotations.get(annotation);

            annotations.remove(annotation);
            positions.remove(pos);
            getAnnotationModelEvent().annotationRemoved(annotation, pos);

            if (fireModelChanged) {
                fireModelChanged();
            }
        }
    }

