    @Inject
    public JsEditorExtension(final FileTypeRegistry fileTypeRegistry,
                             final @PlainTextFileType FileType plainText,
                             final EditorPreferenceResource editorPreferenceResource,
                             final EditorResources editorResources,
                             final KeyBindingAgent keyBindingAgent,
                             final PopupResources popupResources) {

        // register text/plain file type
        fileTypeRegistry.registerFileType(plainText);

        // ensure css injection
        editorPreferenceResource.cellStyle().ensureInjected();
        editorResources.editorCss().ensureInjected();
        popupResources.popupStyle().ensureInjected();

//        keyBindingAgent.getGlobal().addKey(new KeyBuilder().action().charCode('1').build(), "preventNative");
    }

