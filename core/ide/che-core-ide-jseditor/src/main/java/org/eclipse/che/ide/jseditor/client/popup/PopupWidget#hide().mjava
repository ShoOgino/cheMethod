    /** Hide the popup. */
    public void hide() {
        // restore previous focus state
        if (previousFocus != null) {
            previousFocus.focus();
            previousFocus = null;
        }

        popupElement.getStyle().setOpacity(0);
        new Timer() {
            @Override
            public void run() {
                if (popupElement != null) {
                    // detach assist popup
                    popupElement.getParentNode().removeChild(popupElement);
                    popupElement = null;
                }
                // remove all items from popup element
                listElement.setInnerHTML("");
            }
        }.schedule(250);

        // remove the keyboard listener
        listElement.removeEventListener(Event.KEYDOWN, keyboardListener, false);

        // remove the mouse listener
        Elements.getDocument().removeEventListener(Event.MOUSEDOWN, popupListener);
    }

