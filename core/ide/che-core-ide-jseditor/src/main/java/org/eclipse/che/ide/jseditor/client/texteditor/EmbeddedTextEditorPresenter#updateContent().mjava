    private void updateContent() {
        /* -save current cursor and (ideally) viewport
         * -set editor content which is also expected to
         *     -reset dirty flag
         *     -clear history
         * -restore current cursor position
         */
        final TextPosition currentCursor = getCursorPosition();
        this.documentStorage.getDocument(document.getFile(), new EmbeddedDocumentCallback() {

            @Override
            public void onDocumentReceived(final String content) {
                editorWidget.setValue(content, new ContentInitializedHandler() {
                    @Override
                    public void onContentInitialized() {
                        document.setCursorPosition(currentCursor);
                    }
                });
            }

            @Override
            public void onDocumentLoadFailure(final Throwable caught) {
                displayErrorPanel(constant.editorFileErrorMessage());
            }
        });
    }

