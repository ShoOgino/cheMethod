    private void testWithLeading(final String lead) {
        doReturn(lead + "/*").when(document).getLineContent(1);
        doReturn(lead + " *").when(document).getLineContent(2);
        final  TextChange input = new TextChange.Builder().from(new TextPosition(1, 2 + lead.length()))
                                                          .to(new TextPosition(2, 2 + lead.length()))
                                                          .insert("\n" + lead + " *")
                                                          .build();
        final TextChange output = interceptor.processChange(input, document);
        assertNotNull(output);
        final TextChange expected = new TextChange.Builder().from(new TextPosition(1, 2 + lead.length()))
                                                            .to(new TextPosition(3, 3  + lead.length()))
                                                            .insert("\n" + lead + " * "+"\n" + lead + " */")
                                                            .build();
        Assert.assertEquals(expected, output);
    }

