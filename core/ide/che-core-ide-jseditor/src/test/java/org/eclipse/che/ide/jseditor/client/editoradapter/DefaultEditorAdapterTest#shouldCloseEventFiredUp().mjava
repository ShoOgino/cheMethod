    @Test
    public void shouldCloseEventFiredUp() throws EditorInitException {
        final FileEvent event = mock(FileEvent.class);
        final VirtualFile file = mock(VirtualFile.class);
        final EditorInput input = mock(EditorInput.class);
        final OpenEditorCallback editorCallback = mock(OpenEditorCallback.class);
        String path = "filePath";

        when(input.getFile()).thenReturn(file);
        when(event.getFile()).thenReturn(file);
        when(file.getPath()).thenReturn(path);
        when(event.getOperationType()).thenReturn(FileEvent.FileOperation.CLOSE);

        defaultEditorAdapter.init(input, editorCallback);
        defaultEditorAdapter.onFileOperation(event);

        verify(workspaceAgent).removePart(defaultEditorAdapter);
    }

