    @Test
    public void importShouldBeSuccessAndProjectStartsResolving() throws OperationException {
        importer.checkFolderExistenceAndImport(completeCallback, projectConfig);

        verify(vfsServiceClient).getItemByPath(anyString(), eq(PROJECT_NAME), callbackCaptorForItem.capture());

        AsyncRequestCallback<Item> callback = callbackCaptorForItem.getValue();
        GwtReflectionUtils.callOnFailure(callback, mock(Throwable.class));

        //first time called in abstract importer
        verify(importPromise, times(2)).then(voidOperationCaptor.capture());
        voidOperationCaptor.getAllValues().get(0).apply(null);

        verify(eventBus).fireEvent(Matchers.<Event>anyObject());
        verify(resolver).resolveProject(completeCallback, projectConfig);
        verify(subscriber).onSuccess();
    }

