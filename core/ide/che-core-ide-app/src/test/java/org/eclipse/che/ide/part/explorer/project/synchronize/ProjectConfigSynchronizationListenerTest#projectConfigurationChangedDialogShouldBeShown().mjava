    @Test
    public void projectConfigurationChangedDialogShouldBeShown() {
        ProjectProblemDto problem = newDto(ProjectProblemDto.class).withCode(8);

        problems.add(problem);

        listener.onBeforeExpand(event);

        verify(locale).synchronizeDialogTitle();
        verify(locale).projectConfigurationChanged();
        verify(locale).buttonConfigure();
        verify(locale).buttonKeepBlank();

        verify(dialogFactory).createConfirmDialog(anyString(),
                                                  anyString(),
                                                  anyString(),
                                                  anyString(),
                                                  confirmCaptor.capture(),
                                                  Matchers.<CancelCallback>anyObject());
        confirmCaptor.getValue().accepted();

        verify(eventBus).fireEvent(Matchers.<ConfigureProjectEvent>anyObject());
    }

