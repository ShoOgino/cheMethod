    @Test
    public void projectShouldBeUpdatedAsBlankWhenProjectConfigurationChanged() {
        ProjectProblemDto problem = newDto(ProjectProblemDto.class).withCode(8);

        problems.add(problem);

        listener.onBeforeExpand(event);

        verify(dialogFactory).createConfirmDialog(anyString(),
                                                  anyString(),
                                                  anyString(),
                                                  anyString(),
                                                  confirmCaptor.capture(),
                                                  cancelCaptor.capture());
        cancelCaptor.getValue().cancelled();

        verify(projectConfig).setType(Constants.BLANK_ID);
        verify(appContext).getDevMachine();

        //noinspection unchecked

        verify(projectService).updateProject(eq(devMachine), anyString(), eq(projectConfig), Matchers.<AsyncRequestCallback>anyObject());
    }

