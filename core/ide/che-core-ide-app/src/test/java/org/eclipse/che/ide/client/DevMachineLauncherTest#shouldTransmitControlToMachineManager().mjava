    @Test
    public void shouldTransmitControlToMachineManager() throws Exception {
        when(machineDescriptor.getStatus()).thenReturn(MachineStatus.CREATING);

        devMachineLauncher.startDevMachine(startedCallback);

        verify(machineServiceClient).getMachines(anyString());
        verify(machinesPromise).then(machinesCaptor.capture());

        machinesCaptor.getValue().apply(Collections.singletonList(machineDescriptor));
        verify(machineConfigDescriptor).isDev();
        verify(machineDescriptor).getStatus();
    }

