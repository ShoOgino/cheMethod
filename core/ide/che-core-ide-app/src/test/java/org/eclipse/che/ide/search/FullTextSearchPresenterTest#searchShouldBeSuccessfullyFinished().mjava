    @Test
    public void searchShouldBeSuccessfullyFinished() throws Exception {
        List<ItemReference> result = new ArrayList<>();

        fullTextSearchPresenter.search(SEARCHED_TEXT);

        verify(view, times(2)).getPathToSearch();
        verify(view, times(2)).getFileMask();

        verify(promise).then(operationSuccessCapture.capture());
        operationSuccessCapture.getValue().apply(result);

        verify(view).close();
        verify(findResultPresenter).handleResponse(result, SEARCHED_TEXT);
    }

