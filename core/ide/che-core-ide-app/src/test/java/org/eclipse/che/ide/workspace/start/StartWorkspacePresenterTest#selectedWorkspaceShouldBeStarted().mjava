    @Test
    public void selectedWorkspaceShouldBeStarted() {
        when(widgetFactory.create(workspaceDto)).thenReturn(widget);
        when(workspaceDto.getDefaultEnv()).thenReturn("text");
        when(browserQueryFieldRenderer.getWorkspaceName()).thenReturn("test");
        when(wsComponentProvider.get()).thenReturn(workspaceComponent);

        presenter.show(Arrays.asList(workspaceDto), callback);
        presenter.onWorkspaceSelected(workspaceDto);
        reset(workspaceDto);

        presenter.onStartWorkspaceClicked();

        verify(wsComponentProvider).get();

        verify(workspaceComponent).startWorkspaceById(workspaceDto);

        verify(view).hide();
    }

