    @Test
    public void projectShouldBeUpdatedWhenConfigurationIsNotRequired() throws Exception {
        updater.updateProject(completeCallback, projectConfig, false);

        verify(getUpdatedProjectMock).then(getUpdatedProjectCaptor.capture());
        getUpdatedProjectCaptor.getValue().apply(projectConfig);

        verify(projectConfig).getName();

        verify(projectServiceClient).updateProject(eq(WORKSPACE_ID),
                                                   eq('/' + PROJECT_NAME),
                                                   eq(projectConfig));

        verify(getProjectsMock).then(getProjectsCaptor.capture());
        getProjectsCaptor.getValue().apply(singletonList(projectConfig));

        verify(eventBus).fireEvent(Matchers.<ProjectUpdatedEvent>anyObject());
        verify(projectNotificationSubscriber).onSuccess();
        verify(completeCallback).onCompleted();
    }

