    @Test
    public void workspaceConfigShouldBeGot() {
        when(view.getWorkspaceName()).thenReturn("name");
        when(view.getRecipeUrl()).thenReturn("test");

        clickOnCreateButton();

        verify(view, times(2)).getWorkspaceName();
        verify(dtoFactory).createDto(MachineConfigDto.class);
        verify(machineConfigDto).withName("ws-machine");
        verify(machineConfigDto).withType("docker");
        verify(machineConfigDto).withSource(machineSourceDto);
        verify(machineConfigDto).withDev(true);

        verify(dtoFactory).createDto(MachineSourceDto.class);
        verify(machineSourceDto).withType("recipe");
        verify(machineSourceDto).withLocation("test");

        verify(dtoFactory).createDto(EnvironmentDto.class);
        verify(environmentDto).withName("name");
        verify(environmentDto).withMachineConfigs(Matchers.<List<MachineConfigDto>>anyObject());
    }

