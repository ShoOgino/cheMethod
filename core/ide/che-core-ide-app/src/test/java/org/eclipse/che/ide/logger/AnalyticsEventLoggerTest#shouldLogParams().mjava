    @Test
    public void shouldLogParams() {
        doNothing().when(eventLogger).send(anyString(), anyMap());

        ArgumentCaptor<String> eventParam = ArgumentCaptor.forClass(String.class);
        ArgumentCaptor<Map> paramsParam = ArgumentCaptor.forClass(Map.class);

        eventLogger.log(new TestedAction(), "IDE: Action",
                        new HashMap<String, String>() {{
                            put("a", "b");
                        }});

        verify(eventLogger).send(eventParam.capture(), paramsParam.capture());

        String event = eventParam.getValue();
        assertEquals(event, "ide-usage");

        Map<String, String> params = paramsParam.getValue();
        assertEquals(params.size(), 4);
        assertEquals(params.get(AnalyticsEventLoggerImpl.WS_PARAM), "workspaceId");
        assertEquals(params.get(AnalyticsEventLoggerImpl.SOURCE_PARAM), "org.eclipse.che.ide.logger.AnalyticsEventLoggerTest$TestedAction");
        assertEquals(params.get(AnalyticsEventLoggerImpl.ACTION_PARAM), "IDE: Action");
        assertEquals(params.get("a"), "b");
    }

