    @Test
    public void projectShouldBeUpdated() {
        updater.updateProject(completeCallback, projectConfig, true);

        verify(projectConfig).getName();
        verify(dtoUnmarshallerFactory).newUnmarshaller(ProjectConfigDto.class);

        verify(projectServiceClient).updateProject(eq(WORKSPACE_ID),
                                                   eq('/' + PROJECT_NAME),
                                                   eq(projectConfig),
                                                   asyncRequestCallback.capture());
        GwtReflectionUtils.callOnSuccess(asyncRequestCallback.getValue(), projectConfig);

        verify(eventBus, times(2)).fireEvent(Matchers.<CreateProjectEvent>anyObject());
        verify(projectNotificationSubscriber).onSuccess();
        verify(completeCallback).onCompleted();
    }

