    @Test
    public void projectShouldBeDeletedFromWorkspaceWhenWeRemoveId() {
        ProjectProblemDto problem = newDto(ProjectProblemDto.class).withCode(9);

        problems.add(problem);

        listener.onBeforeExpand(event);

        verify(dialogFactory).createConfirmDialog(anyString(),
                                                  anyString(),
                                                  anyString(),
                                                  anyString(),
                                                  confirmCaptor.capture(),
                                                  cancelCaptor.capture());
        cancelCaptor.getValue().cancelled();

        //noinspection unchecked
        verify(projectService).delete(eq(WORKSPACE_ID), anyString(), Matchers.<AsyncRequestCallback>anyObject());
    }

