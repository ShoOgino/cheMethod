    @Test
    public void onImportClickedWhenProjectWithSameNameAlreadyExistsTest() {
        when(view.getProjectName()).thenReturn(PROJECT_NAME);
        MessageDialog dialog = mock(MessageDialog.class);
        when(dialogFactory.createMessageDialog(anyString(), anyString(), any(ConfirmCallback.class))).thenReturn(dialog);

        presenter.onImportClicked();

        verify(vfsServiceClient).getItemByPath(anyString(), eq(PROJECT_NAME), callbackCaptorForItem.capture());
        AsyncRequestCallback<Item> callback = callbackCaptorForItem.getValue();
        GwtReflectionUtils.callOnSuccess(callback, mock(Item.class));

        verify(view).setEnabledImportButton(eq(false));
        verify(dialogFactory).createMessageDialog(anyString(), anyString(), any(ConfirmCallback.class));
        verify(dialog).show();
        verify(view, never()).submit();
        verify(view, never()).setLoaderVisibility(anyBoolean());
        verify(view, never()).setInputsEnableState(anyBoolean());
    }

