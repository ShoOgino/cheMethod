    @Override
    public void update(ActionEvent e) {

        EditorPartPresenter activeEditor = editorAgent.getActiveEditor();
        if (activeEditor != null) {
            if (activeEditor instanceof HandlesTextOperations) {
                e.getPresentation().setVisible(true);
                if (((HandlesTextOperations)activeEditor).canDoOperation(TextEditorOperations.CODEASSIST_PROPOSALS)) {
                    e.getPresentation().setEnabled(true);
                } else {
                    e.getPresentation().setEnabled(false);
                }
            }
        } else {
            e.getPresentation().setEnabledAndVisible(false);
        }
    }

