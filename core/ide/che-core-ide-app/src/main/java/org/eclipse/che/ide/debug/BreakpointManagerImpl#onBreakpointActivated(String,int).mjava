    @Override
    public void onBreakpointActivated(String filePath, int lineNumber) {
        List<Breakpoint> breakpointsForPath = breakpoints.get(filePath);
        if (breakpointsForPath == null) {
            return;
        }

        for (int i = 0; i < breakpointsForPath.size(); i++) {
            Breakpoint breakpoint = breakpointsForPath.get(i);

            if (breakpoint.getLineNumber() == lineNumber) {
                Breakpoint newActiveBreakpoint = new Breakpoint(breakpoint.getType(),
                                                                breakpoint.getLineNumber(),
                                                                breakpoint.getPath(),
                                                                breakpoint.getFile(),
                                                                true);
                breakpointsForPath.set(i, newActiveBreakpoint);
                preserveBreakpoints();

                BreakpointRenderer breakpointRenderer = getBreakpointRendererForFile(breakpoint.getPath());
                if (breakpointRenderer != null) {
                    breakpointRenderer.setBreakpointActive(breakpoint.getLineNumber(), true);
                }
            }
        }
    }

