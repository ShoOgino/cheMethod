    /**
     * Create presenter.
     * <p/>
     * For tests.
     *
     * @param view
     * @param preferences
     * @param dialogFactory
     * @param locale
     * @param managers
     */
    @Inject
    protected PreferencesPresenter(PreferencesView view,
                                   Set<PreferencePagePresenter> preferences,
                                   DialogFactory dialogFactory,
                                   CoreLocalizationConstant locale,
                                   Set<PreferencesManager> managers,
                                   Provider<NotificationManager> notificationManagerProvider) {
        this.view = view;
        this.preferences = preferences;
        this.dialogFactory = dialogFactory;
        this.locale = locale;
        this.managers = managers;
        this.notificationManagerProvider = notificationManagerProvider;
        this.view.setDelegate(this);
        for (PreferencePagePresenter preference : preferences) {
            preference.setUpdateDelegate(this);
        }
    }

