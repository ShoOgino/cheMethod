    @Override
    public void onRequestSuggestions(String query, final AsyncCallback<List<ItemReference>> callback) {
        resultMap = new HashMap<>();

        // add '*' to allow search files by first letters
        search(query + "*", new AsyncCallback<List<ItemReference>>() {
            @Override
            public void onSuccess(List<ItemReference> result) {
                for (ItemReference item : result) {
                    final String path = item.getPath();
                    // skip hidden items
                    if (!isItemHidden(path)) {
                        resultMap.put(path, item);
                    }
                }
                List itemReference = new ArrayList<>(resultMap.values());
                callback.onSuccess(itemReference);
            }

            @Override
            public void onFailure(Throwable caught) {
                callback.onFailure(caught);
            }
        });
    }

