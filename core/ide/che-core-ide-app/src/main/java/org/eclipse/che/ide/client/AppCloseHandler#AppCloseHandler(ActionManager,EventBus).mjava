    @Inject
    public AppCloseHandler(ActionManager actionManager, EventBus eventBus) {
        this.actionManager = actionManager;

        eventBus.addHandler(WindowActionEvent.TYPE, new WindowActionHandler() {
            @Override
            public void onWindowClosing(final WindowActionEvent event) {
                String message = performActions();
                if (message != null) {
                    event.setMessage(message);
                }
            }

            @Override
            public void onWindowClosed(WindowActionEvent event) {
            }
        });
    }

