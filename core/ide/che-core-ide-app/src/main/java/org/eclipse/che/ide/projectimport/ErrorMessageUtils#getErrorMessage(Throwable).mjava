    /**
     * The method defines error type and returns error message from passed exception.
     *
     * @param exception
     *         passed exception
     * @return error message
     */
    public static String getErrorMessage(Throwable exception) {
        if (exception instanceof JobNotFoundException) {
            return "Project import failed";
        } else if (exception instanceof UnauthorizedException) {
            return ((UnauthorizedException)exception).getMessage();
        } else {
            return dtoFactory.createDtoFromJson(exception.getMessage(), ServiceError.class).getMessage();
        }
    }

