    /**
     * Expands or restores the editor.
     */
    public void toggleExpand() {
        eventLogger.log(this);

        Perspective activePerspective = perspectiveManager.getActivePerspective();
        if (activePerspective != null) {
            expanded = !expanded;

            if (expanded) {
                activePerspective.collapseParts();
                if (button != null) {
                    button.getElement().setInnerHTML(FontAwesome.COMPRESS);
                }
            } else {
                activePerspective.expandParts();
                if (button != null) {
                    button.getElement().setInnerHTML(FontAwesome.EXPAND);
                }
            }
        }
    }

