    @Override
    public void onNodeAdded(NodeAddedEvent event) {
        if (!isInSearchMode()) {
            return;
        }

        List<Node> addedNodes = event.getNodes();

        for (Node node : addedNodes) {
            if (!(node instanceof HasStorablePath)) {
                continue;
            }

            String childPath = ((HasStorablePath)node).getStorablePath();

            if (path.getStorablePath().equals(childPath)) {
                callback.onSuccess(node);
                inSearchMode = false;
                break;
            } else if (path.getStorablePath().startsWith(childPath + (node.isLeaf() ? "" : "/"))) {
                tree.setExpanded(node, true);
                return;
            }
        }
    }

