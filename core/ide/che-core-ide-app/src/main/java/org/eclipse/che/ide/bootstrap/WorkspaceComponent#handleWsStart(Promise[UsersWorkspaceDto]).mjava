    /**
     * Handles workspace start or recovering.
     */
    private void handleWsStart(final Promise<UsersWorkspaceDto> promise) {
        promise.then(new Operation<UsersWorkspaceDto>() {
            @Override
            public void apply(UsersWorkspaceDto workspace) throws OperationException {
                initialLoadingInfo.setOperationStatus(WORKSPACE_BOOTING.getValue(), SUCCESS);
                setCurrentWorkspace(workspace);
                EnvironmentStateDto currentEnvironment = null;
                for (EnvironmentStateDto state : workspace.getEnvironments()) {
                    if (state.getName().equals(workspace.getDefaultEnv())) {
                        currentEnvironment = state;
                        break;
                    }
                }
                List<MachineStateDto> machineStates =
                        currentEnvironment != null ? currentEnvironment.getMachineConfigs() : new ArrayList<MachineStateDto>();

                for (MachineStateDto machineState : machineStates) {
                    if (machineState.isDev()) {
                        MachineManager machineManager = machineManagerProvider.get();
                        machineManager.onDevMachineCreating(machineState);
                    }
                }
            }
        }).catchError(new Operation<PromiseError>() {
            @Override
            public void apply(PromiseError arg) throws OperationException {
                initialLoadingInfo.setOperationStatus(WORKSPACE_BOOTING.getValue(), ERROR);
                callback.onFailure(new Exception(arg.getCause()));
            }
        });
    }

