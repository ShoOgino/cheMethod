    private boolean isAncestor(@NotNull Node ancestor, @NotNull Node element) {
        if (ancestor == null) {
            return false;
        }

        Node parent = element;

        while (true) {
            if (parent == null) {
                return false;
            }

            if (parent.equals(ancestor)) {
                return true;
            }

            parent = parent.getParent();
        }
    }

