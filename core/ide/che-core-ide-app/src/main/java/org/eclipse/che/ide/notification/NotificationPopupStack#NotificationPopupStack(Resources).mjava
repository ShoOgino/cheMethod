    /**
     * Create message stack.
     *
     * @param resources
     *         core resources
     */
    @Inject
    public NotificationPopupStack(final Resources resources) {
        notificationContainer.ensureDebugId(NOTIFICATION_CONTAINER_DBG_ID);
        notificationContainer.setStyleName(resources.notificationCss().notificationPopupPlaceholder());

        RootPanel.get().add(notificationContainer);

        Scheduler.get().scheduleFixedPeriod(new Scheduler.RepeatingCommand() {

            /** {@inheritDoc} */
            @Override
            public boolean execute() {
                while (notificationContainer.getWidgetCount() < POPUP_COUNT && !stack.isEmpty()) {
                    notificationContainer.add(new NotificationPopup(stack.pop(), resources, NotificationPopupStack.this));
                }

                return true;
            }
        }, 1000);

    }

