    /** {@inheritDoc} */
    @NotNull
    @Override
    public final Promise<List<Node>> getChildren(boolean forceUpdate) {
        if (children == null || children.isEmpty() || forceUpdate) {
            return getChildrenImpl().then(setParentAndSaveState());
        }

        return Promises.resolve(children);
    }

