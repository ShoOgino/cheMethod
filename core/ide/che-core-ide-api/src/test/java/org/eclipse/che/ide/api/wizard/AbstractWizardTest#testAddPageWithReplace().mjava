    @Test
    public void testAddPageWithReplace() throws Exception {
        wizard.addPage(page1);
        wizard.addPage(page3);
        wizard.addPage(page2, 1, true);

        assertEquals(page1, wizard.navigateToFirst());
        assertEquals(page2, wizard.navigateToNext());
        assertNull(wizard.navigateToNext());
    }

