    @Override
    public void handleEvent(final Event evt) {
        if (evt instanceof KeyboardEvent) {
            final KeyboardEvent keyEvent = (KeyboardEvent) evt;
            switch (keyEvent.getKeyCode()) {
                case KeyCodes.KEY_ESCAPE:
                    Scheduler.get().scheduleDeferred(new ScheduledCommand() {
                        @Override
                        public void execute() {
                            popupWidget.hide();
                        }
                    });
                    break;
                case KeyCodes.KEY_DOWN:
                    focusNext();
                    break;
                case KeyCodes.KEY_UP:
                    focusPrevious();
                    break;
                case KeyCodes.KEY_HOME:
                    focusFirst();
                    break;
                case KeyCodes.KEY_END:
                    focusLast();
                    break;
                case KeyCodes.KEY_ENTER:
                    evt.preventDefault();
                    evt.stopImmediatePropagation();
                    validateItem();
                    break;
                default:
            }
        }
    }

