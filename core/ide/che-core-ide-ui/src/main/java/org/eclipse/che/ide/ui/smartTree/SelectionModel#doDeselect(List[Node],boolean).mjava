    protected void doDeselect(List<Node> nodes, boolean suppressEvent) {
        boolean change = false;
        for (Node node : nodes) {
            if (selectionStorage.remove(node)) {
                if (lastSelectedNode == node) {
                    lastSelectedNode = selectionStorage.size() > 0 ? selectionStorage.get(selectionStorage.size() - 1) : null;
                }
                onSelectChange(node, false);
                change = true;
            }
        }
        if (!suppressEvent && change) {
            fireSelectionChange();
        }
    }

