    @Test(expectedExceptions = MachineException.class, expectedExceptionsMessageRegExp = "Test exception")
    public void shouldThrowMachineExceptionIfMachineManagerExecInDevMachineThrowsMachineException() throws Exception {
        when(machineManager.exec(anyString(), any(Command.class), anyString())).thenThrow(new MachineException("Test exception"));

        wsAgentLauncher.startWsAgent(WS_ID);

        verify(machineManager).exec(anyString(), any(Command.class), anyString());
    }

