    @Test
    public void shouldStartWsAgentUsingMachineExec() throws Exception {
        wsAgentLauncher.startWsAgent(WS_ID);

        verify(machineManager).exec(eq(MACHINE_ID),
                                    eq(new CommandImpl(WsAgentLauncherImpl.WS_AGENT_PROCESS_NAME,
                                                       WS_AGENT_START_CMD_LINE,
                                                       "Arbitrary")),
                                    eq(WsAgentLauncherImpl.getWsAgentProcessOutputChannel(WS_ID)));

    }

