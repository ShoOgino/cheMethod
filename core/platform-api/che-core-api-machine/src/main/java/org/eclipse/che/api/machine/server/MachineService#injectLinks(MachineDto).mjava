    private MachineDto injectLinks(MachineDto machine) {
        injectLinks((MachineStateDto)machine);

        machine.getLinks().stream()
               .filter(link -> "self link".equals(link.getRel()) ||
                               Constants.LINK_REL_GET_MACHINE.equals(link.getRel()))
               .forEach(link -> {
                   if ("self link".equals(link.getRel())) {
                       link.setRel(Constants.LINK_REL_GET_MACHINE_STATE);
                   } else {
                       link.setRel("self link");
                   }
               });

        return machine;
    }

