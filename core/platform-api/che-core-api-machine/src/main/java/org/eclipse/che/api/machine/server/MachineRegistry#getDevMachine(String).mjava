    /**
     * Get dev machine of specific workspace. Dev machine should be in RUNNING state
     *
     * @param workspaceId
     *         id of workspace
     * @throws NotFoundException
     *         if dev machine was not found or it is not in RUNNING
     * @throws MachineException
     *         if other error occurs
     */
    public synchronized MachineImpl getDevMachine(String workspaceId) throws NotFoundException, MachineException {
        for (Instance instance : instances.values()) {
            if (instance.getWorkspaceId().equals(workspaceId) && instance.getConfig().isDev()) {
                return toMachine(instance);
            }
        }

        throw new NotFoundException("Dev machine of workspace " + workspaceId + " is not running.");
    }

