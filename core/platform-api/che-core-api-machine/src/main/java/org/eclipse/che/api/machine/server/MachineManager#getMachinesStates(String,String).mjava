    /**
     * Find machines connected with specific workspace/project
     *
     * @param owner
     *         id of owner of machine
     * @param workspaceId
     *         workspace binding
     * @return list of machines or empty list
     */
    public List<MachineStateImpl> getMachinesStates(String owner, String workspaceId) throws MachineException, BadRequestException {
        requiredNotNull(owner, "Owner");

        return machineRegistry.getStates()
                              .stream()
                              .filter(machine -> owner.equals(machine.getOwner())
                                                 && machine.getWorkspaceId().equals(workspaceId))
                              .collect(Collectors.toList());
    }

