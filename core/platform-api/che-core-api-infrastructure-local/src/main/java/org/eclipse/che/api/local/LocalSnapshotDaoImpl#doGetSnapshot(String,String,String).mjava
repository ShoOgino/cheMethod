    private Optional<SnapshotImpl> doGetSnapshot(String workspaceId, String envName, String machineName) {
        return snapshots.values()
                        .stream()
                        .filter(snapshot -> snapshot.getWorkspaceId().equals(workspaceId)
                                            && snapshot.getEnvName().equals(envName)
                                            && snapshot.getMachineName().equals(machineName))
                        .findFirst();
    }

