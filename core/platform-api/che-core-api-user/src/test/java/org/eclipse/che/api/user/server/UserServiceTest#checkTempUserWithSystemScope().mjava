    /**
     * Check the current user has the temp_user role
     *
     * @throws Exception
     */
    @Test
    public void checkTempUserWithSystemScope() throws Exception {
        when(securityContext.isUserInRole("temp_user")).thenReturn(true);

        final ContainerResponse response = makeRequest(HttpMethod.GET, SERVICE_PATH + "/inrole?role=temp_user&scope=system", null);

        assertEquals(response.getStatus(), OK.getStatusCode());
        final UserInRoleDescriptor userInRoleDescriptor = (UserInRoleDescriptor)response.getEntity();

        assertNotNull(userInRoleDescriptor);
        assertEquals(userInRoleDescriptor.getIsInRole(), true);
        assertEquals(userInRoleDescriptor.getScope(), "system");
        assertEquals(userInRoleDescriptor.getScopeId(), "");
    }

