    @Test
    public void shouldThrowForbiddenExceptionWhenCreatingUserBasedOnEntityWhichContainsNullEmail() throws Exception {
        final NewUser newUser = DtoFactory.getInstance().createDto(NewUser.class);
        when(securityContext.isUserInRole("system/admin")).thenReturn(true);

        final ContainerResponse response = makeRequest(HttpMethod.POST, SERVICE_PATH + "/create", newUser);

        assertEquals(response.getStatus(), FORBIDDEN.getStatusCode());
        verify(userDao, never()).create(any(User.class));
        verify(profileDao, never()).create(any(Profile.class));
    }

