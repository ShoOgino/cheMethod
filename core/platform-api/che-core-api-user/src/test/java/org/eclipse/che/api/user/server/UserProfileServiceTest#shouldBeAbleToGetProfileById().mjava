    @Test
    public void shouldBeAbleToGetProfileById() throws Exception {
        final Profile profile = new Profile().withId(testUser.getId())
                                             .withUserId(testUser.getId());
        when(profileDao.getById(profile.getId())).thenReturn(profile);

        final ContainerResponse response = makeRequest(HttpMethod.GET, SERVICE_PATH + "/" + profile.getId(), null);

        assertEquals(response.getStatus(), OK.getStatusCode());
        final ProfileDescriptor descriptor = (ProfileDescriptor)response.getEntity();
        assertEquals(descriptor.getUserId(), profile.getId());
        assertEquals(descriptor.getId(), profile.getId());
        assertEquals(descriptor.getAttributes().get("email"), testUser.getEmail());
    }

