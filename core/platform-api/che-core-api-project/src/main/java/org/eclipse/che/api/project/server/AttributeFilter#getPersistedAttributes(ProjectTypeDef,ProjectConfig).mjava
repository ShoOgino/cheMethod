    private Map<String, List<String>> getPersistedAttributes(ProjectTypeDef projectType,
                                                             ProjectConfig projectConfig) throws ProjectTypeConstraintException,
                                                                                                 ValueStorageException {
        Map<String, List<String>> persistentAttributes = new HashMap<>();

        for (Attribute attribute : projectType.getAttributes()) {
            if (!attribute.isVariable()) {
                persistentAttributes.put(attribute.getName(), attribute.getValue().getList());

                continue;
            }

            Variable variable = (Variable)attribute;
            ValueProviderFactory factory = variable.getValueProviderFactory();

            if (factory == null) {
                List<String> value = projectConfig.getAttributes().get(attribute.getName());

                persistentAttributes.put(variable.getName(), MoreObjects.firstNonNull(value, new ArrayList<>()));
            }
        }

        return persistentAttributes;
    }

