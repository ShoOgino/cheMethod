    private void registerAll(final Path start) throws IOException {
        Files.walkFileTree(start, new SimpleFileVisitor<Path>() {
            @Override
            public FileVisitResult preVisitDirectory(Path directoryToRegister, BasicFileAttributes attrs) throws IOException {
                String relativePath = directoryToRegister.toString().substring(pathToRoot.length());

                if (absentServiceDirectory(relativePath)) {
                    register(directoryToRegister);
                }

                return FileVisitResult.CONTINUE;
            }
        });
    }

