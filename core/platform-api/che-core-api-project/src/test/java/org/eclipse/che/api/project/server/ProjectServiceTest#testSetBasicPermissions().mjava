    @Test
    public void testSetBasicPermissions() throws Exception {
        Project myProject = pm.getProject(workspace, "my_project");
        clearAcl(myProject);
        String user = "user";
        HashMap<String, List<String>> headers = new HashMap<>(1);
        headers.put(CONTENT_TYPE, singletonList(APPLICATION_JSON));

        AccessControlEntry entry1 = DtoFactory.getInstance().createDto(AccessControlEntry.class)
                                              .withPermissions(singletonList("all"))
                                              .withPrincipal(DtoFactory.getInstance().createDto(Principal.class)
                                                                       .withName(user).withType(Principal.Type.USER));
        launcher.service(POST,
                         String.format("http://localhost:8080/api/project/%s/permissions/my_project", workspace),
                         "http://localhost:8080/api",
                         headers,
                         JsonHelper.toJson(singletonList(entry1)).getBytes(),
                         null);
        List<AccessControlEntry> acl = myProject.getBaseFolder().getVirtualFile().getACL();
        AccessControlEntry entry2 = null;
        for (AccessControlEntry ace : acl) {
            if (ace.getPrincipal().getName().equals(user)) {
                entry2 = ace;
            }
        }
        assertNotNull(entry2, "Not found expected ACL entry after update");

        assertEquals(entry2.getPrincipal(), entry1.getPrincipal());
        Assert.assertTrue(entry2.getPermissions().containsAll(entry1.getPermissions()));
    }

