    @SuppressWarnings("unchecked")
    @Test
    public void testSearchByText() throws Exception {
        Project myProject = pm.getProject(workspace, "my_project");
        myProject.getBaseFolder().createFolder("a/b").createFile("test.txt", "hello".getBytes());
        myProject.getBaseFolder().createFolder("x/y").createFile("__test.txt", "searchhit".getBytes());
        myProject.getBaseFolder().createFolder("c").createFile("_test", "searchhit".getBytes());

        ContainerResponse response = launcher.service(GET,
                                                      String.format("http://localhost:8080/api/project/%s/search/my_project?text=searchhit",
                                                                    workspace),
                                                      "http://localhost:8080/api", null, null, null);
        assertEquals(response.getStatus(), 200, "Error: " + response.getEntity());
        List<ItemReference> result = (List<ItemReference>)response.getEntity();
        assertEquals(result.size(), 2);
        Set<String> paths = new LinkedHashSet<>(1);
        paths.addAll(result.stream().map(ItemReference::getPath).collect(Collectors.toList()));
        Assert.assertTrue(paths.contains("/my_project/x/y/__test.txt"));
    }

