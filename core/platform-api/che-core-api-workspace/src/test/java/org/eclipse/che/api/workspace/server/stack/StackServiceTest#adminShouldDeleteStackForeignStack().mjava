    @Test
    public void adminShouldDeleteStackForeignStack() throws ServerException, NotFoundException {
        ROLES.add("system/admin");
        when(stackDao.getById(STACK_ID)).thenReturn(foreignStack);
        when(checker.hasAccess(any(StackImpl.class), anyString(), eq("write"))).thenReturn(true);

        Response response = given().auth()
                                   .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
                                   .when()
                                   .delete(SECURE_PATH + "/stack/" + STACK_ID);

        verify(stackDao).getById(STACK_ID);
        verify(stackDao).remove(any());
        assertEquals(response.getStatusCode(), 204);
    }

