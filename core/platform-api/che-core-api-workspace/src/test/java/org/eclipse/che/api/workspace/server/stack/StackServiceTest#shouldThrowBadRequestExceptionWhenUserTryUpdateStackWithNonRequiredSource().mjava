    /** Update stack */

    @Test
    public void shouldThrowBadRequestExceptionWhenUserTryUpdateStackWithNonRequiredSource() {
        StackDto updatedStackDto = stackDto.withSource(null).withWorkspaceConfig(null);

        Response response = given().auth()
                                   .basic(ADMIN_USER_NAME, ADMIN_USER_PASSWORD)
                                   .contentType(APPLICATION_JSON)
                                   .content(updatedStackDto)
                                   .when()
                                   .put(SECURE_PATH + "/stack/" + STACK_ID);

        assertEquals(response.getStatusCode(), 400);
        String expectedMessage = "Stack source required. You must specify stack source: 'workspaceConfig' or 'stackSource'";
        assertEquals(unwrapDto(response, ServiceError.class).getMessage(), expectedMessage);
    }

