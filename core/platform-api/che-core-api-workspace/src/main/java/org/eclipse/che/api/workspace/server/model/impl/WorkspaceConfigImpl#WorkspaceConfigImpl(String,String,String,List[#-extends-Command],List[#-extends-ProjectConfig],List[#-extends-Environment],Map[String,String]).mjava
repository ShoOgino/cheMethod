    public WorkspaceConfigImpl(String name,
                               String description,
                               String defaultEnvName,
                               List<? extends Command> commands,
                               List<? extends ProjectConfig> projects,
                               List<? extends Environment> environments,
                               Map<String, String> attributes) {
        this.name = name;
        this.description = description;

        if (environments != null) {
            this.environments = environments.stream()
                                            .map(EnvironmentStateImpl::new)
                                            .collect(toList());
        }
        if (commands != null) {
            this.commands = commands.stream()
                                    .map(CommandImpl::new)
                                    .collect(toList());
        }
        if (projects != null) {
            this.projects = projects.stream()
                                    .map(ProjectConfigImpl::new)
                                    .collect(toList());
        }
        if (attributes != null) {
            this.attributes = new HashMap<>(attributes);
        }
        setDefaultEnv(defaultEnvName);
    }

