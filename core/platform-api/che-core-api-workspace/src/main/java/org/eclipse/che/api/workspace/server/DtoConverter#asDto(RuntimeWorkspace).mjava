    /**
     * Converts {@link RuntimeWorkspace} to {@link RuntimeWorkspaceDto}.
     */
    public static RuntimeWorkspaceDto asDto(RuntimeWorkspace workspace) {
        final List<MachineDto> machines = workspace.getMachines()
                                                   .stream()
                                                   .map(org.eclipse.che.api.machine.server.DtoConverter::asDto)
                                                   .collect(toList());
        final List<CommandDto> commands = workspace.getCommands()
                                                   .stream()
                                                   .map(DtoConverter::asDto)
                                                   .collect(toList());
        final List<ProjectConfigDto> projects = workspace.getProjects()
                                                         .stream()
                                                         .map(DtoConverter::asDto)
                                                         .collect(toList());
        final List<EnvironmentStateDto> environments = workspace.getEnvironments()
                                                               .stream()
                                                               .map(DtoConverter::asDto)
                                                               .collect(toList());

        return newDto(RuntimeWorkspaceDto.class).withId(workspace.getId())
                                                .withName(workspace.getName())
                                                .withStatus(workspace.getStatus())
                                                .withOwner(workspace.getOwner())
                                                .withActiveEnvName(workspace.getActiveEnvName())
                                                .withDefaultEnv(workspace.getDefaultEnv())
                                                .withCommands(commands)
                                                .withProjects(projects)
                                                .withEnvironments(environments)
                                                .withAttributes(workspace.getAttributes())
                                                .withDevMachine(
                                                        org.eclipse.che.api.machine.server.DtoConverter.asDto(workspace.getDevMachine()))
                                                .withRootFolder(workspace.getRootFolder())
                                                .withMachines(machines)
                                                .withDescription(workspace.getDescription());
    }

