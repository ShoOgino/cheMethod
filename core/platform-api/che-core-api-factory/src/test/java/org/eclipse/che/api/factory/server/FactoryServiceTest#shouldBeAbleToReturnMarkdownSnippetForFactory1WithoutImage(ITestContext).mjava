    @Test
    public void shouldBeAbleToReturnMarkdownSnippetForFactory1WithoutImage(ITestContext context) throws Exception {
        // given
        Factory factory = prepareFactoryWithGivenStorage("git", "http://github.com/codenvy/platform-api.git")
                .withId(CORRECT_FACTORY_ID)
                .withButton(dto.createDto(Button.class)
                               .withType(Button.ButtonType.nologo)
                               .withAttributes(dto.createDto(ButtonAttributes.class)
                                                  .withColor("white")));

        when(factoryStore.getFactory(CORRECT_FACTORY_ID)).thenReturn(factory);
        // when, then
        given().expect()
               .statusCode(200)
               .contentType(MediaType.TEXT_PLAIN)
               .body(
                       equalTo("[![alt](" + getServerUrl(context) + "/factory/resources/factory-white.png)](" + getServerUrl
                               (context) +
                               "/factory?id=" +
                               CORRECT_FACTORY_ID + ")")
                    )
               .when()
               .get(SERVICE_PATH + "/" + CORRECT_FACTORY_ID + "/snippet?type=markdown");
    }

