    /** @see junit.framework.TestCase#setUp() */
    @Override
    protected void setUp() throws Exception {
        super.setUp();
        fileSystemProvider = new MemoryFileSystemProvider(MY_WORKSPACE_ID, new EventService(), virtualFileSystemRegistry);
        virtualFileSystemRegistry.registerProvider(MY_WORKSPACE_ID, fileSystemProvider);
        mountPoint = (MemoryMountPoint)fileSystemProvider.getMountPoint(true);
        DependencySupplierImpl dependencies = new DependencySupplierImpl();
        dependencies.addComponent(VirtualFileSystemRegistry.class, virtualFileSystemRegistry);
        ResourceBinder resources = new ResourceBinderImpl();
        ProviderBinder providers = new ApplicationProviderBinder();
        EverrestProcessor processor = new EverrestProcessor(resources,providers,dependencies,new EverrestConfiguration(), null);
        launcher = new ResourceLauncher(processor);
        processor.addApplication(new VirtualFileSystemApplication());
        ApplicationContextImpl.setCurrent(new ApplicationContextImpl(null, null, ProviderBinder.getInstance()));

        // RUNTIME VARIABLES
        User user = new UserImpl("john", "john", null, Arrays.asList("workspace/developer"));
        EnvironmentContext.getCurrent().setUser(user);
    }

