    @Override
    public Path getVirtualFilePath() {
        checkExist();
        MemoryVirtualFile parent = this.parent;
        if (parent == null) {
            return Path.ROOT; // for root folder
        }
        // Reuse if already cached
        if (path != null) {
            return path;
        }
        // Calculate based on parent path and cache the result
        Path parentPath = parent.getVirtualFilePath();
        path = parentPath.newPath(getName());
        return path;
    }

