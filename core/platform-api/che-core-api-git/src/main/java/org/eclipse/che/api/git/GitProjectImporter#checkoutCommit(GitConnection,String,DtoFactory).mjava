    private void checkoutCommit(GitConnection git, String commit, DtoFactory dtoFactory) throws GitException {
        final CheckoutRequest request = dtoFactory.createDto(CheckoutRequest.class).withName("temp")
                                                  .withCreateNew(true)
                                                  .withStartPoint(commit);
        try {
            git.checkout(request);
        } catch (GitException e) {
            LOG.warn("Git exception on commit checkout", e);
            throw new GitException(
                    String.format("Unable to checkout commit %s. Make sure it exists and can be accessed.", commit), e);
        }
    }

