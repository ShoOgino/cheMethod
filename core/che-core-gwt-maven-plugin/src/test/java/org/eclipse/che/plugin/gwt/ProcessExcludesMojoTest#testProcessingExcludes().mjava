  /**
   * Tests the ability of the plugin to process IDE GWT module (IDE.gwt.xml) to prevent inheriting
   * the GWT modules of the excluded IDE plugins.
   */
  @Test
  public void testProcessingExcludes() throws Exception {
    File projectCopy = resources.getBasedir("project");
    File pom = new File(projectCopy, "pom.xml");
    assertTrue(pom.exists());

    ProcessExcludesMojo mojo = (ProcessExcludesMojo) rule.lookupMojo("process-excludes", pom);
    assertNotNull(mojo);

    configureMojo(mojo, projectCopy);
    mojo.execute();

    File fullGwtXml =
        new File(
            projectCopy,
            "classes/org/eclipse/che/ide/Full" + FULL_IDE_GWT_MODULE_SUFFIX + ".gwt.xml");
    assertTrue(fullGwtXml.exists());

    String fullGwtXmlContent = FileUtils.fileRead(fullGwtXml);
    assertFalse(fullGwtXmlContent.contains("org.eclipse.che.ide.ext.help.HelpAboutExtension"));

    File ideGwtXml = new File(projectCopy, "classes/org/eclipse/che/ide/IDE.gwt.xml");
    assertTrue(ideGwtXml.exists());

    String ideGwtXmlContent = FileUtils.fileRead(ideGwtXml);
    assertFalse(ideGwtXmlContent.contains("<inherits name=\"org.eclipse.che.ide.Full\"/>"));
    assertTrue(
        ideGwtXmlContent.contains(
            "<inherits name=\"org.eclipse.che.ide.Full" + FULL_IDE_GWT_MODULE_SUFFIX + "\"/>"));
  }

