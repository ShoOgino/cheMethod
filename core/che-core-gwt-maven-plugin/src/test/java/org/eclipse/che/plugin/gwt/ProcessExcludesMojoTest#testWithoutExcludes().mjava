  /**
   * Tests that plugins doesn't modify the IDE GWT module (IDE.gwt.xml) if there are no excluded
   * plugins.
   */
  @Test
  public void testWithoutExcludes() throws Exception {
    File projectCopy = resources.getBasedir("project-without-exclusions");
    File pom = new File(projectCopy, "pom.xml");
    assertTrue(pom.exists());

    ProcessExcludesMojo mojo = (ProcessExcludesMojo) rule.lookupMojo("process-excludes", pom);
    assertNotNull(mojo);

    configureMojo(mojo, projectCopy);
    mojo.execute();

    File outputDirectory = (File) rule.getVariableValueFromObject(mojo, "outputDirectory");
    File expected =
        new File(
            "src/test/projects/project-without-exclusions/classes/org/eclipse/che/ide/IDE.gwt.xml");
    File actual = new File(outputDirectory, "org/eclipse/che/ide/IDE.gwt.xml");

    assertEquals(
        "IDE.gwt.xml is changed but it shouldn't.",
        StringUtils.getNestedString(FileUtils.fileRead(expected), "<module", "</module>"),
        StringUtils.getNestedString(FileUtils.fileRead(actual), "<module", "</module>"));
  }

