    /**
     * Extract field name from the with method
     */
    public static String getWithFieldName(Method method) {
        String methodName = method.getName();
        if (methodName.startsWith("with")) {
            return getFieldName(methodName.substring(4));
        }
        throw new IllegalArgumentException("Invalid with method" + method.getName());
    }

