  public static ExecutorService monitorRejections(
      MeterRegistry registry,
      ThreadPoolExecutor executor,
      String executorName,
      Iterable<Tag> tags) {

    RejectedExecutionHandlerWrapper rejectedExecutionHandler =
        new RejectedExecutionHandlerWrapper(executor.getRejectedExecutionHandler());
    executor.setRejectedExecutionHandler(rejectedExecutionHandler);
    new ExecutorServiceMetrics(rejectedExecutionHandler, executorName, tags).bindTo(registry);
    return io.micrometer.core.instrument.binder.jvm.ExecutorServiceMetrics.monitor(
        registry, executor, executorName, tags);
  }

