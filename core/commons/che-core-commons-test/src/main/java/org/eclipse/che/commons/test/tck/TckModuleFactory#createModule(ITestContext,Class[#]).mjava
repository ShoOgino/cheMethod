    @Override
    public Module createModule(ITestContext context, Class<?> testClass) {
        final Iterator<TckModule> moduleIterator = ServiceLoader.load(TckModule.class).iterator();
        if (!moduleIterator.hasNext()) {
            throw new IllegalStateException(format("Couldn't find a TckModule configuration. " +
                                                   "You probably forgot to configure resources/META-INF/services/%s, or even " +
                                                   "provide an implementation of the TckModule which is required by the tck test class %s",
                                                   TckModule.class.getName(),
                                                   testClass.getName()));
        }
        return new CompoundModule(context, moduleIterator);
    }

