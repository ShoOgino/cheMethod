    public static File calculateDirPath(File parent, String workspaceId) {
        final int hash = workspaceId.hashCode();
        final String relPath = segments[hash & 0xff] +
                               File.separatorChar + segments[(hash >> 8) & 0xff] +
                               File.separatorChar + segments[(hash >> 16) & 0xff] +
                               File.separatorChar + workspaceId;
        return new File(parent, relPath);
    }

