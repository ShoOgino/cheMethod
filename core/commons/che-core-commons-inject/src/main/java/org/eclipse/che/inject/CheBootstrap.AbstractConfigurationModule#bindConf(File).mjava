        protected void bindConf(File confDir) {
            final File[] files = confDir.listFiles();
            if (files != null) {
                for (File f : files) {
                    if (!f.isDirectory()) {
                        if ("properties".equals(ext(f.getName()))) {
                            Properties properties = new Properties();
                            try (Reader reader = Files.newBufferedReader(f.toPath(), Charset.forName("UTF-8"))) {
                                properties.load(reader);
                            } catch (IOException e) {
                                throw new IllegalStateException(String.format("Unable to read configuration file %s", f), e);
                            }
                            bindProperties(properties);
                        }
                    }
                }
            }
        }

