    /* (Intentionally not included in javadoc)
     * Returns the size of the string that will be created by toString or toOSString.
     */
    private int computeLength() {
        int length = 0;
        if (device != null)
            length += device.length();
        if ((separators & HAS_LEADING) != 0)
            length++;
        if ((separators & IS_UNC) != 0)
            length++;
        //add the segment lengths
        int max = segments.length;
        if (max > 0) {
            for (String segment : segments) {
                length += segment.length();
            }
            //add the separator lengths
            length += max - 1;
        }
        if ((separators & HAS_TRAILING) != 0)
            length++;
        return length;
    }

