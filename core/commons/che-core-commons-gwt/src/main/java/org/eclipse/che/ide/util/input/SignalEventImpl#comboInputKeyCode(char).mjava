    /**
     * Because we must use keypress events for FF, in order to get repeats,
     * but prefer keydowns for combo type events for the other browsers,
     * we need to convert the case here.
     *
     * @param letter
     */
    private final int comboInputKeyCode(char letter) {
        // TODO(danilatos): Check the compiled javascript to make sure it does simple
        // numerical operations and not string manipulations and conversions... char is
        // used all over this file
        return UserAgent.isFirefox() ? letter + 'a' - 'A' : letter;
    }

