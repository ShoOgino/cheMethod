    @Test
    public void shouldCheckRetainOperations() throws Exception {
        final Object[] arr1 = new Object[]{O1, O2};
        final Object[] arr2 = new Object[]{O2, O3};

        final Object[] result = Arrays.batchRemove(arr1, arr2, true);

        Assert.assertTrue(result.length == 1);
        Assert.assertTrue(Arrays.indexOf(result, O1) == -1);
        Assert.assertTrue(Arrays.indexOf(result, O2) == 0);
        Assert.assertTrue(Arrays.indexOf(result, O3) == -1);
    }

