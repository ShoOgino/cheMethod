    @Test
    public void updateStateTest() {
        String successOperationName = "Success";
        OperationInfo successOperation = mock(OperationInfo.class);
        OperationInfo inProgressOperation = mock(OperationInfo.class);
        presenter.operations = new ArrayList<>();
        presenter.operations.add(successOperation);
        presenter.operations.add(inProgressOperation);
        int completedState = 100 / presenter.operations.size();
        when(successOperation.getStatus()).thenReturn(SUCCESS);
        when(inProgressOperation.getStatus()).thenReturn(IN_PROGRESS);
        when(inProgressOperation.getOperationName()).thenReturn(successOperationName);

        presenter.onStatusChanged(successOperation);

        verify(view).setCurrentOperation(eq(successOperationName));
        verify(view).setProgressBarState(eq(completedState));
    }

