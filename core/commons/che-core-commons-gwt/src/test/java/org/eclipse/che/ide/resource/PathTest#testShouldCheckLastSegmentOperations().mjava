    @Test
    public void testShouldCheckLastSegmentOperations() throws Exception {
        final Path path = Path.valueOf("/foo/a/b/c/bar");

        assertTrue(path.lastSegment().equals("bar"));
        assertTrue(path.segmentCount() == 5);
        assertTrue(Arrays.equals(path.segments(), new String[]{"foo", "a", "b", "c", "bar"}));
        assertEquals(path.segment(0), "foo");
        assertEquals(path.segment(1), "a");
        assertEquals(path.segment(2), "b");
        assertEquals(path.segment(3), "c");
        assertEquals(path.segment(4), "bar");
        assertTrue(path.matchingFirstSegments(Path.valueOf("/foo/a/b/c/bar")) == 5);
        assertTrue(path.matchingFirstSegments(Path.valueOf("/foo/a/x/x/x")) == 2);
        assertTrue(path.matchingFirstSegments(Path.valueOf("/x/x/x/x/x")) == 0);
        assertTrue(path.removeFirstSegments(1).equals(Path.valueOf("a/b/c/bar")));
        assertTrue(path.removeLastSegments(1).equals(Path.valueOf("/foo/a/b/c")));
        assertTrue(path.uptoSegment(1).equals(Path.valueOf("/foo")));
        assertTrue(path.uptoSegment(2).equals(Path.valueOf("/foo/a")));
        assertTrue(path.uptoSegment(3).equals(Path.valueOf("/foo/a/b")));
        assertTrue(path.uptoSegment(4).equals(Path.valueOf("/foo/a/b/c")));
    }

