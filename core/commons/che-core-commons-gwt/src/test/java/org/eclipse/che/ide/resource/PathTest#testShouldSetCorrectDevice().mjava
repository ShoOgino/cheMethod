    @Test
    public void testShouldSetCorrectDevice() throws Exception {
        final Path path = Path.valueOf("/foo");

        assertNull(path.getDevice());

        final Path pathWithDevice = path.setDevice("mnt:");

        assertNotSame(path, pathWithDevice);
        assertFalse(path.equals(pathWithDevice));
        assertTrue(pathWithDevice.toString().equals("mnt:/foo"));
    }

