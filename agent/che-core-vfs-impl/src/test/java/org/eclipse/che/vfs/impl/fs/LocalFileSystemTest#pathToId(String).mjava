    // Copied from LocalFileSystem#virtualFileToId and adopted for tests.
    protected String pathToId(String path) {
        if ("/".equals(path)) {
            return ROOT_ID;
        }
        try {
            return Base64.encodeBase64URLSafeString((MY_WORKSPACE_ID + ':' + path).getBytes("UTF-8"));
        } catch (UnsupportedEncodingException e) {
            // Should never happen.
            throw new IllegalStateException(e.getMessage(), e);
        }
    }

