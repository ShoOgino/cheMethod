    public void testMoveFolder() throws Exception {
        ByteArrayContainerResponseWriter writer = new ByteArrayContainerResponseWriter();
        String requestPath = SERVICE_URI + "move/" + folderId + '?' + "parentId=" + destinationId;
        List<String> before = flattenDirectory(folderPath);
        final long start = System.currentTimeMillis();
        ContainerResponse response = launcher.service(HttpMethod.POST, requestPath, BASE_URI, null, null, writer, null);
        final long end = System.currentTimeMillis();
        log.info(">>>>> Move tree time: {}ms", (end - start));
        log.info(new String(writer.getBody()));
        assertEquals("Error: " + response.getEntity(), 200, response.getStatus());
        String expectedPath = destinationPath + '/' + folderName;
        assertFalse("Folder must be moved. ", exists(folderPath));
        assertTrue("Not found file in destination location. ", exists(expectedPath));
        List<String> after = flattenDirectory(expectedPath);
        before.removeAll(after);
        assertTrue(String.format("Missed items: %s", before), before.isEmpty());
    }

