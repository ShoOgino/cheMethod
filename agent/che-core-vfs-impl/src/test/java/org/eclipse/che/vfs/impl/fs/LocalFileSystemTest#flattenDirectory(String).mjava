    // Plain list of directory content.
    protected List<String> flattenDirectory(String vfsPath) {
        java.io.File directory = getIoFile(vfsPath);
        assertTrue("Not a directory ", directory.isDirectory());
        final int splitIndex = directory.getAbsolutePath().length() + 1;
        List<String> files = new ArrayList<>();
        LinkedList<java.io.File> q = new LinkedList<>();
        q.add(directory);
        while (!q.isEmpty()) {
            java.io.File current = q.pop();
            java.io.File[] list = current.listFiles(SERVICE_DIR_FILTER);
            if (list != null) {
                for (java.io.File f : list) {
                    files.add(f.getAbsolutePath().substring(splitIndex));
                    if (f.isDirectory()) {
                        q.push(f);
                    }
                }
            }
        }
        if (!files.isEmpty()) {
            java.util.Collections.sort(files);
        }
        return files;
    }

