    public List<AccessControlEntry> getEntries() {
        if (isEmpty()) {
            return Collections.emptyList();
        }
        List<AccessControlEntry> acl = new ArrayList<>(permissionMap.size());
        for (Map.Entry<Principal, Set<String>> e : permissionMap.entrySet()) {
            Set<String> basicPermissions = e.getValue();
            List<String> plainPermissions = new ArrayList<>(basicPermissions.size());
            for (String permission : e.getValue()) {
                plainPermissions.add(permission);
            }
            acl.add(DtoFactory.getInstance().createDto(AccessControlEntry.class)
                              .withPrincipal(DtoFactory.getInstance().clone(e.getKey()))
                              .withPermissions(plainPermissions)
                   );
        }
        return acl;
    }

