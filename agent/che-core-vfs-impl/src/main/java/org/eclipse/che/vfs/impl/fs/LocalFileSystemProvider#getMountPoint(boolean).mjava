    @Override
    public FSMountPoint getMountPoint(boolean create) throws ServerException {
        FSMountPoint mount = mountRef.get();
        if (mount == null && create) {
            final java.io.File workspaceMountPoint = mountStrategy.getMountPath(workspaceId);
            FSMountPoint newMount = new FSMountPoint(workspaceId, workspaceMountPoint, eventService, searcherProvider, systemFilter);
            if (mountRef.maybeSet(newMount)) {
                if (!(workspaceMountPoint.exists() || workspaceMountPoint.mkdirs())) {
                    LOG.error("Unable create directory {}", workspaceMountPoint);
                    // critical error cannot continue
                    throw new ServerException(String.format("Virtual filesystem '%s' is not available. ", workspaceId));
                }
                mount = newMount;
            }
        }
        return mount;
    }

