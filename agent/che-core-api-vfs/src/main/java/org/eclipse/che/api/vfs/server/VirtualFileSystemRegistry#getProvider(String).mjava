    public VirtualFileSystemProvider getProvider(String vfsId) throws ServerException, NotFoundException {
        String myId = id(vfsId);
        VirtualFileSystemProvider provider = providers.get(myId);
        if (provider == null) {
            VirtualFileSystemProvider newProvider = loadProvider(myId);
            if (newProvider != null) {
                provider = providers.putIfAbsent(myId, newProvider);
                if (provider == null) {
                    provider = newProvider;
                }
            } else {
                throw new ServerException(String.format("Virtual file system %s does not exist.  This is a serious error and likely occurs in an on premises configuration.  " +
                                                        "Contact support for assistance. ", vfsId));
            }
        }
        return provider;
    }

