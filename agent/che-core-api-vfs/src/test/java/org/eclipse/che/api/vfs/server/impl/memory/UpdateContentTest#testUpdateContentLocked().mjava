    public void testUpdateContentLocked() throws Exception {
        VirtualFile file = mountPoint.getVirtualFileById(fileId);
        String lockToken = file.lock(0);

        String path = SERVICE_URI + "content/" + fileId + '?' + "lockToken=" + lockToken;

        Map<String, List<String>> headers = new HashMap<>();
        List<String> contentType = new ArrayList<>();
        contentType.add(MediaType.TEXT_PLAIN);
        headers.put(HttpHeaders.CONTENT_TYPE, contentType);

        ContainerResponse response = launcher.service(HttpMethod.POST, path, BASE_URI, headers, content.getBytes(), null);
        assertEquals(204, response.getStatus());

        file = mountPoint.getVirtualFileById(fileId);
        checkFileContext(content, MediaType.TEXT_PLAIN, file);
    }

