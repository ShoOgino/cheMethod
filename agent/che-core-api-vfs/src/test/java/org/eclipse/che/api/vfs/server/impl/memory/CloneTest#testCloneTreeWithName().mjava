    public void testCloneTreeWithName() throws Exception {
        // create below tree in 'my-ws'
        // folder1
        //     folder2
        //         file1
        //     folder3
        //         folder4
        //         file2
        //         file3
        //     folder5
        //     file4
        //     file5

        VirtualFile rootFolder = srcMountPoint.getRoot();

        VirtualFile folder1 = rootFolder.createFolder("folder1");
        VirtualFile folder2 = folder1.createFolder("folder2");
        VirtualFile file1 = folder2.createFile("file1", new ByteArrayInputStream("file1 text".getBytes()));
        VirtualFile folder3 = folder1.createFolder("folder3");
        VirtualFile folder4 = folder3.createFolder("folder4");
        VirtualFile file2 = folder3.createFile("file2", new ByteArrayInputStream("file2 text".getBytes()));
        VirtualFile file3 = folder3.createFile("file3", new ByteArrayInputStream("file3 text".getBytes()));
        VirtualFile folder5 = folder1.createFolder("folder5");
        VirtualFile file4 = folder1.createFile("file4", new ByteArrayInputStream("file4 text".getBytes()));
        VirtualFile file5 = folder1.createFile("file5", new ByteArrayInputStream("file5 text".getBytes()));

        VirtualFile destination = mountPoint.getRoot().createFolder("a/b");
        // clone it to 'next-ws'
        VirtualFileSystem sourceVFS = fileSystemProvider.newInstance(null);
        Item item = sourceVFS.clone(folder1.getPath(), SOURCE_WORKSPACE_ID, destination.getPath(), "new_name");
        assertEquals("/a/b/new_name", item.getPath());

        Path basePath = destination.getVirtualFilePath().newPath("new_name");

        // check the result
        try {
            mountPoint.getVirtualFile(basePath.newPath(folder2.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(folder3.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(folder4.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(folder5.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(folder2.getVirtualFilePath().subPath(1)).toString());

            mountPoint.getVirtualFile(basePath.newPath(file1.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(file2.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(file3.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(file4.getVirtualFilePath().subPath(1)).toString());
            mountPoint.getVirtualFile(basePath.newPath(file5.getVirtualFilePath().subPath(1)).toString());
        } catch (NotFoundException e) {
            fail("Destination file not found. " + e.getMessage());
        }
    }

