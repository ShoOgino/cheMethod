    private VirtualFileEntry getVirtualFile(String workspace, String path, boolean force)
            throws ServerException, ForbiddenException, ConflictException, NotFoundException {
        VirtualFileEntry virtualFile = projectManager.getProjectsRoot(workspace).getChild(path);
        if (virtualFile != null && virtualFile.isFile()) {
            // File with same name exist already exists.
            throw new ConflictException(String.format("File with the name '%s' already exists.", path));
        } else {
            if (virtualFile == null) {
                return projectManager.getProjectsRoot(workspace).createFolder(path);
            } else if (!force) {
                // Project already exists.
                throw new ConflictException(String.format("Project with the name '%s' already exists.", path));
            }
        }
        return virtualFile;
    }

