    /**
     * Add paths of changed files to special temporary buffer recursively. Method can throw {@link ServerException}
     * when something happens with getting children.
     *
     * @param root
     *         root file which contains inner files which will be added to temporary buffer
     * @throws ServerException
     */
    public synchronized void addToBufferRecursive(@NotNull VirtualFile root) throws ServerException {
        filesBuffer.add(getValidPath(root.getPath()));

        LazyIterator<VirtualFile> children = root.getChildren(ALL);

        while (children.hasNext()) {
            addToBufferRecursive(children.next());
        }
    }

