    public static ItemReference toItemReference(FileEntry file, String workspace, UriBuilder uriBuilder)
            throws ServerException {
        return newDto(ItemReference.class).withName(file.getName())
                                          .withPath(file.getPath().toString())
                                          .withType("file")
                                          .withAttributes(file.getAttributes())
                                          .withModified(file.getModified())
                                          .withContentLength(file.getVirtualFile().getLength())
                                          .withLinks(generateFileLinks(file, workspace, uriBuilder));
    }

