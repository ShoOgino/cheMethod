    @Test
    public void notifiesNotificationListenerWhenStarted() throws Exception {
        FileWatcherNotificationHandler notificationHandler = aNotificationHandler();
        fileWatcher = new FileTreeWatcher(testDirectory, newHashSet(), notificationHandler);
        fileWatcher.startup();

        Thread.sleep(500);

        verify(notificationHandler, timeout(10000)).started(eq(testDirectory));
    }

