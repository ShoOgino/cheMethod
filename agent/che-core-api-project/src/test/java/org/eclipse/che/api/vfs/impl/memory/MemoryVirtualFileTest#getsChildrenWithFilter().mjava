    @Test
    public void getsChildrenWithFilter() throws Exception {
        VirtualFile root = getRoot();
        root.createFolder(generateFolderName());
        VirtualFile file1 = root.createFile(generateFileName(), DEFAULT_CONTENT);
        VirtualFile file2 = root.createFile(generateFileName(), DEFAULT_CONTENT);

        List<VirtualFile> expectedResult = newArrayList(file1, file2);
        Collections.sort(expectedResult);

        List<VirtualFile> children = root.getChildren(file -> file.equals(file1) || file.equals(file2));

        assertEquals(expectedResult, children);
    }

