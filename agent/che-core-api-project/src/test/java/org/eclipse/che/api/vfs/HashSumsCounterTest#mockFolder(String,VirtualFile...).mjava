    private VirtualFile mockFolder(String path, VirtualFile... children) throws Exception {
        VirtualFile folder = mock(VirtualFile.class);
        when(folder.isFolder()).thenReturn(true);
        when(folder.getPath()).thenReturn(Path.of(path));
        when(folder.getChildren()).thenReturn(newArrayList(children));
        when(folder.toString()).thenReturn(path);
        accept(folder);
        return folder;
    }

