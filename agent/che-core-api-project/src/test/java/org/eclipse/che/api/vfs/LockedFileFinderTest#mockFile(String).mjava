    private VirtualFile mockFile(String path) throws Exception {
        VirtualFile file = mock(VirtualFile.class);
        when(file.isFile()).thenReturn(true);
        when(file.getPath()).thenReturn(Path.of(path));
        when(file.toString()).thenReturn(path);
        accept(file);
        return file;
    }

