    @Test
    public void deletesSingleFileFromIndex() throws Exception {
        VirtualFileSystem virtualFileSystem = virtualFileSystem();
        VirtualFile file = virtualFileSystem.getRoot().createFolder("aaa").createFile("aaa.txt", TEST_CONTENT[2]);
        searcher.init(virtualFileSystem);

        List<String> paths = searcher.search(new QueryExpression().setText("be")).getFilePaths();
        assertEquals(newArrayList(file.getPath().toString()), paths);

        searcher.delete(file.getPath().toString(), file.isFile());

        paths = searcher.search(new QueryExpression().setText("be")).getFilePaths();
        assertTrue(paths.isEmpty());
    }

