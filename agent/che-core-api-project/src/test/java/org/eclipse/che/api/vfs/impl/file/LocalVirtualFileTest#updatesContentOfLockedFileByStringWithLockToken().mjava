    @Test
    public void updatesContentOfLockedFileByStringWithLockToken() throws Exception {
        VirtualFile root = getRoot();
        VirtualFile file = root.createFile(generateFileName(), DEFAULT_CONTENT);
        String lockToken = file.lock(0);

        file.updateContent("updated content", lockToken);

        assertionHelper.assertThatIoFileHasContent(file.getPath(), "updated content".getBytes());
        assertEquals("updated content", file.getContentAsString());
    }

