    @Test
    public void extractsArchiveToFolderAndOverwriteExistedFiles() throws Exception {
        byte[] archive = createTestZipArchive();
        VirtualFile folder = vfsRoot.createFolder("folder");
        VirtualFile arc = folder.createFolder("arc");
        VirtualFile fileOne = arc.createFolder("a").createFile("_a.txt", "xxx");
        VirtualFile fileTwo = arc.createFolder("b").createFile("_b.txt", "zzz");
        new ZipArchiver(folder).extract(new ByteArrayInputStream(archive), true, 0);

        Map<String, String> entries = getFileTreeAsList(folder).stream()
                                                               .collect(toMap(f -> getZipEntryName(folder, f),
                                                                              this::readContentUnchecked));

        assertEquals(readArchiveEntries(new ByteArrayInputStream(archive)), entries);
        assertEquals(TEST_CONTENT, fileOne.getContentAsString());
        assertEquals(TEST_CONTENT, fileTwo.getContentAsString());
    }

