    @Test
    public void failsLockFolder() throws Exception {
        VirtualFile folder = getRoot().createFolder(generateFolderName());
        try {
            folder.lock(0);
            thrown.expect(ForbiddenException.class);
        } catch (ForbiddenException e) {
            assertionHelper.assertThatLockIoFileDoesNotExist(folder.getPath());
            assertFalse(folder.isLocked());
        }
    }

