    @Test(dataProvider = "GitConnectionFactory", dataProviderClass = org.eclipse.che.git.impl.GitConnectionFactoryProvider.class)
    public void testPushRemote(GitConnectionFactory connectionFactory)
            throws GitException, IOException, URISyntaxException, UnauthorizedException {
        //given
        GitConnection connection = connectToInitializedGitRepository(connectionFactory, repository);
        GitConnection remoteConnection = connectToInitializedGitRepository(connectionFactory, remoteRepo);
        addFile(connection, "README", "README");
        connection.add(newDto(AddRequest.class).withFilepattern(Arrays.asList(".")));
        connection.commit(newDto(CommitRequest.class).withMessage("Init commit."));
        //make push
        int branchesBefore = remoteConnection.branchList(newDto(BranchListRequest.class)).size();
        //when
        connection.push(newDto(PushRequest.class).withRefSpec(Arrays.asList("refs/heads/master:refs/heads/test"))
                                                 .withRemote(remoteRepo.getAbsolutePath())
                                                 .withTimeout(-1));
        //then
        int branchesAfter = remoteConnection.branchList(newDto(BranchListRequest.class)).size();
        assertEquals(branchesAfter - 1, branchesBefore);
    }

