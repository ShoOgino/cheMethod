    public static GitConnection connectToGitRepositoryWithContent(GitConnectionFactory connectionFactory, File repository)
            throws GitException, IOException {

        GitConnection connection = connectToInitializedGitRepository(connectionFactory, repository);
        addFile(connection, "README.txt", CONTENT);
        connection.add(newDto(AddRequest.class).withFilepattern(Arrays.asList("README.txt")));
        connection.commit(newDto(CommitRequest.class).withMessage("Initial commit"));
        return connection;
    }

