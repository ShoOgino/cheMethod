    /** @see GitCommand#execute() */
    @Override
    public Void execute() throws GitException {
        if (remoteName == null) {
            throw new GitException("Remote name wasn't set.");
        }
        reset();
        commandLine.add("remote");
        if (branchesToAdd != null && !branchesToAdd.isEmpty()) {
            commandLine.add("set-branches");
            if (addBranches) {
                commandLine.add("--add");
            }
            commandLine.add(remoteName);
            commandLine.add(branchesToAdd);
        } else {
            commandLine.add("set-url");
            if (addUrl != null && !addUrl.isEmpty()) {
                commandLine.add("--add", remoteName);
                commandLine.add(addUrl);
            } else if (addPushUrl != null && !addPushUrl.isEmpty()) {
                commandLine.add("--push", remoteName);
                commandLine.add(addPushUrl);
            } else if (removeUrl != null && !removeUrl.isEmpty()) {
                commandLine.add("--delete", remoteName);
                commandLine.add(removeUrl);
            } else if (removePushUrl != null && !removePushUrl.isEmpty()) {
                commandLine.add("--delete", "--push", remoteName);
                commandLine.add(removePushUrl);
            } else if (newUrl != null) {
                commandLine.add(remoteName, newUrl);
            } else {
                throw new GitException("Url wasn't set.");
            }
        }
        start();
        return null;
    }

