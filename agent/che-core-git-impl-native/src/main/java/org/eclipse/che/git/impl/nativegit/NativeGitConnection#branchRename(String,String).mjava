    @Override
    public void branchRename(String oldName, String newName) throws GitException, UnauthorizedException {
        String branchName = getBranchRef(oldName);
        String remoteName = null;
        String remoteUri = null;

        if (branchName.startsWith("refs/remotes/")) {
            remoteName = parseRemoteName(branchName);
            remoteUri = getRemoteUri(remoteName);
        }

        branchName = remoteName != null ? parseBranchName(branchName) : oldName;

        BranchRenameCommand branchRenameCommand = nativeGit.createBranchRenameCommand();

        branchRenameCommand.setNames(branchName, newName)
                           .setRemote(remoteName)
                           .setRemoteUri(remoteUri);

        executeRemoteCommand(branchRenameCommand);
    }

