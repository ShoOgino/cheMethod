  /** Set type for existing project on vfs */
  public void setProjectType(String workspaceId, String template, String projectName)
      throws Exception {
    InputStream in = getClass().getResourceAsStream("/templates/project/" + template);
    String json = IoUtil.readAndCloseQuietly(in);

    String url = getWsAgentUrl(workspaceId);
    ProjectConfigDto project = getInstance().createDtoFromJson(json, ProjectConfigDto.class);

    requestFactory
        .fromUrl(url + "/" + projectName)
        .usePutMethod()
        .setAuthorizationHeader(machineServiceClient.getMachineApiToken(workspaceId))
        .setBody(project)
        .request();
  }

