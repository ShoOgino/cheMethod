  private void dumpHtmlCodeFromTheCurrentPage(ITestResult result, SeleniumWebDriver webDriver) {
    String testName = result.getTestClass().getName() + "." + result.getMethod().getMethodName();
    String filename = NameGenerator.generate(testName + "_", 8) + ".html";
    try {
      String pageSource = webDriver.getPageSource();
      Path dumpDirectory = Paths.get("target/htmldumps", filename);
      Files.createDirectories(dumpDirectory.getParent());
      Files.write(dumpDirectory, pageSource.getBytes(), StandardOpenOption.CREATE);
    } catch (WebDriverException | IOException e) {
      LOG.error(format("Can't dump of html source for test %s", testName), e);
    }
  }

