  /** Import project from file system into a user workspace */
  public void importProject(
      String workspaceId, Path sourceFolder, String projectName, String template) throws Exception {

    if (!Files.exists(sourceFolder)) {
      throw new IOException(format("%s not found", sourceFolder));
    }

    if (!Files.isDirectory(sourceFolder)) {
      throw new IOException(format("%s not a directory", sourceFolder));
    }

    if (PLAIN_JAVA.equals(template)) {
      write(
          createFile(sourceFolder.resolve(".project")),
          format(
                  Resources.toString(getResource("projects/jdt-ls-project-files/project"), UTF_8),
                  projectName)
              .getBytes());
      write(
          createFile(sourceFolder.resolve(".classpath")),
          toByteArray(getResource("projects/jdt-ls-project-files/classpath")));
    }

    Path zip = Files.createTempFile("project", projectName);
    ZipUtils.zipDir(sourceFolder.toString(), sourceFolder.toFile(), zip.toFile(), null);

    importZipProject(workspaceId, zip, projectName, template);
  }

