  @Override
  public TestWorkspace createWorkspace(
      TestUser owner, int memoryGB, WorkspaceTemplate template, boolean startAfterCreation)
      throws Exception {
    if (poolSize > 0 && hasDefaultValues(owner, memoryGB, template, startAfterCreation)) {
      return doGetWorkspaceFromPool();
    }

    return createWorkspace(
        generateName(),
        owner,
        memoryGB,
        startAfterCreation,
        workspaceDtoDeserializer.deserializeWorkspaceTemplate(template));
  }

