  @Provides
  public TestWorkspace getWorkspace(
      TestWorkspaceProvider testWorkspaceProvider,
      Provider<DefaultTestUser> defaultUserProvider,
      @Named("workspace.default_memory_gb") int defaultMemoryGb)
      throws Exception {

    TestWorkspace workspace =
        testWorkspaceProvider.createWorkspace(
            defaultUserProvider.get(), defaultMemoryGb, WorkspaceTemplate.DEFAULT);
    workspace.await();

    return workspace;
  }

