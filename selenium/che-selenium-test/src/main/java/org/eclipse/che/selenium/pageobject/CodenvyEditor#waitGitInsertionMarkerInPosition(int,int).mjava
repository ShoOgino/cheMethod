  /**
   * Wait for Git insertion marker in the opened editor.
   *
   * @param startLine line number of the markers start
   * @param endLine line number of the markers end
   */
  public void waitGitInsertionMarkerInPosition(int startLine, int endLine) {

    List<WebElement> rulerVcsElements =
        seleniumWebDriver.findElements(By.xpath("//div[@class='ruler vcs']/div"));

    new WebDriverWait(seleniumWebDriver, LOAD_PAGE_TIMEOUT_SEC)
        .until(
            (ExpectedCondition<Boolean>)
                webDriver -> {
                  for (int i = startLine; i <= endLine; i++) {
                    if (!"git-change-marker insertion"
                        .equals(rulerVcsElements.get(i).getAttribute("class"))) {
                      return false;
                    }
                  }
                  return true;
                });
  }

