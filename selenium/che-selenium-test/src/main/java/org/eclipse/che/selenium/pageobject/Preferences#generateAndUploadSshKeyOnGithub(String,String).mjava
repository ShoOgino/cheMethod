  public void generateAndUploadSshKeyOnGithub(String githubUsername, String githubPassword)
      throws Exception {
    waitMenuInCollapsedDropdown(Preferences.DropDownSshKeysMenu.VCS);
    selectDroppedMenuByName(Preferences.DropDownSshKeysMenu.VCS);

    loader.waitOnClosed();

    // delete github keu if it exists
    if (isSshKeyIsPresent(GITHUB_COM)) {
      deleteSshKeyByHost(GITHUB_COM);
    }

    String ideWin = seleniumWebDriver.getWindowHandle();

    // regenerate key and upload it on the gitHub
    clickOnGenerateAndUploadToGitHub();

    loader.waitOnClosed();

    // check if github key has been uploaded without authorization on github.com
    if (isSshKeyIsPresent(GITHUB_COM)) {
      closeForm();
      waitPreferencesFormIsClosed();
      return;
    }

    // login to github
    askDialog.waitFormToOpen(25);
    askDialog.clickOkBtn();
    askDialog.waitFormToClose();
    webDriverHelper.switchToNextWindow(ideWin);

    gitHub.waitAuthorizationPageOpened();
    gitHub.typeLogin(githubUsername);
    gitHub.typePass(githubPassword);
    gitHub.clickOnSignInButton();

    // it is needed for specified case when the github authorize page is not appeared
    WaitUtils.sleepQuietly(2);

    // authorize on github.com
    if (seleniumWebDriver.getWindowHandles().size() > 1) {
      gitHub.waitAuthorizeBtn();
      gitHub.clickOnAuthorizeBtn();
      seleniumWebDriver.switchTo().window(ideWin);
    }

    seleniumWebDriver.switchTo().window(ideWin);
    loader.waitOnClosed();
    waitSshKeyIsPresent(GITHUB_COM);
    loader.waitOnClosed();
    closeForm();
    waitPreferencesFormIsClosed();
  }

