  public void waitBreakpointState(
      String filePath, int lineNumber, BreakpointState state, boolean conditional) {

    String brkClass = "breakpoint";
    switch (state) {
      case ACTIVE:
        brkClass += " active";
        break;
      case INACTIVE:
        brkClass += " inactive";
        break;
      default:
        brkClass += " disabled";
    }

    WebElement webElement =
        seleniumWebDriver
            .wait(REDRAW_UI_ELEMENTS_TIMEOUT_SEC)
            .until(
                visibilityOfElementLocated(
                    xpath(
                        format(
                            "//div[@id='gwt-debug-debugger-breakpointsPanel']//div[@id='%s' and @class='%s']",
                            filePath + ":" + lineNumber, brkClass))));

    if (conditional) {
      assertEquals(webElement.getText(), "?");
    }
  }

