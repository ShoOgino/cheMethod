  public void waitBreakpointState(
      String filePath, int lineNumber, BreakpointState state, boolean conditional) {

    String breakpointClass = "breakpoint";
    switch (state) {
      case ACTIVE:
        breakpointClass += " active";
        break;
      case INACTIVE:
        breakpointClass += " inactive";
        break;
      default:
        breakpointClass += " disabled";
    }

    String breakpointXPath =
        format(
            "//div[@id='gwt-debug-debugger-breakpointsPanel']//div[@id='%s' and @class='%s']",
            filePath + ":" + lineNumber, breakpointClass);

    WebElement webElement =
        seleniumWebDriverHelper.waitVisibility(
            xpath(breakpointXPath), REDRAW_UI_ELEMENTS_TIMEOUT_SEC);

    if (conditional) {
      assertEquals(webElement.getText(), "?");
    }
  }

