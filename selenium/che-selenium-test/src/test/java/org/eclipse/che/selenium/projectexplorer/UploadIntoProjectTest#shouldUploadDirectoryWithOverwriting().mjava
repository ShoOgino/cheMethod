  @Test
  public void shouldUploadDirectoryWithOverwriting() throws IOException {
    // given
    final String uploadingHtmlFileName = "file.html";
    final String uploadingTextFileName = "readme-txt";
    final String uploadingTextFilePath = "plain-files/" + uploadingTextFileName;
    final String pathToUploadingHtmlFileInsideTheProject =
        format("%s/%s", PROJECT_NAME, uploadingHtmlFileName);
    final String pathToUploadingTextFileInsideTheProject =
        format("%s/%s", PROJECT_NAME, uploadingTextFilePath);

    final Path localPathToFolderToUpload = get(FOLDER_SOURCES.getPath());

    // open upload directory window
    openFormAndUploadFolder(localPathToFolderToUpload);
    uploadDirectoryDialogPage.clickOnUploadButton();

    // then
    projectExplorer.quickRevealToItemWithJavaScript(pathToUploadingTextFileInsideTheProject);
    projectExplorer.waitVisibleItem(pathToUploadingHtmlFileInsideTheProject);
    projectExplorer.waitVisibleItem(pathToUploadingTextFileInsideTheProject);

    // Check that uploading directory overwrites existed one
    // when change the directory - when change the files
    projectExplorer.waitAndSelectItem(pathToUploadingHtmlFileInsideTheProject);
    projectExplorer.openItemByPath(pathToUploadingHtmlFileInsideTheProject);
    editor.typeTextIntoEditor(TEXT_TO_INSERT);

    projectExplorer.waitAndSelectItem(pathToUploadingTextFileInsideTheProject);
    projectExplorer.openItemByPath(pathToUploadingTextFileInsideTheProject);
    editor.typeTextIntoEditor(TEXT_TO_INSERT);

    // when re-upload the directory with overwriting
    projectExplorer.waitAndSelectItem(PROJECT_NAME);
    openFormAndUploadFolder(localPathToFolderToUpload);

    // then
    uploadDirectoryDialogPage.selectOverwriteIfFileExistsCheckbox();
    uploadDirectoryDialogPage.clickOnUploadButton();

    // then there are no changes remained after uploading
    uploadFileDialogPage.waitOnClose();
    projectExplorer.quickRevealToItemWithJavaScript(pathToUploadingTextFileInsideTheProject);
    projectExplorer.openItemByPath(pathToUploadingTextFileInsideTheProject);

    try {
      editor.waitTextNotPresentIntoEditor(TEXT_TO_INSERT);
    } catch (WebDriverException ex) {
      fail("Known issue https://github.com/eclipse/che/issues/10437", ex);
    }

    projectExplorer.waitVisibleItem(pathToUploadingHtmlFileInsideTheProject);
    projectExplorer.openItemByPath(pathToUploadingHtmlFileInsideTheProject);
    editor.waitTextNotPresentIntoEditor(TEXT_TO_INSERT);
  }

