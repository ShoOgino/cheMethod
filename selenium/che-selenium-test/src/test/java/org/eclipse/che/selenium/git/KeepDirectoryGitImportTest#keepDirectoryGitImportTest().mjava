  // TODO should be fixed by issue https://github.com/eclipse/che/issues/6486
  @Test
  public void keepDirectoryGitImportTest() throws Exception {
    // Check the 'keep directory' from SSH Git url
    projectExplorer.waitProjectExplorer();
    makeKeepDirectoryFromGitUrl(
        "git@github.com:" + gitHubUsername + "/java-multimodule.git",
        PROJECT_NAME_1,
        DIRECTORY_NAME_1);
    projectExplorer.waitItem(PROJECT_NAME_1);
    projectExplorer.selectVisibleItem(PROJECT_NAME_1);
    projectExplorer.openItemByPath(PROJECT_NAME_1);
    loader.waitOnClosed();
    projectExplorer.waitItemIsDisappeared(PROJECT_NAME_1 + "/my-webapp");
    projectExplorer.waitItem(PROJECT_NAME_1 + "/my-lib");
    expandDirectoryMyLib(PROJECT_NAME_1);

    // Check the 'keep directory' for configured project
    loader.waitOnClosed();
    makeKeepDirectoryFromGitUrl(
        "git@github.com:" + gitHubUsername + "/java-multimodule2.git",
        PROJECT_NAME_2,
        DIRECTORY_NAME_1);
    projectExplorer.waitItem(PROJECT_NAME_2);
    projectExplorer.selectVisibleItem(PROJECT_NAME_2);
    projectExplorer.openItemByPath(PROJECT_NAME_2);
    projectExplorer.waitItemIsDisappeared(PROJECT_NAME_2 + "/my-webapp");
    projectExplorer.waitItemInVisibleArea("my-lib");
    projectExplorer.waitItem(PROJECT_NAME_2 + "/my-lib");
    projectExplorer.openItemByPath(PROJECT_NAME_2 + "/my-lib");
    projectExplorer.waitItem(PROJECT_NAME_2 + "/my-lib/src");

    // Check the 'keep directory' from https git url
    makeKeepDirectoryFromGitUrl(
        "https://github.com/" + gitHubUsername + "/java-multimodule2.git",
        PROJECT_NAME_3,
        DIRECTORY_NAME_2);
    projectExplorer.waitItem(PROJECT_NAME_3);
    projectExplorer.selectVisibleItem(PROJECT_NAME_3);
    projectExplorer.openItemByPath(PROJECT_NAME_3);
    projectExplorer.waitItem(PROJECT_NAME_3 + "/my-lib");
    projectExplorer.openItemByPath(PROJECT_NAME_3 + "/my-lib");
    projectExplorer.openItemByPath(PROJECT_NAME_3 + "/my-lib/src");
    projectExplorer.openItemByPath(PROJECT_NAME_3 + "/my-lib/src/test");
    projectExplorer.openItemByPath(PROJECT_NAME_3 + "/my-lib/src/test/java");
    projectExplorer.openItemByPath(PROJECT_NAME_3 + "/my-lib/src/test/java/hello");
    projectExplorer.openItemByPath(
        PROJECT_NAME_3 + "/my-lib/src/test/java/hello/SayHelloTest.java");
    loader.waitOnClosed();
    editor.waitActiveEditor();
    projectExplorer.waitItemIsDisappeared(PROJECT_NAME_3 + "/my-lib/src/main");
    projectExplorer.waitItemIsDisappeared(PROJECT_NAME_3 + "/my-webapp");
    projectExplorer.openContextMenuByPathSelectedItem(PROJECT_NAME_3 + "/my-lib/src/test");
    projectExplorer.clickOnItemInContextMenu(GO_INTO_ID);
    projectExplorer.waitDisappearItemByPath(PROJECT_NAME_3 + "/src/my-lib");
    projectExplorer.waitItemInVisibleArea("test");
    projectExplorer.waitItemInVisibleArea("java");
    projectExplorer.waitItemInVisibleArea("hello");
    projectExplorer.waitItemInVisibleArea("SayHelloTest.java");

    // Check the 'keep directory' from GitHub
    menu.runCommand(
        TestMenuCommandsConstants.Workspace.WORKSPACE,
        TestMenuCommandsConstants.Workspace.IMPORT_PROJECT);
    importProject.waitMainForm();
    loader.waitOnClosed();
    importProject.selectGitHubSourceItem();
    loader.waitOnClosed();
    importProject.waitLoadRepoBtn();
    importProject.clickLoadRepoBtn();
    loader.waitOnClosed();
    importProject.selectItemInAccountList(
        gitHubClientService.getName(gitHubUsername, gitHubPassword));
    importProject.selectProjectByName("java-multimodule");
    importProject.typeProjectName(PROJECT_NAME_4);
    importProject.waitKeepDirectoryIsNotSelected();
    importProject.clickOnKeepDirectoryCheckbox();
    importProject.waitKeepDirectoryIsSelected();
    importProject.typeDirectoryName("my-webapp");
    importProject.clickImportBtn();
    importProject.waitMainFormIsClosed();
    loader.waitOnClosed();
    projectExplorer.waitProjectExplorer();
    projectExplorer.waitItem(PROJECT_NAME_4);
    projectExplorer.selectVisibleItem(PROJECT_NAME_4);
    projectExplorer.openItemByPath(PROJECT_NAME_4);
    loader.waitOnClosed();
    projectExplorer.waitItemIsDisappeared(PROJECT_NAME_4 + "/my-lib");
    projectExplorer.waitItem(PROJECT_NAME_4 + "/my-webapp");
    projectExplorer.openItemByPath(PROJECT_NAME_4 + "/my-webapp");
    projectExplorer.openItemByPath(PROJECT_NAME_4 + "/my-webapp/src");
    loader.waitOnClosed();
    projectExplorer.openItemByPath(PROJECT_NAME_4 + "/my-webapp/src/main");
    loader.waitOnClosed();
    projectExplorer.waitItem(PROJECT_NAME_4 + "/my-webapp/src/main/webapp");
    projectExplorer.openContextMenuByPathSelectedItem(PROJECT_NAME_4 + "/my-webapp");
    projectExplorer.clickOnItemInContextMenu(GO_INTO_ID);
    loader.waitOnClosed();
    projectExplorer.waitItemInVisibleArea("my-webapp");
    projectExplorer.waitItemIsDisappeared(PROJECT_NAME_4);
  }

