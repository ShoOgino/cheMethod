  @Test
  public void shouldUpdateMasterByRollingStrategyWithAccessibleEditorInProcess() throws Exception {
    // prepare
    int currentRevision = getRevision();
    ide.open(workspace);
    projectExplorer.waitProjectExplorer();
    projectExplorer.waitItem(PROJECT_NAME);

    // check that master is running
    assertEquals(cheTestSystemClient.getStatus(), SystemStatus.RUNNING);

    executeRollingUpdateCommand();

    checkIdeAvailability();

    // check that che is updated
    waitRevision(currentRevision + 1);

    // check that workspace is successfully migrated to the new master
    assertTrue(testWorkspaceServiceClient.exists(workspace.getName(), defaultTestUser.getName()));

    checkIdeAvailability();
  }

