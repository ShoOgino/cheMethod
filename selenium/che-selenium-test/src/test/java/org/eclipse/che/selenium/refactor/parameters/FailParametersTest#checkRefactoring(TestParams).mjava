  private void checkRefactoring(TestParams testParamObj) throws Exception {
    setFieldsForTest(testParamObj.getNameTest());
    projectExplorer.openItemByPath(pathToCurrentPackage);
    editor.waitActive();
    editor.waitTextIntoEditor(contentFromInA);
    editor.goToCursorPositionVisible(
        testParamObj.getStrCursorPosition(), testParamObj.getLineCursorPosition());
    editor.launchRefactorForm();
    refactor.waitRenameParametersFormIsOpen();
    refactor.waitUpdateReferencesIsSelected();
    refactor.typeAndWaitNewName(testParamObj.getRefactorValue());
    if (testParamObj.isHandleRefactorWithConfirming()) {
      refactor.clickOkButtonRefactorForm();
      askDialog.acceptDialogWithText(testParamObj.getExpectedDialogTextInRefactorWidget());
    } else {
      refactor.waitTextInErrorMessage(testParamObj.getExpectedDialogTextInRefactorWidget());
      refactor.clickCancelButtonRefactorForm();
    }
    refactor.waitRenameParametersFormIsClosed();
  }

