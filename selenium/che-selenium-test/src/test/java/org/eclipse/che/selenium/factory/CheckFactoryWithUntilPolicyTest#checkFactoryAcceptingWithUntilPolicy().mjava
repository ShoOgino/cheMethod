  @Test
  public void checkFactoryAcceptingWithUntilPolicy() throws Exception {
    // first
    dashboard.open();
    testFactory.open(ide.driver());
    seleniumWebDriver.switchFromDashboardIframeToIde();
    projectExplorer.waitProjectExplorer();
    while (System.currentTimeMillis() <= INIT_TIME + ADDITIONAL_TIME) {
      if (popupDialogsBrowser.isAlertPresent()) {
        popupDialogsBrowser.acceptAlert();
        fail("Factory expired before the until period");
      }
      WaitUtils.sleepQuietly(1);
    }

    // second
    testFactory.open(ide.driver());
    new WebDriverWait(ide.driver(), PREPARING_WS_TIMEOUT_SEC)
        .until(ExpectedConditions.alertIsPresent());
    assertTrue(
        ide.driver().switchTo().alert().getText().contains(ALERT_EXPIRE_MESSAGE),
        "actual message: " + ide.driver().switchTo().alert().getText());
    popupDialogsBrowser.acceptAlert();
  }

