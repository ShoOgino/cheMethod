  @Test
  public void checkJavaMySqlAndRunApp() {
    String currentWindow;

    // create a workspace from the Java-MySql stack with the web-java-petclinic project
    dashboard.open();
    navigationBar.waitNavigationBar();
    navigationBar.clickOnMenu(WORKSPACES);
    dashboardWorkspace.waitToolbarTitleName("Workspaces");
    dashboardWorkspace.clickOnNewWorkspaceBtn();
    createWorkspace.waitToolbar();
    createWorkspace.selectStack(JAVA_MYSQL.getId());
    createWorkspace.typeWorkspaceName(WORKSPACE);
    projectSourcePage.clickAddOrImportProjectButton();
    projectSourcePage.selectSample(PROJECT_NAME);
    projectSourcePage.clickAdd();
    createWorkspace.clickCreate();

    seleniumWebDriver.switchFromDashboardIframeToIde(LOADER_TIMEOUT_SEC);
    currentWindow = seleniumWebDriver.getWindowHandle();
    projectExplorer.waitProjectExplorer();
    projectExplorer.waitItem(PROJECT_NAME, APPLICATION_START_TIMEOUT_SEC);
    projectExplorer.selectItem(PROJECT_NAME);

    // Select the db machine and perform 'show databases'
    consoles.startCommandFromProcessesArea("db", COMMON, "show databases");
    consoles.waitTabNameProcessIsPresent("db");
    for (String text : infoDataBases) {
      consoles.waitExpectedTextIntoConsole(text);
    }

    // Build and deploy the web application
    consoles.startCommandFromProcessesArea("dev-machine", RUN, BUIL_AND_DEPLOY_PROCESS);
    consoles.waitTabNameProcessIsPresent(BUIL_AND_DEPLOY_PROCESS);
    consoles.waitProcessInProcessConsoleTree(BUIL_AND_DEPLOY_PROCESS);
    consoles.waitExpectedTextIntoConsole(BUILD_SUCCESS, UPDATING_PROJECT_TIMEOUT_SEC);
    consoles.waitExpectedTextIntoConsole("Server startup in", PREPARING_WS_TIMEOUT_SEC);
    consoles.waitPreviewUrlIsPresent();

    // Run the application
    consoles.clickOnPreviewUrl();
    seleniumWebDriver.switchToNoneCurrentWindow(currentWindow);
    checkWebJavaPetclinicAppl();
    seleniumWebDriver.close();
    seleniumWebDriver.switchTo().window(currentWindow);
    seleniumWebDriver.switchFromDashboardIframeToIde();

    // Close terminal tab for 'build and deploy' process
    consoles.waitProcessInProcessConsoleTree(BUIL_AND_DEPLOY_PROCESS);
    consoles.waitTabNameProcessIsPresent(BUIL_AND_DEPLOY_PROCESS);
    consoles.closeProcessByTabName(BUIL_AND_DEPLOY_PROCESS);
    askDialog.acceptDialogWithText(MSG_CLOSE_PROCESS);
    consoles.waitProcessIsNotPresentInProcessConsoleTree(BUIL_AND_DEPLOY_PROCESS);
    consoles.waitTabNameProcessIsNotPresent(BUIL_AND_DEPLOY_PROCESS);

    // Check that tomcat is not running
    consoles.selectProcessByTabName("Terminal");
    loader.waitOnClosed();
    terminal.typeIntoTerminal("ps ax | grep tomcat8");
    terminal.typeIntoTerminal(ENTER.toString());
    terminal.waitExpectedTextNotPresentTerminal("catalina.startup.Bootstrap start");
  }

