  @Test
  public void checkDiffView() throws InterruptedException {
    projectExplorer.waitProjectExplorer();
    menu.runCommand(WORKSPACE, IMPORT_PROJECT);
    subversion.waitAndTypeImporterAsSvnInfo(
        svnRepo2urlProvider.get(),
        PROJECT_NAME,
        svnUsernameProvider.get(),
        svnPasswordProvider.get());
    importProjectFromLocation.waitMainFormIsClosed();

    wizard.waitOpenProjectConfigForm();
    wizard.clickSaveButton();
    wizard.waitCloseProjectConfigForm();

    loader.waitOnClosed();
    projectExplorer.waitItem(PROJECT_NAME);
    projectExplorer.openItemByPath(PROJECT_NAME);

    // Change the file 'readme'
    projectExplorer.waitItem(PROJECT_NAME);
    projectExplorer.openItemByPath(PROJECT_NAME + "/trunk");
    projectExplorer.openItemByPath(PROJECT_NAME + "/trunk/diff-view-test");
    projectExplorer.openItemByPath(PROJECT_NAME + "/trunk/diff-view-test/readme");
    editor.waitActiveEditor();
    editor.typeTextIntoEditor(Keys.ENTER.toString());
    editor.typeTextIntoEditor(Keys.ARROW_UP.toString());
    editor.typeTextIntoEditor("###### qa");
    editor.waitTextIntoEditor("###### qa");

    // Change the file 'document.html'
    projectExplorer.openItemByPath(PROJECT_NAME + "/trunk/diff-view-test/document.html");
    editor.waitActiveEditor();
    editor.typeTextIntoEditor(Keys.ENTER.toString());
    editor.typeTextIntoEditor(Keys.ARROW_UP.toString());
    editor.typeTextIntoEditor("<!*** change content ***>");
    editor.waitTextIntoEditor("<!*** change content ***>");

    projectExplorer.selectItem(PROJECT_NAME);
    menu.runCommand(SUBVERSION, SVN_COMMIT);
    subversion.waitSvnCommitFormOpened();
    subversion.clickSvnCommitDiffButton(FILE_NAME_1, FOLDER_NAME);
    loader.waitOnClosed();
    subversion.waitSvnCommitFormOpened();
    subversion.waitTextDiffView(DIFF_MESS_1);
    subversion.clickSvnCommitClosedButtonDiffView();

    // Check the diff view 'document.html' in the svn commit form
    subversion.clickSvnCommitDiffButton(FILE_NAME_2, FOLDER_NAME);
    loader.waitOnClosed();
    subversion.waitSvnCommitFormOpened();
    subversion.waitTextDiffView(DIFF_MESS_2);
    subversion.clickSvnCommitClosedButtonDiffView();
    subversion.waitSvnCommitFormOpened();
    subversion.clickSvnCommiCancelButtont();

    // Check the 'View Diff' in the svn status bar
    projectExplorer.selectItem(PROJECT_NAME + "/trunk/diff-view-test/readme");
    menu.runCommand(SUBVERSION, SVN_VIEW_DIFF);
    loader.waitOnClosed();

    subversion.waitSvnInfoPanelWithMessage(DIFF_MESS_1);
    projectExplorer.selectItem(PROJECT_NAME + "/trunk/diff-view-test/document.html");
    menu.runCommand(SUBVERSION, SVN_VIEW_DIFF);
    loader.waitOnClosed();

    subversion.waitSvnInfoPanelWithMessage(DIFF_MESS_2);
  }

