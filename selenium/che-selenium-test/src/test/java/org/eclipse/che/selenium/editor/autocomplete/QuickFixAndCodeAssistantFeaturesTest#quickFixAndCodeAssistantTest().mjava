  @Test
  public void quickFixAndCodeAssistantTest() {
    projectExplorer.waitItem(PROJECT_NAME);
    notificationsPopupPanel.waitProgressPopupPanelClose();
    consoles.closeProcessesArea();
    projectExplorer.quickExpandWithJavaScript();
    projectExplorer.openItemByVisibleNameInExplorer("AppController.java");
    editor.waitActive();

    editor.setCursorToLine(28);
    editor.typeTextIntoEditor(TEXT_FOR_WARNING);
    editor.waitMarkerInPosition(WARNING_MARKER, 28);
    editor.launchPropositionAssistPanel();
    editor.waitTextIntoFixErrorProposition("Remove 'l', keep assignments with side effects");
    editor.waitTextIntoFixErrorProposition("Remove 'l' and all assignments");
    editor.typeTextIntoEditor(Keys.ESCAPE.toString());
    editor.waitErrorPropositionPanelClosed();

    editor.launchPropositionAssistPanel();
    editor.waitTextIntoFixErrorProposition("Convert local variable to field");
    editor.waitTextIntoFixErrorProposition("Inline local variable");
    editor.typeTextIntoEditor(Keys.ESCAPE.toString());
    editor.waitErrorPropositionPanelClosed();
    loader.waitOnClosed();
    editor.typeTextIntoEditor(Keys.END.toString());
    editor.typeTextIntoEditor("\n");

    editor.typeTextIntoEditor(TEXT_FOR_ERROR);
    editor.launchAutocompleteAndWaitContainer();
    // ide.getEditor().selectItemIntoAutocompleteAndPasteByDoubleClick("null"); //TODO cursor
    // disappears IDEX-3353
    editor.enterAutocompleteProposal("null");
    projectExplorer.waitAndSelectItemByName(
        "AppController.java"); // TODO because the cursor disappears after click in the autocomplete
    // panel
    projectExplorer.openItemByVisibleNameInExplorer("AppController.java");
    editor.typeTextIntoEditor(";");
    editor.waitMarkerInPosition(ERROR_MARKER, 29);
    editor.launchPropositionAssistPanel();
    editor.waitTextIntoFixErrorProposition("Change to 'ClassDesc' (javax.rmi.CORBA)");
    editor.waitTextIntoFixErrorProposition("Change to 'ClassUtils' (org.springframework.util)");
    editor.waitTextIntoFixErrorProposition("Change to 'ClassValue' (java.lang)");
    editor.waitTextIntoFixErrorProposition("Change to 'Class' (java.lang)");
    editor.typeTextIntoEditor(Keys.ESCAPE.toString());
    editor.waitErrorPropositionPanelClosed();
    editor.launchPropositionAssistPanel();
    editor.waitTextIntoFixErrorProposition("Change to 'ClassDesc' (javax.rmi.CORBA)");
    editor.waitTextIntoFixErrorProposition("Change to 'ClassUtils' (org.springframework.util)");
    editor.waitTextIntoFixErrorProposition("Change to 'ClassValue' (java.lang)");
    editor.waitTextIntoFixErrorProposition("Change to 'Class' (java.lang)");
  }

