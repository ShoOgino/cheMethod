  @Test
  public void shouldShowAndNavigateByThreadDump() {
    assertTrue(debugPanel.getSelectedThread().contains("\"main\"@"));

    String[] frames = debugPanel.getFrames();
    assertEquals(frames.length, 1);
    assertTrue(frames[0].contains("main(String[]):19, App"));

    debugPanel.clickOnButton(DebugPanel.DebuggerButtonsPanel.RESUME_BTN_ID);
    debugPanel.waitDebugHighlightedText("this.title = title;");

    frames = debugPanel.getFrames();
    assertEquals(frames.length, 2);
    assertTrue(frames[0].contains("<init>(String, String):18, BookImpl"));
    assertTrue(frames[1].contains("main(String[]):19, App"));

    editor.closeAllTabs();

    debugPanel.selectFrame(0);
    editor.waitActiveTabFileName("BookImpl");
    assertTrue(debugPanel.getVariables().contains("title=\"java\""));

    debugPanel.selectFrame(1);
    editor.waitActiveTabFileName("App");
    assertTrue(debugPanel.getVariables().contains("args=instance of java.lang.String[0]"));

    debugPanel.selectThread("Finalizer");
    editor.waitActiveTabFileName("Object");
    assertTrue(debugPanel.getVariables().isEmpty());

    debugPanel.selectThread("main");
    editor.waitActiveTabFileName("BookImpl");
    assertTrue(debugPanel.getVariables().contains("title=\"java\""));
  }

