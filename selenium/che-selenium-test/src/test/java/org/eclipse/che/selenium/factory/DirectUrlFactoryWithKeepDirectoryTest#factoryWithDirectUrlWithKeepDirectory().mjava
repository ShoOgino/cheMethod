  @Test
  public void factoryWithDirectUrlWithKeepDirectory() throws Exception {
    String repoName = testRepo.getName();
    testFactoryWithKeepDir.authenticateAndOpen();
    projectExplorer.waitProjectExplorer();
    notificationsPopupPanel.waitProgressPopupPanelClose();
    events.clickEventLogBtn();
    events.waitExpectedMessage("Project " + repoName + " imported", UPDATING_PROJECT_TIMEOUT_SEC);

    projectExplorer.waitItem(repoName);
    projectExplorer.quickExpandWithJavaScript();
    projectExplorer.waitItem(repoName + "/my-lib/pom.xml");

    String wsId =
        workspaceServiceClient
            .getByName(seleniumWebDriver.getWorkspaceNameFromBrowserUrl(), testUser.getName())
            .getId();

    List<String> visibleItems = projectExplorer.getNamesOfAllOpenItems();
    assertTrue(visibleItems.containsAll(ImmutableList.of(repoName, "my-lib", "src", "pom.xml")));

    String projectType = projectServiceClient.getFirstProject(wsId).getType();
    assertTrue(projectType.equals("blank"));
  }

