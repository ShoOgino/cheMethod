  @Test
  public void checkLaunchingCodeServer() throws Exception {
    ide.open(testWorkspace);

    String expectedTextOnCodeServerPage =
        "GWT Code Server\n"
            + "Drag these two bookmarklets to your browser's bookmark bar:\n"
            + "Dev Mode On Dev Mode Off\n"
            + "Visit a web page that uses one of these modules:\n"
            + "GWT\n"
            + "Click \"Dev Mode On\" to start development mode.";

    projectExplorer.waitItem(projectName);
    toastLoader.waitAppeareanceAndClosing();
    projectExplorer.selectItem(projectName);
    projectExplorer.invokeCommandWithContextMenu(COMMON, projectName, BUILD_COMMAND);
    consoles.waitExpectedTextIntoConsole(BUILD_SUCCESS, 600);
    projectExplorer.invokeCommandWithContextMenu(COMMON, projectName, RUN_GWT_COMMAND);
    consoles.waitExpectedTextIntoConsole("The code server is ready", APPLICATION_START_TIMEOUT_SEC);

    String url =
        workspaceServiceClient.getServerByExposedPort(testWorkspace.getId(), "9876/tcp").getUrl();
    ide.driver().get(url);

    new WebDriverWait(ide.driver(), REDRAW_UI_ELEMENTS_TIMEOUT_SEC)
        .until(
            ExpectedConditions.textToBePresentInElementLocated(
                By.tagName("body"), expectedTextOnCodeServerPage));
  }

