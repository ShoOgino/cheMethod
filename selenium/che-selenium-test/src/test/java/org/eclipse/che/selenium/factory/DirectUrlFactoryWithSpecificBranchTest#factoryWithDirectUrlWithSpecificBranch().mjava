  @Test
  public void factoryWithDirectUrlWithSpecificBranch() {
    String repositoryName = testAuxiliaryRepo.getName();
    final String wsTheiaIdeTerminalTitle = "theia-ide terminal 0";
    List<String> expectedItemsAfterCloning = Arrays.asList("my-lib", "my-webapp", "src", "pom.xml");

    testFactoryWithSpecificBranch.authenticateAndOpen();

    theiaIde.switchToIdeFrame();
    theiaIde.waitTheiaIde();
    theiaIde.waitLoaderInvisibility();
    theiaIde.waitNotificationEqualsTo("Che Workspace: Finished cloning projects.");
    theiaIde.waitNotificationDisappearance(
        "Che Workspace: Finished cloning projects.", UPDATING_PROJECT_TIMEOUT_SEC);

    theiaProjectTree.waitFilesTab();
    theiaProjectTree.clickOnFilesTab();
    theiaProjectTree.waitProjectsRootItem();

    theiaProjectTree.waitItem(repositoryName);
    theiaProjectTree.openItem(repositoryName);
    theiaProjectTree.openItem(repositoryName + "/my-lib");
    theiaProjectTree.waitItem(repositoryName + "/my-lib/src");

    expectedItemsAfterCloning.forEach(
        name -> {
          theiaProjectTree.isItemVisible(repositoryName + "/" + name);
        });

    // check specific branch
    openTerminalByProposal("theia-ide");
    theiaTerminal.waitTab(wsTheiaIdeTerminalTitle);
    theiaTerminal.clickOnTab(wsTheiaIdeTerminalTitle);
    theiaTerminal.performCommand("cd " + repositoryName);
    theiaTerminal.performCommand("git status");
    theiaTerminal.waitTerminalOutput("On branch " + SECOND_BRANCH_NAME, 0);
  }

