  @Test
  public void factoryWithDirectUrlWithSpecificBranch() {
    String repositoryName = testAuxiliaryRepo.getName();
    final String wsTheiaIdeTerminalTitle = "theia-ide terminal 0";
    List<String> expectedItemsAfterCloning =
        Arrays.asList("my-lib", "my-webapp", "my-lib/src", "pom.xml");

    testFactoryWithSpecificBranch.authenticateAndOpen();

    theiaIde.switchToIdeFrame();
    theiaIde.waitTheiaIde();
    theiaIde.waitLoaderInvisibility();
    theiaIde.waitNotificationDisappearance(
        "Che Workspace: Finished cloning projects.", UPDATING_PROJECT_TIMEOUT_SEC);

    theiaProjectTree.waitFilesTab();
    theiaProjectTree.clickOnFilesTab();
    theiaProjectTree.waitItem(repositoryName);
    theiaIde.waitAllNotificationsClosed();
    theiaProjectTree.expandItem(repositoryName);
    theiaProjectTree.waitItem(repositoryName + "/pom.xml");
    theiaProjectTree.expandItem(repositoryName + "/my-lib");
    theiaProjectTree.waitItem(repositoryName + "/my-lib/src");
    expectedItemsAfterCloning.forEach(
        name -> {
          try {
            theiaProjectTree.waitItem(repositoryName + "/" + name);
          } catch (TimeoutException ex) {
            seleniumWebDriver.navigate().refresh();
            theiaProjectTree.waitItem(repositoryName + "/" + name);
          }
        });

    // check specific branch
    assertEquals(theiaIde.getBranchName(), SECOND_BRANCH_NAME);
  }

