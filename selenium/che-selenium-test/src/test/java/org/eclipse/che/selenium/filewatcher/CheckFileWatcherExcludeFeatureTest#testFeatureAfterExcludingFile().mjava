  @Test
  public void testFeatureAfterExcludingFile() {
    String fileNameForExluding = "README.md";
    String pathToExcludedFile = PROJECT_NAME + "/" + fileNameForExluding;

    projectExplorer.waitItem(PROJECT_NAME);
    projectExplorer.openItemByVisibleNameInExplorer(fileNameForExluding);
    editor.waitActive();

    // Check that changes with file in the Terminal appeared in the Editor
    terminal.selectTerminalTab();
    terminal.waitTerminalConsole();
    terminal.waitTerminalIsNotEmpty();
    terminal.typeIntoTerminal(format("cd /projects/%s%s", PROJECT_NAME, ENTER));
    terminal.waitExpectedTextIntoTerminal("/projects/" + PROJECT_NAME);
    terminal.typeIntoTerminal(format("df > %s%s", fileNameForExluding, ENTER));
    editor.selectTabByName(fileNameForExluding);
    editor.waitTextIntoEditor("Filesystem");

    // Add the file to exclude and check that the file content in the Editor is not changed
    doFileWatcherExcludeOperation(pathToExcludedFile, ADD_TO_FILE_WATCHER_EXCLUDES);

    terminal.selectTerminalTab();
    terminal.waitTerminalConsole();
    terminal.waitTerminalIsNotEmpty();
    terminal.typeIntoTerminal(format("cd /projects/%s%s", PROJECT_NAME, ENTER));
    terminal.waitExpectedTextIntoTerminal("/projects/" + PROJECT_NAME);
    terminal.typeIntoTerminal(format("pwd > %s%s", fileNameForExluding, ENTER));
    editor.selectTabByName(fileNameForExluding);
    editor.waitTextNotPresentIntoEditor("/projects/" + PROJECT_NAME);

    // Close file and open again and check that the file content is changed
    editor.clickOnCloseFileIcon(fileNameForExluding);
    projectExplorer.openItemByVisibleNameInExplorer(fileNameForExluding);
    editor.waitActive();
    editor.waitTextIntoEditor("/projects/" + PROJECT_NAME);
    doFileWatcherExcludeOperation(pathToExcludedFile, REMOVE_FROM_FILE_WATCHER_EXCLUDES);

    editor.closeAllTabsByContextMenu();
  }

