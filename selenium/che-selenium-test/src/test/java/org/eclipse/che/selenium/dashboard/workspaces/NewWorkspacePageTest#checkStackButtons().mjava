  @Test
  public void checkStackButtons() {
    newWorkspace.waitPageLoad();
    newWorkspace.waitQuickStartButton();
    newWorkspace.waitStacks(EXPECTED_QUICK_START_STACKS);
    newWorkspace.waitStacksCount(EXPECTED_QUICK_START_STACKS_COUNT);

    // single machine stacks
    newWorkspace.clickOnSingleMachineButton();
    newWorkspace.waitStacks(EXPECTED_SINGLE_MACHINE_STACKS);
    newWorkspace.waitStacksCount(EXPECTED_SINGLE_MACHINE_STACKS_COUNT);

    // all stacks
    newWorkspace.clickOnAllButton();
    newWorkspace.waitStacks(EXPECTED_ALL_STACKS);
    newWorkspace.waitStacksCount(EXPECTED_ALL_STACKS_COUNT);

    // multi-machine stacks
    newWorkspace.clickOnMultiMachineButton();
    newWorkspace.waitStacks(EXPECTED_MULTI_MACHINE_STACKS);
    newWorkspace.waitStacksCount(EXPECTED_MULTI_MACHINE_STACKS_COUNT);

    // check that only expected stacks are displayed and no duplicates are presented
    newWorkspace.clickOnAllButton();
    newWorkspace.waitStacks(EXPECTED_SINGLE_MACHINE_STACKS);
    newWorkspace.waitStacks(EXPECTED_MULTI_MACHINE_STACKS);
    newWorkspace.waitStacksCount(
        EXPECTED_SINGLE_MACHINE_STACKS_COUNT + EXPECTED_MULTI_MACHINE_STACKS_COUNT);

    // quick start stacks
    newWorkspace.clickOnQuickStartButton();
    newWorkspace.waitStacksOrder(EXPECTED_QUICK_START_STACKS);
    newWorkspace.clickNameButton();

    try {
      newWorkspace.waitStacksOrder(EXPECTED_QUICK_START_STACKS_REVERSE_ORDER);
    } catch (TimeoutException ex) {
      // remove try-catch block after issue has been resolved
      fail("Known issue https://github.com/eclipse/che/issues/5650", ex);
    }

    newWorkspace.clickNameButton();
    newWorkspace.waitStacksOrder(EXPECTED_QUICK_START_STACKS);
  }

