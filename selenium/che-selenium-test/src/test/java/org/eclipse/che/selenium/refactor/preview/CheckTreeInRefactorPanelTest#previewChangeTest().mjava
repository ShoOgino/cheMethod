  @Test
  public void previewChangeTest() {
    projectExplorer.waitProjectExplorer();
    loader.waitOnClosed();
    projectExplorer.waitItem(PROJECT_NAME);
    loader.waitOnClosed();
    projectExplorer.quickExpandWithJavaScript();
    loader.waitOnClosed();
    projectExplorer.openItemByPath(
        PROJECT_NAME + "/src/main/java/org/eclipse/qa/examples/AppController.java");
    editor.waitActive();
    editor.goToCursorPositionVisible(26, 17);
    editor.launchRefactorForm();
    refactorPanel.waitRenameParametersFormIsOpen();
    refactorPanel.typeAndWaitNewName("a3");
    refactorPanel.clickPreviewButtonRefactorForm();
    refactorPanel.clickOnItemByNameAndPosition("AppController.java", 0);
    loader.waitOnClosed();
    refactorPanel.clickOnExpandItemByNameAndPosition("AppController", 0);
    refactorPanel.clickOnExpandItemByNameAndPosition("AppController", 1);
    refactorPanel.clickOnExpandItemByNameAndPosition("handleRequest", 0);
    refactorPanel.setFlagItemByNameAndPosition("handleRequest", 0);
    Assert.assertFalse(
        refactorPanel.itemIsSelectedByNameAndPosition("Update local variable reference", 0),
        "This item in tree mustn't be selected.");
    Assert.assertFalse(
        refactorPanel.itemIsSelectedByNameAndPosition("Update local variable reference", 1),
        "This item in tree mustn't be selected.");
    Assert.assertFalse(
        refactorPanel.itemIsSelectedByNameAndPosition("Update local variable reference", 2),
        "This item in tree mustn't be selected.");
    Assert.assertFalse(
        refactorPanel.itemIsSelectedByNameAndPosition("Update local variable reference", 3),
        "This item in tree mustn't be selected.");
  }

