  @Test
  public void checkUpdateLibraryAfterChangingDependencyTest() throws Exception {
    projectExplorer.waitProjectExplorer();
    loader.waitOnClosed();
    projectExplorer.waitItem(PROJECT_NAME);
    consoles.closeProcessesArea();

    projectExplorer.expandPathInProjectExplorerAndOpenFile(
        PROJECT_NAME + "/src/main/java/org.eclipse.qa.examples", "AppController.java");

    projectExplorer.waitItem(PROJECT_NAME + "/pom.xml");
    projectExplorer.openItemByPath(PROJECT_NAME + "/pom.xml");

    mavenPluginStatusBar.waitClosingInfoPanel();
    checkLibraries();

    loader.waitOnClosed();
    projectExplorer.openItemByPath(PROJECT_NAME + "/pom.xml");
    loader.waitOnClosed();
    editor.waitActive();

    addNewDependency();

    mavenPluginStatusBar.waitClosingInfoPanel();
    projectExplorer.waitAndSelectItem(PROJECT_NAME);
    projectExplorer.openContextMenuByPathSelectedItem(PROJECT_NAME);
    projectExplorer.waitContextMenu();
    projectExplorer.clickOnItemInContextMenu(MAVEN);
    projectExplorer.clickOnItemInContextMenu(REIMPORT);
    projectExplorer.waitLibraryIsPresent("jackson-core-2.4.3.jar");
    projectExplorer.waitProjectExplorer();
    projectExplorer.waitItem(PROJECT_NAME + "/pom.xml");
    projectExplorer.openItemByPath(PROJECT_NAME + "/pom.xml");

    deleteDependency();

    mavenPluginStatusBar.waitClosingInfoPanel();
    projectExplorer.waitAndSelectItem(PROJECT_NAME);
    projectExplorer.openContextMenuByPathSelectedItem(PROJECT_NAME);
    projectExplorer.waitContextMenu();
    projectExplorer.clickOnItemInContextMenu(MAVEN);
    projectExplorer.clickOnItemInContextMenu(REIMPORT);
    projectExplorer.waitLibraryIsNotPresent("servlet-api-2.5.jar");
  }

