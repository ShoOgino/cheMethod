  @Test
  public void factoryWithDirectUrlWithRootFolder() throws Exception {
    String expectedMessInTheEventsPanel = "Project " + EXPECTED_PROJECT + " imported";
    List<String> expectedItemsAfterCloning =
        Arrays.asList(
            "CHANGELOG.md",
            "Dockerfile",
            "LICENSE",
            "README.md",
            "favicon.ico",
            "index.html",
            "karma-test-shim.js",
            "karma.conf.js",
            "package.json",
            "protractor.config.js",
            "styles.css",
            "systemjs.config.js",
            "tsconfig.json",
            "tslint.json",
            "typings.json",
            "wallaby.js");

    testFactoryWithRootFolder.authenticateAndOpen();

    projectExplorer.waitProjectExplorer();
    projectExplorer.waitItem(EXPECTED_PROJECT);
    notificationsPopupPanel.waitProgressPopupPanelClose();
    events.clickEventLogBtn();

    try {
      events.waitExpectedMessage(expectedMessInTheEventsPanel);
    } catch (TimeoutException ex) {
      // remove try-catch block after issue has been resolved
      fail("Known issue https://github.com/eclipse/che/issues/6440");
    }
    projectExplorer.openItemByPath(EXPECTED_PROJECT);

    String currentWsId =
        workspaceServiceClient
            .getByName(seleniumWebDriver.getWorkspaceNameFromBrowserUrl(), testUser.getName())
            .getId();
    List<String> visibleItems = projectExplorer.getNamesOfAllOpenItems();
    assertTrue(visibleItems.containsAll(expectedItemsAfterCloning));
    String currentTypeOfProject = projectServiceClient.getFirstProject(currentWsId).getType();
    assertTrue(currentTypeOfProject.equals("blank"));
  }

