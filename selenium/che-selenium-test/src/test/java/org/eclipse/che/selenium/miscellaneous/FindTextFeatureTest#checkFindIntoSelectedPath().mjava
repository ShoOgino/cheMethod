  @Test
  public void checkFindIntoSelectedPath() {
    String path1 = PROJECT_NAME + "/my-webapp/src/main/java/org/eclipse/qa/examples";
    String expectedText1 =
        format(
            "6 occurrences found in 1 file (per page results) for 'uess'. Total file count - 1\n"
                + "/%1$s/my-webapp/src/main/java/org/eclipse/qa/examples/AppController.java\n"
                + "(6 occurrences of 'uess' found)",
            PROJECT_NAME);
    String path2 = format("/%s/my-lib", PROJECT_NAME);
    String expectedText2 =
        format(
            "15 occurrences found in 2 files (per page results) for 'hello'. Total file count - 2\n"
                + "/%1$s/my-lib/src/test/java/hello/SayHelloTest.java\n"
                + "(10 occurrences of 'hello' found)\n"
                + "/%1$s/my-lib/src/main/java/hello/SayHello.java\n"
                + "(5 occurrences of 'hello' found)",
            PROJECT_NAME);

    projectExplorer.waitProjectExplorer();
    projectExplorer.waitAndSelectItem(PROJECT_NAME);
    projectExplorer.quickExpandWithJavaScript();
    projectExplorer.waitAndSelectItem(path1);

    menu.runCommand(EDIT, FIND);
    findTextPage.waitFindTextMainFormIsOpen();
    findTextPage.typeTextIntoFindField("uess");
    findTextPage.waitTextIntoFindField("uess");
    findTextPage.setAndWaitStateSearchRootCheckbox(false);
    findTextPage.waitPathIntoRootField("/" + path1);
    findTextPage.clickOnSearchButtonMainForm();
    findTextPage.waitExpectedTextInFindInfoPanel(asList(expectedText1.split("\n")));

    projectExplorer.waitAndSelectItem(PROJECT_NAME);
    findTextPage.launchFindFormByKeyboard();
    findTextPage.waitFindTextMainFormIsOpen();
    findTextPage.typeTextIntoFindField("hello");
    findTextPage.waitTextIntoFindField("hello");
    findTextPage.setAndWaitStateSearchRootCheckbox(true);
    findTextPage.clickSearchDirectoryBtn();
    configureClasspath.waitSelectPathFormIsOpen();
    configureClasspath.openItemInSelectPathForm(PROJECT_NAME);
    configureClasspath.waitItemInSelectPathForm("my-lib");
    configureClasspath.waitItemInSelectPathForm("my-webapp");
    configureClasspath.selectItemInSelectPathForm("my-lib");
    configureClasspath.clickOkBtnSelectPathForm();
    findTextPage.waitPathIntoRootField(path2);
    findTextPage.clickOnSearchButtonMainForm();
    findTextPage.waitFindInfoPanelIsOpen();
    findTextPage.waitExpectedTextInFindInfoPanel(asList(expectedText2.split("\n")));
  }

