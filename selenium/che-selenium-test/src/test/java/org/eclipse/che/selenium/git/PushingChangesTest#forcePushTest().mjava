  @Test
  public void forcePushTest() throws Exception {
    String expectedMessageAfterGitConflict =
        "failed to push 'master -> master' to '%s'. Try to merge remote changes using pull, and then push again.";
    String contentForCheckingForcePushing = "check force pushing";
    String pathToFileWitChanging =
        String.format("%s/%s/%s", PROJECT_NAME, PROJECT_FOLDER_NAME, "README.md");

    // do conflict with changing file and amend commit
    testProjectServiceClient.updateFile(
        ws.getId(), pathToFileWitChanging, contentForCheckingForcePushing);
    launchAmendCommitCommand();
    git.pushChanges(false);
    git.waitGitStatusBarWithMess(
        String.format(expectedMessageAfterGitConflict, testRepo.getSshUrl()));

    // Make force push and check changes on gitHub side
    git.pushChanges(true);
    git.waitGitStatusBarWithMess(String.format("Successfully pushed to %s", testRepo.getSshUrl()));
    assertEquals(
        testRepo.getFileContent(PROJECT_FOLDER_NAME + "/README.md"),
        contentForCheckingForcePushing);
  }

