  @Test
  public void downloadAllProjectsTest() throws IOException {
    // given
    List<String> expectedPackageFileList =
        asList(
            "TestProject1/.che/classpath",
            "TestProject1/README.md",
            "TestProject1/pom.xml",
            "TestProject1/src/main/java/org/eclipse/qa/examples/AppController.java",
            "TestProject1/src/main/webapp/WEB-INF/jsp/guess_num.jsp",
            "TestProject1/src/main/webapp/WEB-INF/spring-servlet.xml",
            "TestProject1/src/main/webapp/WEB-INF/web.xml",
            "TestProject1/src/main/webapp/index.jsp",
            "TestProject2/.che/classpath",
            "TestProject2/README.md",
            "TestProject2/pom.xml",
            "TestProject2/src/main/java/org/eclipse/qa/examples/AppController.java",
            "TestProject2/src/main/webapp/WEB-INF/jsp/guess_num.jsp",
            "TestProject2/src/main/webapp/WEB-INF/spring-servlet.xml",
            "TestProject2/src/main/webapp/WEB-INF/web.xml",
            "TestProject2/src/main/webapp/index.jsp");

    // when
    menu.runCommand(WORKSPACE, DOWNLOAD_AS_ZIP);

    // then
    assertEquals(
        getPackageFileList(DOWNLOADED_PROJECTS_PACKAGE_NAME), expectedPackageFileList.toString());
  }

