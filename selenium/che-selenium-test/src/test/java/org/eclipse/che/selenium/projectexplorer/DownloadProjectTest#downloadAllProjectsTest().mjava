  @Test
  public void downloadAllProjectsTest() throws IOException {
    // given
    List<String> expectedPackageFileList =
        asList(
            "TestProject1/.classpath",
            "TestProject1/.project",
            "TestProject1/.settings/org.eclipse.jdt.apt.core.prefs",
            "TestProject1/.settings/org.eclipse.jdt.core.prefs",
            "TestProject1/.settings/org.eclipse.m2e.core.prefs",
            "TestProject1/README.md",
            "TestProject1/pom.xml",
            "TestProject1/src/main/java/org/eclipse/qa/examples/AppController.java",
            "TestProject1/src/main/webapp/WEB-INF/jsp/guess_num.jsp",
            "TestProject1/src/main/webapp/WEB-INF/spring-servlet.xml",
            "TestProject1/src/main/webapp/WEB-INF/web.xml",
            "TestProject1/src/main/webapp/index.jsp",
            "TestProject2/.classpath",
            "TestProject2/.project",
            "TestProject2/.settings/org.eclipse.jdt.apt.core.prefs",
            "TestProject2/.settings/org.eclipse.jdt.core.prefs",
            "TestProject2/.settings/org.eclipse.m2e.core.prefs",
            "TestProject2/pom.xml",
            "TestProject2/src/main/java/org/eclipse/qa/examples/AppController.java",
            "TestProject2/src/main/webapp/WEB-INF/jsp/hello_view.jsp",
            "TestProject2/src/main/webapp/WEB-INF/spring-servlet.xml",
            "TestProject2/src/main/webapp/WEB-INF/web.xml",
            "TestProject2/src/main/webapp/index.jsp");

    // when
    menu.runCommand(WORKSPACE, DOWNLOAD_AS_ZIP);

    // then
    assertEquals(getPackageFileList(DOWNLOADED_PROJECTS_PACKAGE_NAME), expectedPackageFileList);
  }

