  @Test
  public void checkTest2() {
    projectExplorer.openItemByPath(PROJECT_NAME + "/src/main/java/test2");
    projectExplorer.openItemByPath(PROJECT_NAME + "/src/main/java/test2/fred");
    projectExplorer.openItemByPath(PROJECT_NAME + "/src/main/java/test2/fred/A.java");
    editor.waitActive();
    editor.waitTextNotPresentIntoEditor(TEST2_FRED_OUT);
    editor.closeFileByNameWithSaving("A");
    projectExplorer.openItemByPath(PROJECT_NAME + "/src/main/java/test2/r");
    projectExplorer.waitAndSelectItem(PROJECT_NAME + "/src/main/java/test2/r");
    menu.runCommand(
        TestMenuCommandsConstants.Assistant.ASSISTANT,
        TestMenuCommandsConstants.Assistant.Refactoring.REFACTORING,
        TestMenuCommandsConstants.Assistant.Refactoring.RENAME);
    refactor.waitRenamePackageFormIsOpen();
    loader.waitOnClosed();
    refactor.sendKeysIntoField("test2.p1");
    refactor.waitTextIntoNewNameField("test2.p1");
    refactor.setAndWaitStateUpdateReferencesCheckbox(true);
    refactor.setAndWaitStateRenameSubpackagesCheckbox(true);
    refactor.setAndWaitStateUpdateNonJavaFilesCheckbox(false);
    refactor.clickOkButtonRefactorForm();
    loader.waitOnClosed();
    refactor.waitRenamePackageFormIsClosed();
    projectExplorer.waitItemInvisibility(PROJECT_NAME + "/src/main/java/test2/r");
    projectExplorer.waitItem(PROJECT_NAME + "/src/main/java/test2/p1");
    projectExplorer.openItemByPath(PROJECT_NAME + "/src/main/java/test2/fred/A.java");
    loader.waitOnClosed();
    editor.waitTextIntoEditor(TEST2_FRED_OUT);
    editor.closeFileByNameWithSaving("A");
  }

