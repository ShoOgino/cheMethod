  @Test
  public void checkRecreateUpdateStrategy() throws Exception {

    int requestAttempts = 100;
    int requestTimeoutInSec = 6;

    // open a user workspace and send request for preparing to shutdown
    ide.open(workspace);

    cheTestSystemClient.stop();

    // reopen the workspace and make sure that this one is not available after suspending system
    ide.open(workspace);
    projectExplorer.waitProjectExplorerDisappearance(requestTimeoutInSec);
    terminal.waitTerminalIsNotPresent(requestTimeoutInSec);

    // performs rollout
    hotUpdateUtil.executeMasterPodUpdateCommand();
    cheTestSystemClient.waitWorkspaceMasterStatus(
        requestAttempts, requestTimeoutInSec, SystemStatus.RUNNING);

    // After rollout updating - deployment should be increased on 1
    hotUpdateUtil.waitMasterPodRevision(cheDeploymentBeforeRollout + 1);

    // make sure that CHE ide is available after updating again
    ide.open(workspace);
    ide.waitOpenedWorkspaceIsReadyToUse();
  }

