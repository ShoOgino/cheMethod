  @BeforeClass
  public void prepare() throws Exception {
    projectName = NameGenerator.generate("project", 4);

    WorkspaceConfigDto workspace =
        workspaceDtoDeserializer.deserializeWorkspaceTemplate(CODENVY_UBUNTU_JDK8);

    workspace
        .getEnvironments()
        .get("replaced_name")
        .getMachines()
        .get("dev-machine")
        .getServers()
        .put(
            GWT_CODESERVER_NAME,
            newDto(ServerConfigDto.class).withProtocol("http").withPort("9876"));

    testWorkspace =
        new TestWorkspaceImpl(
            NameGenerator.generate("check-gwt-test", 4),
            testUser,
            4,
            workspace,
            workspaceServiceClient);

    URL resource = getClass().getResource("/projects/web-gwt-java-simple");
    testProjectServiceClient.importProject(
        testWorkspace.getId(),
        Paths.get(resource.toURI()),
        projectName,
        ProjectTemplates.MAVEN_SPRING);
    testCommandServiceClient.createCommand(
        "cd /projects/" + projectName + " && mvn clean install -DskipTests",
        BUILD_COMMAND,
        CUSTOM,
        testWorkspace.getId());

    testCommandServiceClient.createCommand(
        "mvn clean gwt:run-codeserver -f ${current.project.path} -Dgwt.bindAddress=0.0.0.0",
        RUN_GWT_COMMAND,
        CUSTOM,
        testWorkspace.getId());
  }

