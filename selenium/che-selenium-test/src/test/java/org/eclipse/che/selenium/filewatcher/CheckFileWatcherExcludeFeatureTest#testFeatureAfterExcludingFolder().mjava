  @Test
  public void testFeatureAfterExcludingFolder() {
    String fileNameForExcluding = "AppController.java";
    String pathToJavaFile =
        format("/projects/%s/src/main/java/org/eclipse/qa/examples", PROJECT_NAME);

    // Exclude 'src' folder
    doFileWatcherExcludeOperation(
        PROJECT_NAME + "/" + FOLDER_NAME_FOR_EXCLUDE, ADD_TO_FILE_WATCHER_EXCLUDES);

    projectExplorer.waitItem(PROJECT_NAME);
    projectExplorer.openItemByVisibleNameInExplorer(fileNameForExcluding);
    editor.waitActiveEditor();

    // Change content of file from the excluded folder
    terminal.selectTerminalTab();
    terminal.waitTerminalConsole();
    terminal.waitTerminalIsNotEmpty();
    terminal.typeIntoTerminal(format("cd %s%s", pathToJavaFile, ENTER));
    terminal.waitExpectedTextIntoTerminal(pathToJavaFile);
    terminal.typeIntoTerminal(
        format(
            "pwd | cat - %s > temp && mv temp %s%s",
            fileNameForExcluding, fileNameForExcluding, ENTER));

    // Check that content in the excluded file is not changed in the Editor
    editor.selectTabByName("AppController");
    editor.waitTextNotPresentIntoEditor(pathToJavaFile);

    // Reopen the file and check that its content changed
    editor.clickOnCloseFileIcon("AppController");
    projectExplorer.openItemByVisibleNameInExplorer(fileNameForExcluding);
    editor.waitActiveEditor();
    editor.waitTextIntoEditor(pathToJavaFile);
    doFileWatcherExcludeOperation(
        PROJECT_NAME + "/" + FOLDER_NAME_FOR_EXCLUDE, REMOVE_FROM_FILE_WATCHER_EXCLUDES);

    editor.closeAllTabsByContextMenu();
  }

