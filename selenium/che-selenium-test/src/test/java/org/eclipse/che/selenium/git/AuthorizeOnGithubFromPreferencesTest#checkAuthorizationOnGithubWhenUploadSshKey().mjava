  @Test
  public void checkAuthorizationOnGithubWhenUploadSshKey() throws Exception {
    String ideWin = seleniumWebDriver.getWindowHandle();

    // generate and upload github ssh key
    ide.open(ws);
    openPreferencesVcsForm();
    preferences.clickOnGenerateAndUploadToGitHub();

    // login to github
    askDialog.waitFormToOpen(25);
    askDialog.clickOkBtn();
    askDialog.waitFormToClose();
    seleniumWebDriverHelper.switchToNextWindow(ideWin);

    gitHub.waitAuthorizationPageOpened();
    gitHub.typeLogin(gitHubUsername);
    gitHub.typePass(gitHubPassword);
    gitHub.clickOnSignInButton();

    // authorize on github.com
    gitHub.waitAuthorizeBtn();
    gitHub.clickOnAuthorizeBtn();
    seleniumWebDriver.switchTo().window(ideWin);
    loader.waitOnClosed();
    preferences.waitSshKeyIsPresent(GITHUB_COM);

    // check that repeat of upload of ssh-key doesn't require authorization
    preferences.deleteSshKeyByHost(GITHUB_COM);
    preferences.clickOnGenerateAndUploadToGitHub();
    loader.waitOnClosed();
    preferences.waitSshKeyIsPresent(GITHUB_COM);

    // check GitHub identity is present in Keycloak account management page
    if (isMultiuser) {
      keycloakFederatedIdentitiesPage.open();

      // set to lower case because it's a normal behaviour (issue:
      // https://github.com/eclipse/che/issues/10138)
      assertEquals(
          keycloakFederatedIdentitiesPage.getGitHubIdentityFieldValue(),
          gitHubUsername.toLowerCase());
    }
  }

