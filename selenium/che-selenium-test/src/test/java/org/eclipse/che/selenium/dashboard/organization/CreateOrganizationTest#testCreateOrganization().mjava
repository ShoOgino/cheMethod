  @Test
  public void testCreateOrganization() {
    int organizationsCount = 1;

    navigationBar.waitNavigationBar();
    navigationBar.clickOnMenu(ORGANIZATIONS);
    organizationListPage.waitForOrganizationsToolbar();

    // Create a new organization
    organizationListPage.clickAddOrganizationButton();
    addOrganization.waitAddOrganization();
    addOrganization.setOrganizationName(ORGANIZATION_NAME);
    addOrganization.checkAddOrganizationButtonEnabled();
    addOrganization.clickCreateOrganizationButton();
    addOrganization.waitAddOrganizationButtonIsNotVisible();
    organizationPage.waitOrganizationTitle(ORGANIZATION_NAME);

    // Test that created organization exists and count of organizations increased
    assertTrue(navigationBar.getMenuCounterValue(ORGANIZATIONS) >= organizationsCount);
    navigationBar.waitNavigationBar();
    navigationBar.clickOnMenu(ORGANIZATIONS);
    organizationListPage.waitForOrganizationsToolbar();
    organizationListPage.waitForOrganizationsList();
    assertTrue(organizationListPage.getOrganizationListItemCount() >= organizationsCount);
    assertTrue(organizationListPage.getValues(NAME).contains(ORGANIZATION_NAME));

    organizationListPage.clickOnOrganization(ORGANIZATION_NAME);
    organizationPage.waitOrganizationName(ORGANIZATION_NAME);

    // Create sub-organization
    organizationPage.clickSubOrganizationsTab();
    organizationListPage.waitForOrganizationsList();
    organizationPage.clickAddSuborganizationButton();
    addOrganization.waitAddSubOrganization();
    addOrganization.setOrganizationName(SUB_ORGANIZATION_NAME);
    addOrganization.checkAddOrganizationButtonEnabled();
    addOrganization.clickCreateOrganizationButton();
    addOrganization.waitAddOrganizationButtonIsNotVisible();
    organizationPage.waitOrganizationTitle(ORGANIZATION_NAME + "/" + SUB_ORGANIZATION_NAME);
  }

