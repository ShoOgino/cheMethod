  @Test
  public void checkFindByFileMask() {
    String expectedText1 =
        format(
            "7 occurrences found in 3 files (per page results) for 'String'. Total file count - 3\n"
                + "/%1$s/my-webapp/src/main/java/org/eclipse/qa/examples/AppController.java\n"
                + "(4 occurrences of 'String' found)\n"
                + "/%1$s/my-lib/src/test/java/hello/SayHelloTest.java\n"
                + "(1 occurrence of 'String' found)\n"
                + "/%1$s/my-lib/src/main/java/hello/SayHello.java\n"
                + "(2 occurrences of 'String' found)",
            PROJECT_NAME);
    String expectedText2 =
        format(
            "2 occurrences found in 1 file (per page results) for 'String'. Total file count - 1\n"
                + "/%s/my-webapp/src/main/webapp/WEB-INF/jsp/guess_num.jsp\n"
                + "(2 occurrences of 'String' found)",
            PROJECT_NAME);

    projectExplorer.waitProjectExplorer();
    projectExplorer.waitAndSelectItem(PROJECT_NAME);

    // Find text with '*.java' file mask
    menu.runCommand(EDIT, FIND);
    findTextPage.waitFindTextMainFormIsOpen();
    findTextPage.typeTextIntoFindField("String");
    findTextPage.waitTextIntoFindField("String");
    findTextPage.setAndWaitFileMaskCheckbox(true);
    findTextPage.typeTextIntoFileNameFilter("*.java");
    findTextPage.waitTextIntoFileNameFilter("*.java");
    findTextPage.clickOnSearchButtonMainForm();
    findTextPage.waitFindInfoPanelIsOpen();
    findTextPage.waitExpectedTextInFindInfoPanel(asList(expectedText1.split("\n")));
    findTextPage.waitExpectedTextIsNotPresentInFindInfoPanel(expectedText2);

    // Find text with '*.jsp' file mask
    projectExplorer.waitAndSelectItem(PROJECT_NAME);
    findTextPage.launchFindFormByKeyboard();
    findTextPage.waitFindTextMainFormIsOpen();
    findTextPage.typeTextIntoFindField("String");
    findTextPage.waitTextIntoFindField("String");
    findTextPage.setAndWaitFileMaskCheckbox(true);
    findTextPage.typeTextIntoFileNameFilter("*.jsp");
    findTextPage.waitTextIntoFileNameFilter("*.jsp");
    findTextPage.clickOnSearchButtonMainForm();
    findTextPage.waitFindInfoPanelIsOpen();
    findTextPage.waitExpectedTextIsNotPresentInFindInfoPanel(expectedText1);
    findTextPage.waitExpectedTextInFindInfoPanel(asList(expectedText2.split("\n")));
  }

