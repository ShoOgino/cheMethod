  @Test
  public void checkRenameParameters15() throws Exception {
    setFieldsForTest("test15");
    projectExplorer.openItemByPath(pathToCurrentPackage + "/A.java");
    editor.waitActive();
    editor.waitTextIntoEditor(contentFromInA);
    editor.goToCursorPositionVisible(15, 15);
    editor.launchRefactorForm();
    refactor.waitRenameParametersFormIsOpen();
    refactor.setAndWaitStateUpdateReferencesCheckbox(true);
    refactor.typeAndWaitNewName("j");
    refactor.clickOkButtonRefactorForm();

    try {
      askDialog.acceptDialogWithText("Duplicate parameter j");
    } catch (TimeoutException ex) {
      // remove try-catch block after issue has been resolved
      fail("Known random failure https://github.com/eclipse/che/issues/11185");
    }

    loader.waitOnClosed();
    refactor.waitRenameParametersFormIsClosed();
    events.clearAllMessages();
    editor.waitActive();
    editor.goToCursorPositionVisible(15, 23);
    editor.launchLocalRefactor();
    editor.typeTextIntoEditor("i");
    editor.typeTextIntoEditor(Keys.ENTER.toString());
    events.waitExpectedMessage(APPLY_WORKSPACE_CHANGES, DEFAULT_TIMEOUT);
    editor.waitMarkerInvisibility(ERROR, 15);
    editor.waitTextIntoEditor(contentFromOutA);
    editor.closeFileByNameWithSaving("A");
  }

