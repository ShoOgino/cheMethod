  @Test
  public void checkRenameParameters15() throws Exception {
    // preparations
    setFieldsForTest("test15");
    projectExplorer.openItemByPath(pathToCurrentPackage + "/A.java");
    editor.waitActive();
    editor.waitTextIntoEditor(contentFromInA);
    editor.goToCursorPositionVisible(15, 15);

    // rename the 'i' parameter to the 'j'
    renameLocalVariableByRefactorForm("j");

    // accept the ask dialog about duplicate parameters
    askDialog.acceptDialogWithText("Duplicate parameter j");

    loader.waitOnClosed();
    refactor.waitRenameParametersFormIsClosed();
    events.clearAllMessages();
    editor.waitActive();
    editor.goToCursorPositionVisible(15, 23);

    // rename the 'j' parameter to the 'i'
    renameLocalVariableByRefactorForm("i");
    refactor.waitRenameParametersFormIsClosed();
    events.waitExpectedMessage(APPLY_WORKSPACE_CHANGES, DEFAULT_TIMEOUT);
    editor.waitMarkerInvisibility(ERROR, 15);
    editor.waitTextIntoEditor(contentFromOutA);
    editor.closeFileByNameWithSaving("A");
  }

