  private void createFactoryAndSwitchToWs() throws IOException {
    String currentWin = seleniumWebDriver.getWindowHandle();
    menu.runCommand(WORKSPACE, CREATE_FACTORY);
    factoryWidget.waitOpen();
    factoryWidget.typeNameFactory(FACTORY_NAME);
    factoryWidget.clickOnCreateBtn();
    factoryWidget.waitTextIntoFactoryField(ideUrlProvider.get().toString());
    factoryWidget.clickOnInvokeBtn();
    seleniumWebDriver.switchToNoneCurrentWindow(currentWin);
    loadingBehaviorPage.waitWhileLoadPageIsClosed();
    seleniumWebDriver.switchFromDashboardIframeToIde();
    try {
      projectExplorer.waitProjectExplorer(80);
    } catch (org.openqa.selenium.TimeoutException ex) {
      seleniumWebDriver.switchTo().defaultContent();
      projectExplorer.waitProjectExplorer(50);
    }
    events.clickEventLogBtn();
    try {
      events.waitExpectedMessage(CONFIGURING_PROJECT_AND_CLONING_SOURCE_CODE);
      events.waitExpectedMessage("Project " + PROJECT_NAME + " imported");
    } catch (TimeoutException ex) {
      // remove try-catch block after issue has been resolved
      fail("Known issue https://github.com/eclipse/che/issues/7253");
    }

    try {
      projectExplorer.expandPathInProjectExplorerAndOpenFile(
          PROJECT_NAME + "/" + KEEPED_DIR + "/src" + "/main" + "/java/hello",
          "GreetingController.java");
    } catch (TimeoutException ex) {
      // remove try-catch block after issue has been resolved
      fail("Known issue https://github.com/eclipse/che/issues/7959");
    }

    mavenPluginStatusBar.waitClosingInfoPanel(UPDATING_PROJECT_TIMEOUT_SEC);
    editor.waitAllMarkersDisappear(ERROR_MARKER);
  }

