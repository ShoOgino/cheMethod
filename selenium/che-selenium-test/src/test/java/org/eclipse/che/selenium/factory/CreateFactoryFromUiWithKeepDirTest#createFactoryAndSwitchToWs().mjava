  private void createFactoryAndSwitchToWs() throws IOException {
    String currentWin = seleniumWebDriver.getWindowHandle();
    menu.runCommand(WORKSPACE, CREATE_FACTORY);
    factoryWidget.waitOpen();
    factoryWidget.typeNameFactory(FACTORY_NAME);
    factoryWidget.clickOnCreateBtn();
    factoryWidget.waitTextIntoFactoryField(ideUrlProvider.get().toString());
    factoryWidget.clickOnInvokeBtn();
    seleniumWebDriver.switchToNoneCurrentWindow(currentWin);
    loadingBehaviorPage.waitWhileLoadPageIsClosed();
    seleniumWebDriver.switchFromDashboardIframeToIde();
    try {
      projectExplorer.waitProjectExplorer(80);
    } catch (org.openqa.selenium.TimeoutException ex) {
      seleniumWebDriver.switchTo().defaultContent();
      projectExplorer.waitProjectExplorer(50);
    }
    events.clickProjectEventsTab();
    events.waitExpectedMessage(CONFIGURING_PROJECT_AND_CLONING_SOURCE_CODE);
    events.waitExpectedMessage("Project " + PROJECT_NAME + " imported");
    projectExplorer.expandPathInProjectExplorerAndOpenFile(
        PROJECT_NAME + "/" + KEEPED_DIR + "/src" + "/main" + "/java/hello",
        "GreetingController.java");
    mavenPluginStatusBar.waitClosingInfoPanel(UPDATING_PROJECT_TIMEOUT_SEC);
    editor.waitAllMarkersDisappear(ERROR_MARKER);
  }

