  private void createStack(String stackName, String recipe) {
    String name = generate(stackName, 5);

    buildStackFromRecipe.selectTabByName(stackName);

    // wait for editor to be active for typing after tab selection
    WaitUtils.sleepQuietly(1);
    buildStackFromRecipe.enterRecipe(recipe);

    // wait that recipe is valid and create stack
    buildStackFromRecipe.checkRecipeIsCorrect();
    buildStackFromRecipe.waitOkButtonEnabled();
    buildStackFromRecipe.clickOnOkButton();
    buildStackFromRecipe.waitCreateStackDialogClosed();

    // check that stack was created correctly and save changes
    stackDetails.waitToolbar();
    stackDetails.setStackName(name);
    stackDetails.clickOnSaveChangesButton();
    stackDetails.waitToolbarWithStackName(name);
  }

