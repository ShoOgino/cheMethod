  @Test
  public void checkRefactorFilesFromIde() throws Exception {
    String expectedMessAfterRename = "File '" + originClassName + "' is removed";
    String expectedMessAfterMove = "File '" + renamedClassName + "' is removed";
    projectExplorer1.waitItem(PROJECT_NAME);
    prepareFiles(editor1, projectExplorer1);
    prepareFiles(editor2, projectExplorer2);
    editor1.setCursorToDefinedLineAndChar(21, 14);
    doRenameRefactor();

    try {
      checkWatching(expectedMessAfterRename);
    } catch (TimeoutException ex) {
      // remove try-catch block after issue has been resolved
      fail("https://github.com/eclipse/che/issues/5183", ex);
    }

    editor2.waitTabIsNotPresent(renamedClassName);
    doMoveRefactor();
    projectExplorer1.openItemByVisibleNameInExplorer(renamedClassName);
    events1.waitExpectedMessage(expectedMessAfterMove);
    menu1.runCommand(
        TestMenuCommandsConstants.Assistant.ASSISTANT,
        TestMenuCommandsConstants.Assistant.NAVIGATE_TO_FILE);
    projectExplorer1.expandToFileWithRevealResource(
        renamedClassName, PATH_TO_GREETING_FILE.replace(originClassName, renamedClassName));
    editor1.waitTabIsPresent(renamedClassName.replace(".java", ""));
    editor1.waitActiveEditor();
  }

