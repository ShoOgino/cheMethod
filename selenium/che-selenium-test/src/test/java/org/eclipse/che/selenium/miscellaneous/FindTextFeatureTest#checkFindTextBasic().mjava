  @Test
  public void checkFindTextBasic() {
    String expectedText =
        format(
            "9 occurrences found in 4 files (per page results) for 'String'. Total file count - 4\n"
                + "/%1$s/my-webapp/src/main/java/org/eclipse/qa/examples/AppController.java\n"
                + "(4 occurrences of 'String' found)\n"
                + "/%1$s/my-webapp/src/main/webapp/WEB-INF/jsp/guess_num.jsp\n"
                + "(2 occurrences of 'String' found)\n"
                + "/%1$s/my-lib/src/test/java/hello/SayHelloTest.java\n"
                + "(1 occurrence of 'String' found)\n"
                + "/%1$s/my-lib/src/main/java/hello/SayHello.java\n"
                + "(2 occurrences of 'String' found)",
            PROJECT_NAME);
    String findNothing = "No results found for\n'dddhhh'\n";
    String pathToQuessNumFile =
        format("/%s/my-webapp/src/main/webapp/WEB-INF/jsp/guess_num.jsp", PROJECT_NAME);
    String pathToSayHelloFile =
        format("/%s/my-lib/src/main/java/hello/SayHello.java", PROJECT_NAME);

    projectExplorer.waitProjectExplorer();
    projectExplorer.waitAndSelectItem(PROJECT_NAME);

    // Check that no occurrences found
    menu.runCommand(EDIT, FIND);
    findTextPage.waitFindTextMainFormIsOpen();
    findTextPage.waitSearchBtnMainFormIsDisabled();
    findTextPage.typeTextIntoFindField("dddhhh");
    findTextPage.waitTextIntoFindField("dddhhh");
    loader.waitOnClosed();
    findTextPage.clickOnSearchButtonMainForm();
    findTextPage.waitFindInfoPanelIsOpen();
    findTextPage.waitExpectedTextInFindInfoPanel(findNothing);

    // check find info panel when switch to processes panel
    consoles.clickOnProcessesButton();
    findTextPage.waitFindInfoPanelIsClosed();
    findTextPage.clickFindTextButton();
    findTextPage.waitFindInfoPanelIsOpen();
    consoles.closeProcessesArea();
    findTextPage.waitFindInfoPanelIsClosed();

    // Find files with 'String' text. Open 'guess_num.jsp' file and check cursor position
    projectExplorer.waitAndSelectItem(PROJECT_NAME);
    findTextPage.launchFindFormByKeyboard();
    findTextPage.waitFindTextMainFormIsOpen();
    findTextPage.typeTextIntoFindField("String");
    findTextPage.waitTextIntoFindField("String");
    findTextPage.setAndWaitStateSearchRootCheckbox(false);
    findTextPage.waitPathIntoRootField("/" + PROJECT_NAME);
    findTextPage.clickOnSearchButtonMainForm();
    findTextPage.waitFindInfoPanelIsOpen();
    findTextPage.waitExpectedTextInFindInfoPanel(asList(expectedText.split("\n")));
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_RIGHT.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_RIGHT.toString());
    findTextPage.selectItemInFindInfoPanel(
        pathToQuessNumFile,
        "25:    java.lang.String attempt = (java.lang.String)request.getAttribute(\"num\");");
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ENTER.toString());
    editor.waitActive();
    editor.waitActiveTabFileName("guess_num.jsp");
    editor.waitTextIntoEditor("String");
    assertEquals(editor.getPositionVisible(), 25);

    // Check that the Find Info panel state restored
    consoles.closeProcessesArea();
    findTextPage.waitFindInfoPanelIsClosed();
    panelSelector.selectPanelTypeFromPanelSelector(PanelSelector.PanelTypes.LEFT_BOTTOM_ID);
    findTextPage.waitFindInfoPanelIsOpen();

    // Open 'SayHello.java' file and check cursor position
    findTextPage.selectItemInFindInfoPanel(
        pathToQuessNumFile,
        "25:    java.lang.String attempt = (java.lang.String)request.getAttribute(\"num\");");
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_RIGHT.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_RIGHT.toString());
    findTextPage.sendCommandByKeyboardInFindInfoPanel(ARROW_DOWN.toString());
    findTextPage.selectItemInFindInfoPanelByDoubleClick(
        pathToSayHelloFile, "20:    public String sayHello(String name)");
    editor.waitActive();
    editor.waitActiveTabFileName("SayHello");
    editor.waitTextIntoEditor("String");
    assertEquals(editor.getPositionVisible(), 20);

    editor.closeAllTabsByContextMenu();
  }

