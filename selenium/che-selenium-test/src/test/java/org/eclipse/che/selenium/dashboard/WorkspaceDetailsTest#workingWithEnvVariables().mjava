  @Test
  public void workingWithEnvVariables() {
    dashboardWorkspace.selectTabInWorspaceMenu(TabNames.ENV_VARIABLES);

    //create a new variable, save changes and check it exists
    dashboardWorkspace.selectMachine("Environment variables", "dev-machine");
    dashboardWorkspace.clickOnAddEnvVariableButton();
    dashboardWorkspace.checkAddNewEnvVarialbleDialogIsOpen();
    dashboardWorkspace.addNewEnvironmentVariable("logi", "admin");
    dashboardWorkspace.clickOnAddDialogButton();
    clickOnSaveButton();
    Assert.assertTrue(dashboardWorkspace.checkEnvVariableExists("logi"));

    //rename the variable, save changes and check it is renamed
    Assert.assertTrue(dashboardWorkspace.checkValueExists("logi", "admin"));
    dashboardWorkspace.clickOnEditEnvVariableButton("logi");
    dashboardWorkspace.enterEnvVariableName("login");
    dashboardWorkspace.clickOnUpdateDialogButton();
    clickOnSaveButton();
    Assert.assertTrue(dashboardWorkspace.checkValueExists("login", "admin"));

    //delete the variable, save changes and check it is not exists
    dashboardWorkspace.clickOnEnvVariableCheckbox("login");
    dashboardWorkspace.clickOnDeleteBtn();
    dashboardWorkspace.clickOnDeleteDialogButton();
    clickOnSaveButton();
    dashboardWorkspace.checkValueIsNotExists("login", "admin");

    //delete all variable from db machine, check they don't exist and save changes
    dashboardWorkspace.selectMachine("Environment variables", "db");
    variables.forEach(
        (name, value) -> {
          dashboardWorkspace.clickOnDeleteEnvVariableButton(name);
          dashboardWorkspace.clickOnDeleteDialogButton();
          dashboardWorkspace.checkValueIsNotExists(name, value);
        });

    clickOnSaveButton();

    //restore variables to db machine, check they exist and save changes
    variables.forEach(
        (name, value) -> {
          loader.waitOnClosed();
          dashboardWorkspace.clickOnAddEnvVariableButton();
          dashboardWorkspace.checkAddNewEnvVarialbleDialogIsOpen();
          dashboardWorkspace.addNewEnvironmentVariable(name, value);
          dashboardWorkspace.clickOnAddDialogButton();
          Assert.assertTrue(dashboardWorkspace.checkEnvVariableExists(name));
          Assert.assertTrue(dashboardWorkspace.checkValueExists(name, value));
        });
    clickOnSaveButton();
  }

