  @Test
  public void pluginShouldBeBuilt() {
    final String pluginNameSearchSequence = "hello-world";
    final String yeomanWizardSearchSequence = ">yeom";
    final String helloWorldPluginProposal = "Hello World plug-in";
    final String goToDirectoryCommand = "cd hello-world";
    final String wsTheiaIdeTerminalTitle = "ws/theia-ide terminal 0";
    final String expectedYaomanMessage = "Yeoman generator successfully ended";
    final String expectedTerminalSuccessOutput =
        "Packaging of plugin\n"
            + "\uD83D\uDD0D Validating...✔️\n"
            + "\uD83D\uDDC2  Getting dependencies...✔️\n"
            + "\uD83D\uDDC3  Resolving files...✔️\n"
            + "✂️  Excluding files...✔️\n"
            + "✍️  Generating Assembly...✔️\n"
            + "\uD83C\uDF89 Generated plugin: hello_world.theia";
    final String backendPluginDescription = "Backend plug-in, it will run on the server side.";

    // prepare project tree
    theiaProjectTree.waitFilesTab();
    theiaProjectTree.clickOnFilesTab();
    theiaProjectTree.waitProjectsRootItem();
    theiaIde.waitNotificationDisappearance(
        "Che Workspace: Finished cloning projects.", UPDATING_PROJECT_TIMEOUT_SEC);

    // create project by "Yeoman Wizard"
    theiaIde.pressKeyCombination(Keys.LEFT_CONTROL, Keys.LEFT_SHIFT, "p");
    theiaProposalForm.waitForm();
    theiaProposalForm.enterTextToSearchField(yeomanWizardSearchSequence);
    theiaProposalForm.clickOnProposal("Yeoman Wizard");
    theiaProposalForm.waitForm();
    theiaProposalForm.enterTextToSearchField(pluginNameSearchSequence);
    seleniumWebDriverHelper.pressEnter();
    theiaProposalForm.clickOnProposal(backendPluginDescription);
    theiaProposalForm.clickOnProposal(helloWorldPluginProposal);
    theiaIde.waitNotificationMessageContains(expectedYaomanMessage, UPDATING_PROJECT_TIMEOUT_SEC);
    theiaIde.waitNotificationDisappearance(expectedYaomanMessage, UPDATING_PROJECT_TIMEOUT_SEC);

    // build plugin
    openTerminalByProposal("ws/theia-ide");
    theiaTerminal.waitTab(wsTheiaIdeTerminalTitle);
    theiaTerminal.clickOnTab(wsTheiaIdeTerminalTitle);
    theiaTerminal.performCommand(goToDirectoryCommand);
    theiaTerminal.waitTerminalOutput(goToDirectoryCommand, 0);
    theiaTerminal.clickOnTab(wsTheiaIdeTerminalTitle);
    theiaTerminal.waitTabSelected(wsTheiaIdeTerminalTitle);
    theiaTerminal.performCommand("yarn");
    try {
      theiaTerminal.waitTerminalOutput(expectedTerminalSuccessOutput, 0);
    } catch (TimeoutException ex) {
      // remove try-catch block after issue has been resolved
      fail("Known permanent failure https://github.com/eclipse/che/issues/11624", ex);
    }
  }

