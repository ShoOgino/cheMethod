  @Test
  public void checkMacrosFeature() throws Exception {
    List<String> textList;
    projectExplorer.waitProjectExplorer();
    createCommand(COMMAND_NAME, COMMAND);

    projectExplorer.waitProjectExplorer();
    loader.waitOnClosed();
    projectExplorer.selectItem(PROJECT_NAME);
    projectExplorer.openItemByPath(PROJECT_NAME);
    projectExplorer.openItemByPath(PROJECT_NAME + "/README.md");
    loader.waitOnClosed();
    editor.waitActiveEditor();
    editor.waitTabIsPresent("README.md");

    projectExplorer.invokeCommandWithContextMenu(
        ProjectExplorer.CommandsGoal.COMMON, PROJECT_NAME, COMMAND_NAME);
    console.waitIsCommandConsoleOpened(20);
    console.waitExpectedTextIntoConsole(expectedText);

    textList = Arrays.asList(console.getVisibleTextFromCommandConsole().split("\n"));
    loader.waitOnClosed();
    Assert.assertTrue(textLineOncePresent(textList, expectedText));
  }

