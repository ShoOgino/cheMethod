    @Test
    public void shouldOrderServicesWithDependenciesWhereOrderIsNotStrict() throws Exception {
        // given
        CheServicesEnvironmentImpl composeEnvironment = new CheServicesEnvironmentImpl();
        composeEnvironment.getServices().put("second", new CheServiceImpl().withDependsOn(singletonList("first")));
        composeEnvironment.getServices().put("third", new CheServiceImpl().withDependsOn(singletonList("second")));
        composeEnvironment.getServices().put("first", new CheServiceImpl().withDependsOn(emptyList()));
        composeEnvironment.getServices().put("forth", new CheServiceImpl().withDependsOn(singletonList("second")));
        composeEnvironment.getServices().put("fifth", new CheServiceImpl().withDependsOn(singletonList("second")));

        // when
        List<String> actual = strategy.order(composeEnvironment);

        // then
        assertEquals(actual.get(0), "first");
        assertEquals(actual.get(1), "second");
        assertTrue(actual.contains("third"));
        assertTrue(actual.contains("forth"));
        assertTrue(actual.contains("fifth"));
    }

