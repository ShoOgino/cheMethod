    private void selectInEditor(LinearRange selection) {
        int lineAtOffset = textEditor.getDocument().getLineAtOffset(selection.getStartOffset());
        boolean scroll = false;
        if (lineAtOffset < textEditor.getTextView().getTopIndex() || lineAtOffset > textEditor.getTextView().getBottomIndex()) {
            scroll = true;
        }
        textEditor.getDocument().setSelectedRange(selection, scroll);
    }

