    @Override
    public MarkerRegistration addMarker(final TextRange range, final String className) {
        final OrionAnnotationOverlay annotation = OrionAnnotationOverlay.create();

        OrionStyleOverlay styleOverlay = OrionStyleOverlay.create();
        styleOverlay.setStyleClass(className);

        int start = embeddedDocument.getIndexFromPosition(range.getFrom());
        int end = embeddedDocument.getIndexFromPosition(range.getTo());

        annotation.setStart(start);
        annotation.setEnd(end);
        annotation.setRangeStyle(styleOverlay);
        annotation.setType("che-marker");

        editorOverlay.getAnnotationModel().addAnnotation(annotation);
        return new MarkerRegistration() {
            @Override
            public void clearMark() {
                editorOverlay.getAnnotationModel().removeAnnotation(annotation);
            }
        };
    }

