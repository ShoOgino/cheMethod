    @Override
    public void doSave(final AsyncCallback<EditorInput> callback) {
        //If the workspace is stopped we shouldn't try to save a file
        if (isReadOnly() || appContext.getDevMachine() == null) {
            return;
        }

        this.documentStorage.saveDocument(getEditorInput(), this.document, false, new AsyncCallback<EditorInput>() {
            @Override
            public void onSuccess(EditorInput editorInput) {
                updateDirtyState(false);
                editorWidget.markClean();
                afterSave();
                if (callback != null) {
                    callback.onSuccess(editorInput);
                }
            }

            @Override
            public void onFailure(Throwable caught) {
                notificationManager.notify(constant.failedToUpdateContentOfFiles(), caught.getMessage(), FAIL, NOT_EMERGE_MODE);
                if (callback != null) {
                    callback.onFailure(caught);
                }
            }
        });
    }

