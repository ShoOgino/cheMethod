  @Override
  public TextPosition getPositionFromIndex(final int index) {
    final int line = this.editorOverlay.getModel().getLineAtOffset(index);
    if (line == -1) {
      return null;
    }
    final int lineStart = this.editorOverlay.getModel().getLineStart(line);
    if (lineStart == -1) {
      return null;
    }
    final int character = index - lineStart;
    if (character < 0) {
      return null;
    }
    return new TextPosition(line, character);
  }

