  private void select(Element element) {
    if (element == selectedElement) {
      return;
    }

    if (selectedElement != null) {
      selectedElement.removeAttribute("selected");
    }
    selectedElement = element;
    selectedElement.setAttribute("selected", "true");

    showDocTimer.cancel();
    showDocTimer.schedule(docPopup.isAttached() ? 100 : 1500);

    if (selectedElement.getOffsetTop() < this.popupBodyElement.getScrollTop()) {
      selectedElement.scrollIntoView(true);
    } else if ((selectedElement.getOffsetTop() + selectedElement.getOffsetHeight())
        > (this.popupBodyElement.getScrollTop() + this.popupBodyElement.getClientHeight())) {
      selectedElement.scrollIntoView(false);
    }
  }

