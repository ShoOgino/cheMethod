  private static <T> List<T> spliceImpl(
      List<T> list, int index, int deleteCount, boolean hasValue, T value) {
    List<T> removedArray = new ArrayList<>();
    for (int i = deleteCount; i > 0; i--) {
      T removedElem = list.remove(index);
      removedArray.add(removedElem);
    }

    if (hasValue) {
      list.add(index, value);
    }

    return removedArray;
  }

