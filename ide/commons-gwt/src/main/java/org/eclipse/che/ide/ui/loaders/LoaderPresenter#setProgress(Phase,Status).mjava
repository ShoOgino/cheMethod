    /**
     * Sets phase and status.
     *
     * @param phase
     *          phase
     * @param status
     *          status
     */
    public void setProgress(Phase phase, Status status) {
        PopupLoader popup = popups.get(phase);

        if (popup == null) {
            // Create and show a loader
            switch (phase) {
                case STARTING_WORKSPACE_RUNTIME:
                    popup = popupLoaderFactory.getPopup(locale.startingWorkspaceRuntime(), locale.startingWorkspaceRuntimeDescription());
                    break;
                case STARTING_WORKSPACE_AGENT:
                    popup = popupLoaderFactory.getPopup(locale.startingWorkspaceAgent(), locale.startingWorkspaceAgentDescription());
                    break;
                case CREATING_PROJECT:
                    popup = popupLoaderFactory.getPopup(locale.creatingProject(), locale.creatingProjectDescription());
                    break;
            }
            popups.put(phase, popup);

        } else if (Status.SUCCESS == status) {
            // Hide the loader if status is SUCCESS
            popups.remove(phase);
            popup.setSuccess();

        } else if (Status.ERROR == status) {
            // Don't hide the loader with status ERROR
            popups.remove(phase);
            popup.setError();
        }
    }

