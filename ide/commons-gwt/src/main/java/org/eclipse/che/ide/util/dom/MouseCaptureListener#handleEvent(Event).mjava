  @Override
  public void handleEvent(Event evt) {
    MouseEvent mouseEvent = (MouseEvent) evt;
    updateXYState(mouseEvent);

    if (evt.getType().equals(Event.MOUSEMOVE)) {
      onMouseMove(mouseEvent);
    } else if (evt.getType().equals(Event.MOUSEUP)) {
      release();
      onMouseUp(mouseEvent);
    } else if (evt.getType().equals(Event.MOUSEDOWN)) {
      if (onMouseDown(mouseEvent)) {
        // Start the capture
        MouseEventCapture.capture(this);
        mouseEvent.preventDefault();
      }
    }
  }

