  public void reSend(String url) {
    String endpointId = urlResolver.resolve(url);

    if (!messageRegistry.containsKey(endpointId)) {
      return;
    }

    List<String> messages = messageRegistry.get(endpointId);
    if (messages.isEmpty()) {
      return;
    }

    Log.debug(getClass(), "Going to resend websocket messaged: " + messages);

    List<String> backing = new ArrayList<>(messages);
    messages.clear();

    for (String message : backing) {
      if (connectionManager.isConnectionOpen(url)) {
        connectionManager.sendMessage(url, message);
      } else {
        messages.add(message);
      }
    }
  }

