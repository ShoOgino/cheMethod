  /**
   * Returns a count of the number of segments which match in this path and the given path (device
   * ids are ignored), comparing in increasing segment number order.
   *
   * @param anotherPath the other path
   * @return the number of matching segments
   * @since 4.0.0-RC5
   */
  public int matchingFirstSegments(Path anotherPath) {
    checkNotNull(anotherPath);
    int anotherPathLen = anotherPath.segmentCount();
    int max = Math.min(segments.length, anotherPathLen);
    int count = 0;
    for (int i = 0; i < max; i++) {
      if (!segments[i].equals(anotherPath.segment(i))) {
        return count;
      }
      count++;
    }
    return count;
  }

