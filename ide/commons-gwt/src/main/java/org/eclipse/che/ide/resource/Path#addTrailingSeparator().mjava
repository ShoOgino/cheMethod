  /**
   * Returns a path with the same segments as this path but with a trailing separator added. This
   * path must have at least one segment.
   *
   * <p>If this path already has a trailing separator, this path is returned.
   *
   * @return the new path
   * @see #hasTrailingSeparator()
   * @see #removeTrailingSeparator()
   * @since 4.0.0-RC5
   */
  public Path addTrailingSeparator() {
    if (hasTrailingSeparator() || isRoot()) {
      return this;
    }
    if (isEmpty()) {
      return new Path(device, segments, HAS_LEADING);
    }
    return new Path(device, segments, separators | HAS_TRAILING);
  }

