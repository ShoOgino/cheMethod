  /**
   * Close a web socket connection to an endpoint defined by a URL parameter
   *
   * @param url url of a connection to be closed
   */
  public void closeConnection(String url) {
    final WebSocketConnection webSocketConnection = connectionsRegistry.get(url);

    if (webSocketConnection == null) {
      final String warning =
          "Closing connection that is not registered and seem like does not exist";
      Log.warn(getClass(), warning);
      throw new IllegalStateException(warning);
    }

    webSocketConnection.close();

    Log.debug(WebSocketConnectionManager.class, "Closing connection.");
  }

