  /**
   * Returns the file extension portion of this path, or <code>null</code> if there is none.
   *
   * <p>The file extension portion is defined as the string following the last period (".")
   * character in the last segment. If there is no period in the last segment, the path has no file
   * extension portion. If the last segment ends in a period, the file extension portion is the
   * empty string.
   *
   * @return the file extension or <code>null</code>
   * @see #addFileExtension(String)
   * @since 4.0.0-RC5
   */
  public String getFileExtension() {
    if (hasTrailingSeparator()) {
      return null;
    }
    String lastSegment = lastSegment();
    if (lastSegment == null) {
      return null;
    }
    int index = lastSegment.lastIndexOf('.');
    if (index == -1) {
      return null;
    }
    return lastSegment.substring(index + 1);
  }

