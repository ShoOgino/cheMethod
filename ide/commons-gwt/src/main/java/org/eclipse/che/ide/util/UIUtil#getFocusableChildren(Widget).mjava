  /**
   * Lookup all nested children in widget and tries to search children which implement Focusable
   * interface.
   *
   * @param widget widget to lookup
   * @return list of {@link com.google.gwt.user.client.ui.Focusable} widgets or empty list if none
   *     was found
   * @see com.google.gwt.user.client.ui.Focusable
   */
  public static List<FocusWidget> getFocusableChildren(Widget widget) {
    List<FocusWidget> focusable = new ArrayList<>();

    if (widget instanceof FocusWidget) {
      focusable.add((FocusWidget) widget);
    }

    if (widget instanceof HasWidgets) {
      for (Widget w : ((HasWidgets) widget)) {
        focusable.addAll(getFocusableChildren(w));
      }
    }

    return focusable;
  }

