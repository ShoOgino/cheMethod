  /**
   * Returns attributes of the exception if it is of type {@link ServerException} and has attributes
   * set, or empty map otherwise.
   *
   * @param exception passed exception
   * @return error code
   */
  public static Map<String, String> getAttributes(Throwable exception) {
    if (exception instanceof ServerException) {
      return ((ServerException) exception).getAttributes();
    } else if (exception instanceof org.eclipse.che.ide.websocket.rest.exceptions.ServerException) {
      return ((org.eclipse.che.ide.websocket.rest.exceptions.ServerException) exception)
          .getAttributes();
    } else {
      return Collections.emptyMap();
    }
  }

