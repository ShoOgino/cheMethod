    private void processObject(String endpointId, String message) throws JsonRpcException {
        Log.debug(getClass(), "Processing end object: " + message);

        JsonRpcEntityType type = entityQualifier.qualify(message);

        switch (type) {
            case REQUEST:
                JsonRpcRequest request = jsonRpcFactory.createRequest(message);
                requestDispatcher.dispatch(endpointId, request);
                break;
            case RESPONSE:
                JsonRpcResponse response = jsonRpcFactory.createResponse(message);
                responseDispatcher.dispatch(endpointId, response);
                break;
            case UNDEFINED:
            default:
                String msg = "The JSON sent is not a valid Request object";
                Log.error(getClass(), msg);
                throw new JsonRpcException(-32600, msg);
        }
    }

