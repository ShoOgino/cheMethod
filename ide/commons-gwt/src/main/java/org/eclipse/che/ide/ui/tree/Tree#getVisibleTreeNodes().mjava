  /**
   * Gathers all visible nodes of the tree.
   *
   * @return array containing all visible nodes of the tree
   */
  public List<TreeNodeElement<D>> getVisibleTreeNodes() {
    List<TreeNodeElement<D>> nodes = new ArrayList<>();
    List<D> rootItems = getModel().dataAdapter.getChildren(getModel().getRoot());
    for (int i = 0; i < rootItems.size(); i++) {
      TreeNodeElement<D> rootTreeNode =
          getModel().dataAdapter.getRenderedTreeNode(rootItems.get(i));
      nodes.addAll(getVisibleTreeNodes(rootTreeNode));
    }
    return nodes;
  }

