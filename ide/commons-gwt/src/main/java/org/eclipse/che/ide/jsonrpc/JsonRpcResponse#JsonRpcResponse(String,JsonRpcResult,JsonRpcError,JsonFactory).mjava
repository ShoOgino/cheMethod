    @AssistedInject
    public JsonRpcResponse(@Assisted("id") String id, @Assisted("result") JsonRpcResult result, @Assisted("error") JsonRpcError error,
                           JsonFactory jsonFactory) {
        checkNotNull(id, "ID must not be null");
        checkArgument(!id.isEmpty(), "ID must not be empty");
        checkArgument((result == null) != (error == null), "Must be either error or result");

        this.id = id;
        this.result = result;
        this.error = error;
        this.jsonFactory = jsonFactory;
    }

