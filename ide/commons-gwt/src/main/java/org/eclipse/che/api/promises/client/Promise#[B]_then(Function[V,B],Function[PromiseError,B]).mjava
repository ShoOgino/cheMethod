  /**
   * Adds actions when the promise is fulfilled and rejected.<br>
   * The actions are added both to the original promise and the returned value, but the promises are
   * not necessarily the same object.
   *
   * @param onFulfilled the fulfillment action added
   * @param onRejected the rejection action added
   * @return a promise equivalent to the original promise with the actions added
   */
  <B> Promise<B> then(@Nullable Function<V, B> onFulfilled, Function<PromiseError, B> onRejected);

