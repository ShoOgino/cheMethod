    public <T> List<T> toList(Class<T> type) {
        checkNotNull(type, "List Item type must not be null");

        List<T> list = new ArrayList<>(size());
        for (int i = 0; i < size(); i++) {
            list.add(get(i, type));
        }
        return list;
    }

