    private void internalTransmit(String endpointId, String method, Object dto, String id) {
        final JSONObject request = new JSONObject();

        request.put("jsonrpc", new JSONString("2.0"));
        request.put("method", new JSONString(method));

        if (id != null) {
            request.put("id", new JSONString(id));
        }

        if (dto != null) {
            final String dtoString = dtoFactory.toJson(dto);
            final JSONValue jsonParams = JSONParser.parseStrict(dtoString);
            request.put("params", jsonParams);
        }

        transmitter.transmit(endpointId, request.toString());
    }

