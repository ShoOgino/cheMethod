  /**
   * Returns an offset to the top-left of a child element relative to the top-left of an ancestor
   * element, optionally including any scroll top or left in elements from the ancestor (inclusive)
   * to the child (exclusive).
   *
   * @param ancestorElement optional, if null the offset from the top-left of the page will be
   *     given. Should not be the childElement.
   */
  @Deprecated
  public static Offset calculateElementOffset(
      Element childElement, Element ancestorElement, boolean includeScroll) {

    Offset offset = new Offset();
    Element element = childElement;
    for (;
        element.getOffsetParent() != null && element != ancestorElement;
        element = element.getOffsetParent()) {
      offset.top += element.getOffsetTop();
      offset.left += element.getOffsetLeft();

      if (!includeScroll) {
        offset.top -= element.getOffsetParent().getScrollTop();
        offset.left -= element.getOffsetParent().getScrollLeft();
      }
    }

    return offset;
  }

