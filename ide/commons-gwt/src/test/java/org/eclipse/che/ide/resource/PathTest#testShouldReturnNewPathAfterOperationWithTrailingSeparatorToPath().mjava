  @Test
  public void testShouldReturnNewPathAfterOperationWithTrailingSeparatorToPath() throws Exception {
    final Path path = Path.valueOf("/foo");

    assertFalse(path.hasTrailingSeparator());

    final Path pathWithSeparator = path.addTrailingSeparator();

    assertNotSame(path, pathWithSeparator);
    assertFalse(path.hasTrailingSeparator());
    assertTrue(pathWithSeparator.hasTrailingSeparator());
    assertTrue(path.toString().equals("/foo"));
    assertTrue(pathWithSeparator.hasTrailingSeparator());
    assertTrue(pathWithSeparator.toString().equals("/foo/"));

    final Path pathWithRemovedSeparator = pathWithSeparator.removeTrailingSeparator();

    assertTrue(path.equals(pathWithRemovedSeparator));
    assertFalse(pathWithRemovedSeparator.hasTrailingSeparator());
  }

