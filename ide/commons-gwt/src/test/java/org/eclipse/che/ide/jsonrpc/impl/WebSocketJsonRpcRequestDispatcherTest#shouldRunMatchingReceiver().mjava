    @Test
    public void shouldRunMatchingReceiver() {
        when(request.getMethod()).thenReturn("test-method");
        when(receivers.entrySet()).thenReturn(singletonMap("test-method", receiver).entrySet());
        dispatcher = new WebSocketJsonRpcRequestDispatcher(receivers, dtoFactory);

        dispatcher.dispatch(MESSAGE);

        verify(receiver).receive(request);
    }

