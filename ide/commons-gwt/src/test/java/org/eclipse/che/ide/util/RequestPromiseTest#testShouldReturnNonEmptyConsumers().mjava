  @Test
  public void testShouldReturnNonEmptyConsumers() throws Exception {
    RequestPromise<Object> promise = new RequestPromise<>();

    Consumer<Object> successConsumer = __ -> {};
    Consumer<Throwable> failureConsumer = __ -> {};

    promise.onSuccess(successConsumer).onFailure(failureConsumer);

    assertTrue(promise.getSuccessConsumer().isPresent());
    assertTrue(promise.getFailureConsumer().isPresent());
    assertSame(promise.getSuccessConsumer().get(), successConsumer);
    assertSame(promise.getFailureConsumer().get(), failureConsumer);
  }

