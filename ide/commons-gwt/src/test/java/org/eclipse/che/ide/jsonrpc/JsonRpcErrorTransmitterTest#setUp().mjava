    @Before
    public void setUp() {
        when(jsonRpcFactory.createError(anyInt(), anyString())).thenReturn(jsonRpcError);
        when(jsonRpcError.getCode()).thenReturn(ERROR_CODE);
        when(jsonRpcError.getMessage()).thenReturn(ERROR_MESSAGE);

        when(jsonRpcFactory.createResponse(anyString(), anyObject(), anyObject())).thenReturn(jsonRpcResponse);
        when(jsonRpcResponse.toString()).thenReturn(STRINGIFIED_RESPONSE);

        when(jsonRpcException.getCode()).thenReturn(ERROR_CODE);
        when(jsonRpcException.getId()).thenReturn(REQUEST_ID);
        when(jsonRpcException.getMessage()).thenReturn(ERROR_MESSAGE);
    }

