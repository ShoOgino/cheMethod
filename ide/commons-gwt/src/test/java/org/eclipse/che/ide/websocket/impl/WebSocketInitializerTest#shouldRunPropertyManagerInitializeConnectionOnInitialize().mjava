  @Test
  public void shouldRunPropertyManagerInitializeConnectionOnInitialize() throws OperationException {
    initializer.initialize("id", "url");
    verify(promise).then(operation.capture());
    operation.getValue().apply("token");
    verify(propertyManager).initializeConnection("url?token=token");
  }

