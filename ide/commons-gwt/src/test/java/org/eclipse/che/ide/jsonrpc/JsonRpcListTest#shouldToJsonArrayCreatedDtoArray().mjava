    @Test
    public void shouldToJsonArrayCreatedDtoArray() throws Exception {
        Dto dto = mock(Dto.class);
        when(dto.toString()).thenReturn(DTO);
        when(dto.getParameter()).thenReturn("value");

        when(dtoFactory.createDtoFromJson(DTO, Dto.class)).thenReturn(dto);

        JsonArray expected = jsonFactory.createArray();
        JsonValue parse = jsonFactory.parse(dto.toString());
        expected.set(0, parse);

        JsonRpcList jsonRpcList = new JsonRpcList(singletonList(dto), jsonFactory, dtoFactory);
        JsonArray actual = jsonRpcList.toJsonArray();

        assertTrue(expected.jsEquals(actual));
    }

