  @Test
  public void shouldBeAbleToExcludeGwtModuleFrom() {
    //given
    Set<String> excludePackages = ImmutableSet.of("elemental");
    Set<String> includePackages = Collections.emptySet();
    GwtXmlModuleSearcher searcher =
        new GwtXmlModuleSearcher(
            excludePackages,
            includePackages,
            ImmutableSet.of(
                GwtXmlGeneratorTest.class.getProtectionDomain().getCodeSource().getLocation()));
    //when
    Set<String> actual = searcher.getGwtModulesFromClassPath();
    //then
    assertFalse(actual.isEmpty());
    assertFalse(actual.contains("elemental/Json.gwt.xml"));
    assertFalse(actual.contains("elemental/Collections.gwt.xml"));
    assertFalse(actual.contains("elemental/Elemental.gwt.xml"));
  }

