  @Test
  public void shouldBeAbleToIncludeOnlyGwtModuleFrom() {
    // given
    Set<String> excludePackages = Collections.emptySet();
    Set<String> includePackages = ImmutableSet.of("elemental");
    GwtXmlModuleSearcher searcher =
        new GwtXmlModuleSearcher(
            excludePackages,
            includePackages,
            ImmutableSet.of(
                GwtXmlGeneratorTest.class.getProtectionDomain().getCodeSource().getLocation()));

    // when
    Set<String> actual = searcher.getGwtModulesFromClassPath();
    // then
    assertFalse(actual.isEmpty());
    assertEquals(actual.size(), 3);

    assertTrue(actual.contains("elemental/Json.gwt.xml"));
    assertTrue(actual.contains("elemental/Collections.gwt.xml"));
    assertTrue(actual.contains("elemental/Elemental.gwt.xml"));
  }

