  @Test
  public void shouldFindModulesAndGenerate() throws IOException {
    //given
    String[] args =
        new String[] {
          "--rootDir=" + testRoot,
          "--gwtFileName=com/myorg/My.gwt.xml",
          "--includePackages=org.eclipse.che.api.testing",
          "--includePackages=org.eclipse.che.api.core"
        };
    GwtXmlGenerator.main(args);
    //when
    File actual = new File(testRoot, "com/myorg/My.gwt.xml");
    //then
    XMLTree tree = XMLTree.from(actual);
    List<Element> inherits = tree.getElements("/module/inherits");
    assertEquals(inherits.size(), 3);
    assertEquals(inherits.get(0).getAttribute("name").getValue(), "org.eclipse.che.api.core.Core");
    assertEquals(
        inherits.get(1).getAttribute("name").getValue(), "org.eclipse.che.api.core.model.Model");
    assertEquals(
        inherits.get(2).getAttribute("name").getValue(), "org.eclipse.che.api.testing.Testing");
  }

