  /** Redraw the icon. */
  private void renderImage() {
    panel.clear();

    if (presentation.getImageResource() != null) {
      Image image = new Image(presentationFactory.getPresentation(action).getImageResource());
      image.setStyleName(toolbarResources.toolbar().popupButtonIcon());
      panel.add(image);

    } else if (presentation.getSVGResource() != null) {
      SVGImage image = new SVGImage(presentation.getSVGResource());
      image.getElement().setAttribute("class", toolbarResources.toolbar().popupButtonIcon());
      panel.add(image);

    } else if (presentation.getHTMLResource() != null) {
      FlowPanel icon = new FlowPanel();
      icon.setStyleName(toolbarResources.toolbar().iconButtonIcon());

      FlowPanel inner = new FlowPanel();
      inner.setStyleName(toolbarResources.toolbar().popupButtonIconInner());
      inner.getElement().setInnerHTML(presentation.getHTMLResource());
      icon.add(inner);

      panel.add(inner);
    }

    InlineLabel caret = new InlineLabel("");
    caret.setStyleName(toolbarResources.toolbar().caret());
    panel.add(caret);
  }

