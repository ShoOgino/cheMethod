    protected void update() {
        if (updateTask == null) {
            updateTask = new DelayedTask() {
                @Override
                public void onExecute() {
                    int count = getVisibleRowCount();
                    List<Node> rootItems = getRootNodes();

                    if (count > 0) {
                        List<Node> visible = getAllChildNodes(rootItems, true);
                        int[] vr = getVisibleRows(visible, count);

                        for (int i = vr[0]; i <= vr[1]; i++) {
                            if (goInto.isActive()) {
                                //constraint node indention
                                int goIntoDirDepth = nodeStorage.getDepth(goInto.getLastUsed());
                                int currentNodeDepth = nodeStorage.getDepth(visible.get(i));

                                view.onDepthUpdated(getNodeDescriptor(visible.get(i)), currentNodeDepth - goIntoDirDepth);
                            }
                            if (!isRowRendered(i, visible)) {
                                Node parent = nodeStorage.getParent(visible.get(i));
                                Element html = renderNode(visible.get(i), nodeStorage.getDepth(parent));
                                Element rootContainer = view.getRootContainer(getNodeDescriptor(visible.get(i)));
                                rootContainer.replaceChild(rootContainer.getFirstChildElement(), html);
                            } else {
                                refresh(visible.get(i));
                            }
                        }
                    }

                    if (selectionModel.getSelectedNodes().isEmpty() && autoSelect && !rootItems.isEmpty()) {
                        selectionModel.select(rootItems.get(0), false);
                    }
                }
            };
        }
        updateTask.delay(view.getScrollDelay());
    }

