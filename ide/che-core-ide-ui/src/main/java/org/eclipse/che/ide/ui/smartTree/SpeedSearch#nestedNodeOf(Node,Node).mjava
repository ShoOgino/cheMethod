  /** Returns {@code true} if given node is nested in given parent. */
  private boolean nestedNodeOf(Node node, Node parent) {
    while (node != null) {
      node = node.getParent();
      if (parent.equals(node)) {
        return true;
      }
    }
    return false;
  }

