  /**
   * Creates new dropdown menu.
   *
   * @param dropdownList a dropdown list to which the menu should be bound
   * @param syncWidths specifies whether this dropdown menu's width always should be the same as the
   *     given {@code dropdownList}'s width
   */
  DropdownMenu(DropdownList dropdownList, boolean syncWidths) {
    super(true);

    this.dropdownList = dropdownList;
    widthsSynced = syncWidths;
    if (syncWidths) {
      Window.addResizeHandler(e -> setWidth(dropdownList.getElement().getClientWidth() + "px"));
    }

    removeStyleName("gwt-PopupPanel");
    addStyleName(RESOURCES.dropdownListCss().menu());

    addAutoHidePartner(dropdownList.getElement());
    setAnimationEnabled(true);
    setAnimationType(ROLL_DOWN);

    contentPanel = new FlowPanel();
    contentPanel.ensureDebugId("dropdown-list-content-panel");

    add(new ScrollPanel(contentPanel));
  }

