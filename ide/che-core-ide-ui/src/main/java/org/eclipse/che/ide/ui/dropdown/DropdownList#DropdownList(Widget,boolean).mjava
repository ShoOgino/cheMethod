  /**
   * Creates new dropdown list widget.
   *
   * @param emptyStateWidget widget that should be used for displaying an empty list's state
   * @param syncWidths specifies whether the dropdown menu's width always should be the same as this
   *     dropdown list's width
   */
  public DropdownList(Widget emptyStateWidget, boolean syncWidths) {
    this.emptyStateWidget = emptyStateWidget;
    itemListWidgets = new HashMap<>();
    itemHeaderWidgets = new HashMap<>();

    initWidget(UI_BINDER.createAndBindUi(this));

    setWidth(DEFAULT_WIDTH_PX + "px");

    menu = new DropdownMenu(this, syncWidths);
    dropdownMenuButton.getElement().appendChild(RESOURCES.expansionImage().getSvg().getElement());

    addDomHandler(e -> menu.toggleMenuVisibility(), ClickEvent.getType());

    setSelectedItem(null);
  }

