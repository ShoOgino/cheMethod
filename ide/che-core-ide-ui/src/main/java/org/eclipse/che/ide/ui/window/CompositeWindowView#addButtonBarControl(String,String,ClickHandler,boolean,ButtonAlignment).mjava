  @Override
  public Button addButtonBarControl(
      String text,
      String debugId,
      ClickHandler clickHandler,
      boolean primary,
      ButtonAlignment alignment) {
    Button button = new Button();

    if (!isNullOrEmpty(text)) {
      button.setText(text);
    }

    if (!isNullOrEmpty(debugId)) {
      button.ensureDebugId(debugId);
      button.getElement().setId(debugId);
    }

    if (clickHandler != null) {
      button.addClickHandler(clickHandler);
    }

    if (alignment != null) {
      switch (alignment) {
        case LEFT:
          button.addStyleName(clientBundle.getStyle().windowFrameFooterButtonLeft());
          break;
        case RIGHT:
        default:
          button.addStyleName(clientBundle.getStyle().windowFrameFooterButtonRight());
      }
    }

    if (primary) {
      button.addStyleName(clientBundle.getStyle().windowFrameFooterButtonPrimary());
    } else {
      button.addStyleName(clientBundle.getStyle().windowFrameFooterButton());
    }

    windowFrameButtonBar.add(button);

    if (!windowFrameButtonBar.isVisible()) {
      windowFrameButtonBar.setVisible(true);
    }

    return button;
  }

