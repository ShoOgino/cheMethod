  public void applySort(boolean suppressEvent) {
    Comparator<NodeDescriptor> comparator = buildFullComparator();
    Collections.sort(roots.getChildren(), comparator);

    for (NodeDescriptor descriptor : idToNodeMap.values()) {
      Collections.sort(descriptor.getChildren(), comparator);
    }

    if (!suppressEvent) {
      fireEvent(new StoreSortEvent());
    }
  }

