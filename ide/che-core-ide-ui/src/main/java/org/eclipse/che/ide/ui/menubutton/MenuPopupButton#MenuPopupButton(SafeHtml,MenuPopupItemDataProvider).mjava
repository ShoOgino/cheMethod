    public MenuPopupButton(SafeHtml content, MenuPopupItemDataProvider dataProvider) {
        super(Document.get().createDivElement());

        this.dataProvider = dataProvider;

        getElement().setInnerSafeHtml(content);

        showMenuTimer = new Timer() {
            @Override
            public void run() {
                showMenu();
            }
        };

        addStyleName(RESOURCES.css().button());
        attachEventHandlers();

        dataProvider.setItemDataChangedHandler(this::updateButton);
    }

