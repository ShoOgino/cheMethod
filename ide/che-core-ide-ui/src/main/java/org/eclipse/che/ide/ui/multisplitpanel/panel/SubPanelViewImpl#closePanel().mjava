  @Override
  public void closePanel() {
    if (parentPanel == null) {
      // do not allow to close root panel
      return;
    }

    if (splitLayoutPanel.getWidgetCount() == 1 && !isInTheCenterOfTheParent()) {
      // this panel doesn't have any child sub-panels
      // so just remove it from it's parent
      ((SubPanelViewImpl) parentPanel).removeWidgetFromSplitPanel(this);
      return;
    }

    if (isInTheCenterOfTheParent()) {
      ((SubPanelViewImpl) parentPanel).removeChildSubPanel(this);
    } else {
      removeChildSubPanel(mainPanel);
    }
  }

