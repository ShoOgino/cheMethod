    private void attachEventHandlers() {
        addDomHandler(event -> showMenuTimer.cancel(), MouseOutEvent.getType());

        addDomHandler(event -> {
            if (event.getNativeButton() == NativeEvent.BUTTON_LEFT) {
                showMenuTimer.schedule(1000);
            } else {
                showMenuTimer.cancel();
            }
        }, MouseDownEvent.getType());

        addDomHandler(event -> showMenuTimer.cancel(), MouseUpEvent.getType());

        addClickHandler(event -> {
            if (menu != null && menu.isShowing()) {
                return;
            }

            final Optional<MenuItem> defaultItem = itemsProvider.getDefaultItem();

            if (defaultItem.isPresent()) {
                getActionHandler().ifPresent(actionHandler -> actionHandler.onAction(defaultItem.get()));
            } else {
                showMenu();
            }
        });
    }

