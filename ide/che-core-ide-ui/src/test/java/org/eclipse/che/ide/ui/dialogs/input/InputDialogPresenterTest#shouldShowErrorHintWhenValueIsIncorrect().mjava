  @Test
  public void shouldShowErrorHintWhenValueIsIncorrect() throws Exception {
    reset(view);
    when(view.getValue()).thenReturn(INCORRECT_INPUT_VALUE);
    InputValidator inputValidator = mock(InputValidator.class);
    InputValidator.Violation violation = mock(InputValidator.Violation.class);
    when(inputValidator.validate(INCORRECT_INPUT_VALUE)).thenReturn(violation);
    when(violation.getMessage()).thenReturn(ERROR_MESSAGE);

    presenter.withValidator(inputValidator);
    presenter.inputValueChanged();

    verify(view).showErrorHint(anyString());
    verify(view, never()).hideErrorHint();
    verify(view, never()).setValue(anyString());
  }

