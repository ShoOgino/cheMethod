    @Override
    public void execute() throws MojoExecutionException, MojoFailureException {
        File outFile = new File(outputDirectory, typeName.replace('.', File.separatorChar) + ".java");
        String packageName = typeName.substring(0, typeName.lastIndexOf('.'));
        String className = typeName.substring(typeName.lastIndexOf('.') + 1, typeName.length());

        DynaProviderGenerator generator = new DynaProviderGenerator(packageName, className, classpath);


        try {
            Files.createDirectories(outFile.toPath().getParent());
        } catch (IOException e) {
            throw new MojoExecutionException("Can't create packages folders", e);
        }
        try (BufferedWriter writer = new BufferedWriter(new FileWriter(outFile))) {
            writer.write(generator.generate());
        } catch (IOException e) {
            throw new MojoExecutionException("Can't write file content", e);
        }
    }

