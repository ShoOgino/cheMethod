  /** {@inheritDoc} */
  @Override
  public Promise<String> expand() {
    final EditorPartPresenter editor = getActiveEditor();

    if (editor == null) {
      return promises.resolve("");
    }

    final VirtualFile virtualFile = editor.getEditorInput().getFile();

    if (virtualFile instanceof File) {
      return promises.resolve(((File) virtualFile).getNameWithoutExtension());
    }

    final String rawName = virtualFile.getName();

    final int lastDotIndex = rawName.lastIndexOf('.');
    if (lastDotIndex == -1) {
      return promises.resolve(rawName);
    }

    return promises.resolve(rawName.substring(0, lastDotIndex));
  }

