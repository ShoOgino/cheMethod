  @Inject
  public AppStateManager(
      Provider<PerspectiveManager> perspectiveManagerProvider,
      Provider<StateComponentRegistry> stateComponentRegistryProvider,
      JsonFactory jsonFactory,
      PromiseProvider promises,
      AppStateServiceClient appStateService) {
    this.perspectiveManagerProvider = perspectiveManagerProvider;
    this.stateComponentRegistry = stateComponentRegistryProvider;
    this.jsonFactory = jsonFactory;
    this.promises = promises;
    this.appStateService = appStateService;
  }

