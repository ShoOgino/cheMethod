  /**
   * Update notification's widget values.
   *
   * <p>Widget consumes:
   *
   * <ul>
   *   <li>{@link Notification#title}
   *   <li>{@link Notification#content}
   *   <li>Icon and background color based on {@link StatusNotification.Status}
   * </ul>
   */
  private void update() {
    Widget titleWidget = titlePanel.getWidget();
    if (titleWidget != null && titleWidget instanceof Label) {
      ((Label) titleWidget).setText(notification.getTitle());

      StringBuilder infoBuilder = new StringBuilder();
      if (notification.getProject() != null) {
        infoBuilder.append("Project: ").append(notification.getProject().getName()).append(". ");
      }

      infoBuilder.append(DATA_FORMAT.format(new Date(notification.getTime())));

      titlePanel.getElement().setAttribute("info", infoBuilder.toString());
    }

    Widget messageWidget = messagePanel.getWidget();
    if (messageWidget != null && messageWidget instanceof Label) {
      ((Label) messageWidget).setText(notification.getContent());
    }

    if (notification instanceof StatusNotification) {
      iconPanel.setWidget(getIconBaseOnStatus());
    }
  }

