  @UiHandler({"filterField"})
  void onFilterChanged(KeyUpEvent event) {
    switch (event.getNativeKeyCode()) {
      case KEY_UP:
        tree.getSelectionModel().selectPrevious();
        break;
      case KEY_DOWN:
        tree.getSelectionModel().selectNext();
        break;
      case KEY_ENTER:
        final List<Node> selectedNodes = tree.getSelectionModel().getSelectedNodes();

        if (!selectedNodes.isEmpty()) {
          final Node node = selectedNodes.get(0);

          if (node instanceof ExecutableCommandNode) {
            delegate.onCommandExecute(((ExecutableCommandNode) node).getData());
          } else if (node instanceof CommandGoalNode) {
            tree.setExpanded(node, !tree.isExpanded(node));
          }
        }
        break;
      default:
        delegate.onFilterChanged(filterField.getValue());
    }
  }

