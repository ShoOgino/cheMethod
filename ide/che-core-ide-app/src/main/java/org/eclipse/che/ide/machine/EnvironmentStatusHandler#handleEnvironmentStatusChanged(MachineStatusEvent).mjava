    public void handleEnvironmentStatusChanged(MachineStatusEvent event) {
        final String machineId = event.getMachineName();
        final String workspaceId = event.getIdentity().getWorkspaceId();

        workspaceServiceClient.getWorkspace(workspaceId).then(workspace -> {
            RuntimeDto workspaceRuntime = workspace.getRuntime();
            if (workspaceRuntime == null) {
                return;
            }

            ((AppContextImpl)appContext).setWorkspace(workspace);

            switch (event.getEventType()) {
                case STARTING:
                    handleMachineCreating(machineId);
                    break;
                case RUNNING:
                    handleMachineRunning(machineId);
                    break;
                case FAILED:
                    handleMachineError(event);
                    break;
            }
        });
    }

