  @Inject
  public ProjectImportOutputJsonRpcNotifier(
      NotificationManager notificationManager,
      CoreLocalizationConstant locale,
      EventBus eventBus,
      ImportProgressJsonRpcHandler importProgressJsonRpcHandler) {
    this.notificationManager = notificationManager;
    this.locale = locale;
    this.importProgressJsonRpcHandler = importProgressJsonRpcHandler;

    eventBus.addHandler(
        WsAgentServerStoppedEvent.TYPE,
        e -> {
          importProgressJsonRpcHandler.unsetConsumer();

          if (singletonNotification != null) {
            singletonNotification.setStatus(FAIL);
            singletonNotification.setContent("");
          }
        });
  }

