    private void restoreState(JsonObject settings) {
        try {
            if (settings.hasKey(WORKSPACE)) {
                JsonObject workspace = settings.getObject(WORKSPACE);
                for (String key : workspace.keys()) {
                    if (persistenceComponents.containsKey(key)) {
                        StateComponent component = persistenceComponents.get(key).get();
                        component.loadState(workspace.getObject(key));
                    }
                }
            }
        } catch (JsonException e) {
            Log.error(getClass(), e);
        }
    }

