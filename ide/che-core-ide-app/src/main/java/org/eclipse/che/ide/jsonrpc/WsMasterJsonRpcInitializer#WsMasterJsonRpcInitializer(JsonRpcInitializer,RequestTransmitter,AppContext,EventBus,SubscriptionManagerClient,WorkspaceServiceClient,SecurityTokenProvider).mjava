  @Inject
  public WsMasterJsonRpcInitializer(
      JsonRpcInitializer initializer,
      RequestTransmitter requestTransmitter,
      AppContext appContext,
      EventBus eventBus,
      SubscriptionManagerClient subscriptionManagerClient,
      WorkspaceServiceClient workspaceServiceClient,
      SecurityTokenProvider securityTokenProvider) {
    this.initializer = initializer;
    this.requestTransmitter = requestTransmitter;
    this.appContext = appContext;
    this.eventBus = eventBus;
    this.subscriptionManagerClient = subscriptionManagerClient;
    this.workspaceServiceClient = workspaceServiceClient;
    this.securityTokenProvider = securityTokenProvider;

    eventBus.addHandler(BasicIDEInitializedEvent.TYPE, e -> initialize());
    eventBus.addHandler(WorkspaceStartingEvent.TYPE, e -> initialize());
    eventBus.addHandler(
        WorkspaceStoppedEvent.TYPE,
        e -> {
          unsubscribeFromEvents();
          terminate();
        });
  }

