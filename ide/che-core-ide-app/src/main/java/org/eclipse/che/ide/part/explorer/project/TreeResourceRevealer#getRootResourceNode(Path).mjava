  private Optional<ResourceNode> getRootResourceNode(Path path) {
    for (Node root : tree.getRootNodes()) {
      if (!(root instanceof ResourceNode)) {
        continue;
      }

      final Path rootPath = ((ResourceNode) root).getData().getLocation();

      if (!rootPath.isPrefixOf(path)) {
        continue;
      }

      return of((ResourceNode) root);
    }

    return absent();
  }

