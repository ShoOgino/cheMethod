  /** Removes the given {@code command} from the provider. */
  public void removeCommand(CommandImpl command) {
    commands.remove(command);

    // reset the defaultItem
    if (defaultItem instanceof CommandItem) {
      final CommandImpl cmd = ((CommandItem) defaultItem).getCommand();
      if (cmd.equals(command)) {
        defaultItem = null;
      }
    }

    if (dataChangedHandler != null) {
      dataChangedHandler.onDataChanged();
    }
  }

