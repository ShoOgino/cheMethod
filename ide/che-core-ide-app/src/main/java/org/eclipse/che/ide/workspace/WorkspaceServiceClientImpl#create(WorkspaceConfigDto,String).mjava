  @Override
  public Promise<WorkspaceDto> create(
      final WorkspaceConfigDto newWorkspace, final String accountId) {
    String url = baseHttpUrl;
    if (accountId != null) {
      url += "?account=" + accountId;
    }
    return asyncRequestFactory
        .createPostRequest(url, newWorkspace)
        .header(ACCEPT, APPLICATION_JSON)
        .header(CONTENT_TYPE, APPLICATION_JSON)
        .loader(loaderFactory.newLoader("Creating workspace..."))
        .send(dtoUnmarshallerFactory.newUnmarshaller(WorkspaceDto.class));
  }

