  /** Updates icon for panel selector button displaying the current state of panels. */
  private void updateButtonState() {
    Perspective perspective = perspectiveManager.getActivePerspective();
    if (perspective == null) {
      return;
    }

    PartStack leftPartStack = perspective.getPartStack(PartStackType.NAVIGATION);
    PartStack bottomPartStack = perspective.getPartStack(PartStackType.INFORMATION);
    PartStack rightPartStack = perspective.getPartStack(PartStackType.TOOLING);

    if (leftPartStack == null || bottomPartStack == null || rightPartStack == null) {
      return;
    }

    if (HIDDEN != leftPartStack.getPartStackState()
        && HIDDEN == bottomPartStack.getPartStackState()
        && HIDDEN == rightPartStack.getPartStackState()) {
      view.setState(PanelSelectorView.State.LEFT);
    } else if (HIDDEN != leftPartStack.getPartStackState()
        && HIDDEN != bottomPartStack.getPartStackState()
        && HIDDEN == rightPartStack.getPartStackState()) {
      view.setState(PanelSelectorView.State.LEFT_BOTTOM);
    } else if (HIDDEN == leftPartStack.getPartStackState()
        && HIDDEN == bottomPartStack.getPartStackState()
        && HIDDEN == rightPartStack.getPartStackState()) {
      view.setState(PanelSelectorView.State.FULL_EDITOR);
    } else if (HIDDEN == leftPartStack.getPartStackState()
        && HIDDEN != bottomPartStack.getPartStackState()
        && HIDDEN == rightPartStack.getPartStackState()) {
      view.setState(PanelSelectorView.State.BOTTOM);
    } else if (HIDDEN == leftPartStack.getPartStackState()
        && HIDDEN == bottomPartStack.getPartStackState()
        && HIDDEN != rightPartStack.getPartStackState()) {
      view.setState(PanelSelectorView.State.RIGHT);
    } else if (HIDDEN != leftPartStack.getPartStackState()
        && HIDDEN != bottomPartStack.getPartStackState()
        && HIDDEN != rightPartStack.getPartStackState()) {
      view.setState(PanelSelectorView.State.LEFT_RIGHT_BOTTOM);
    }
  }

