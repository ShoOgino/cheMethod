    /**
     * Reads the project tree starting from {@code path} with given {@code depth}.
     *
     * @param path
     *         the start point path where read should start
     * @param depth
     *         the depth to read, e.g. -1, 0 or less than {@link Integer#MAX_VALUE}
     * @param includeFiles
     *         include files into response
     * @return {@link Promise} with tree response
     * @see Path
     * @see TreeElement
     * @since 4.4.0
     */
    public Promise<TreeElement> getTree(Path path, int depth, boolean includeFiles) {
        final String url =
                encodeAllowEscapes(getBaseUrl() + TREE + path(path.toString()) + "?depth=" + depth + "&includeFiles=" + includeFiles);

        // temporary workaround for CHE-3467, remove loader for disable UI blocking
        // later this loader should be added with the new mechanism of client-server synchronization

        return reqFactory.createGetRequest(url)
                         .header(ACCEPT, APPLICATION_JSON)
                         .send(unmarshaller.newUnmarshaller(TreeElement.class));
    }

