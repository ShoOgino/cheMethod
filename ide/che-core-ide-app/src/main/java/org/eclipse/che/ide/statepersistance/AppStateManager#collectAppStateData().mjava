  /**
   * Allows to collect current state of {@link StateComponent}s. Creates 'clear' state when {@link
   * StateComponentRegistry} is empty or some errors are occurred at collecting current state.
   */
  @NotNull
  JsonObject collectAppStateData() {
    JsonObject newAppState = Json.createObject();
    for (StateComponent entry : stateComponentRegistry.get().getComponents()) {
      try {
        Log.debug(getClass(), "Persist state for the component ID: " + entry.getId());
        newAppState.put(entry.getId(), entry.getState());
      } catch (Exception e) {
        Log.error(getClass(), e);
      }
    }
    return newAppState;
  }

