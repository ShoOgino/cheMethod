  @Inject
  public BreakpointStorageImpl(
      AppContext appContext,
      DtoFactory dtoFactory,
      LocalStorageProvider localStorageProvider,
      WorkspaceServiceClient workspaceServiceClient) {

    this.storageKey = LOCAL_STORAGE_BREAKPOINTS_KEY_PREFIX + appContext.getWorkspaceId();
    this.dtoFactory = dtoFactory;
    this.storage = localStorageProvider.get();
    this.workspaceServiceClient = workspaceServiceClient;
    this.breakpoints = new LinkedList<>(readAll());

    if (storage == null) {
      LOG.warning("Local storage is not supported. Breakpoints won't be preserved.");
    } else {
      clearOutdatedRecords();
    }
  }

