    @Override
    public ExecAgentConsumer<ProcessStartResponseDto> startProcess(final String endpointId, Command command) {
        String name = command.getName();
        String commandLine = command.getCommandLine();
        String type = command.getType();

        Log.debug(getClass(), "Starting a process. Name: " + name + ", command line: " + commandLine + ", type: " + type);

        ProcessStartRequestDto dto = dtoFactory.createDto(ProcessStartRequestDto.class)
                                               .withCommandLine(commandLine)
                                               .withName(name)
                                               .withType(type);

        final ExecAgentConsumer<ProcessStartResponseDto> execAgentConsumer = new ExecAgentConsumer<>();

        transmitter.newRequest()
                   .endpointId(endpointId)
                   .methodName(PROCESS_START)
                   .paramsAsDto(dto)
                   .sendAndReceiveResultAsDto(ProcessStartResponseDto.class)
                   .onSuccess(processStartResponseDto -> subscribe(endpointId, execAgentConsumer, processStartResponseDto));

        return execAgentConsumer;
    }

