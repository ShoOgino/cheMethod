    /**
     * Asks the user for new node name.
     *
     * @param node
     * @param inputCallback
     * @param cancelCallback
     */
    public void askForNewName(final ResourceBasedNode<?> node, final InputCallback inputCallback, final CancelCallback cancelCallback) {
        final int selectionLength = node.getName().indexOf('.') >= 0
                                    ? node.getName().lastIndexOf('.')
                                    : node.getName().length();

        InputDialog inputDialog = dialogFactory.createInputDialog(getDialogTitle(node),
                                                                  localization.renameDialogNewNameLabel(),
                                                                  node.getName(), 0, selectionLength, inputCallback, null);
        if (node instanceof FileReferenceNode) {
            inputDialog.withValidator(new FileNameValidator(node.getName()));
        } else if (node instanceof FolderReferenceNode) {
            inputDialog.withValidator(new FolderNameValidator(node.getName()));
        } else if (node instanceof ProjectNode) {
            inputDialog.withValidator(new ProjectNameValidator(node.getName()));
        }
        inputDialog.show();
    }

