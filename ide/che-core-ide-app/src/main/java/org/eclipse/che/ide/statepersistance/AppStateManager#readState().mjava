  /**
   * Allows to load saved IDE state for current workspace from server side. Creates 'clear' state
   * when state for current workspace is not found.
   */
  public Promise<Void> readState() {
    return appStateService
        .loadState()
        .thenPromise(
            (Function<String, Promise<Void>>)
                state -> {
                  try {
                    appState = jsonFactory.parse(state);
                  } catch (Exception e) {
                    // create 'clear' state if any deserializing error occurred
                    appState = jsonFactory.createObject();
                  }
                  return null;
                })
        .catchError(
            error -> {
              appState = jsonFactory.createObject();
            });
  }

