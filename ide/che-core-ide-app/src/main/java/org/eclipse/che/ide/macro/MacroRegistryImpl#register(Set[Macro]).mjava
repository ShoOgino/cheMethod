    @Inject(optional = true)
    public void register(Set<Macro> macros) {
        for (Macro macro : macros) {
            final String name = macro.getName();
            if (this.macros.containsKey(name)) {
                Log.warn(MacroRegistryImpl.class, "Command macro '" + name + "' is already registered.");
            } else {
                this.macros.put(name, macro);
            }
        }
    }

