  private void onWorkspaceReady(ResolveFunction<Void> readAllMarkerResolveFunc) {
    ArrayOf<Promise<?>> breakpointPromises = prepareBreakpointPromises();

    promiseProvider
        .all2(breakpointPromises)
        .then(
            breakpoints -> {
              for (int i = 0; i < breakpoints.length(); i++) {
                Breakpoint breakpoint = (Breakpoint) breakpoints.get(i);
                if (breakpoint != null) {
                  BreakpointStorageImpl.this.breakpoints.add(breakpoint);
                }
              }
              readAllMarkerResolveFunc.apply(null);
            })
        .catchError(
            arg -> {
              readAllMarkerResolveFunc.apply(null);
            });
  }

