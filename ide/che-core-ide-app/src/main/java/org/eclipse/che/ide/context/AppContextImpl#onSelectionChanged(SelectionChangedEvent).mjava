  @Override
  public void onSelectionChanged(SelectionChangedEvent event) {
    final Selection<?> selection = event.getSelection();
    if (selection instanceof Selection.NoSelectionProvided) {
      return;
    }

    List<Resource> tempSelectedResources = newArrayList();

    if (selection != null) {
      for (Object o : selection.getAllElements()) {
        if (o instanceof HasDataObject && ((HasDataObject) o).getData() instanceof Resource) {
          tempSelectedResources.add((Resource) ((HasDataObject) o).getData());
        } else if (o instanceof Resource) {
          tempSelectedResources.add((Resource) o);
        }
      }
    }

    if (!tempSelectedResources.isEmpty()) {
      selectedResources.clear();
      selectedResources.addAll(tempSelectedResources);
    }
  }

