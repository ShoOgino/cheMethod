  @Override
  public Promise<Map<String, String>> updatePreferences(Map<String, String> update) {
    final String data = JsonHelper.toJson(update);
    return asyncRequestFactory
        .createPutRequest(PREFERENCES_PATH, null)
        .header(ACCEPT, APPLICATION_JSON)
        .header(CONTENT_TYPE, APPLICATION_JSON)
        .data(data)
        .loader(loaderFactory.newLoader("Updating user's preferences..."))
        .send(new StringMapUnmarshaller());
  }

