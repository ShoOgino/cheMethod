  @Override
  public void onWsAgentServerStopped(WsAgentServerStoppedEvent event) {
    List<EditorPartPresenter> editorsToReadOnlyMode =
        getOpenedEditors()
            .stream()
            .filter(
                editor ->
                    editor instanceof HasReadOnlyProperty
                        && !((HasReadOnlyProperty) editor).isReadOnly())
            .collect(toList());

    if (editorsToReadOnlyMode.isEmpty()) {
      return;
    }

    notificationManager.notify(
        "", coreLocalizationConstant.messageSwitchEditorsInReadOnlyMode(), WARNING, EMERGE_MODE);

    editorsToReadOnlyMode.forEach(
        editor -> {
          EditorTab editorTab = editorMultiPartStack.getTabByPart(editor);
          if (editorTab != null) {
            editorTab.setReadOnlyMark(true);
          }

          ((HasReadOnlyProperty) editor).setReadOnly(true);
        });
  }

