  @Override
  public Promise<Void> saveState(String state) {
    String userId = appContext.getCurrentUser().getId();
    String url =
        appContext.getWsAgentServerApiEndpoint() + PREFIX + "/update/" + "?userId=" + userId;

    return asyncRequestFactory
        .createPostRequest(url, state)
        .header(CONTENT_TYPE, APPLICATION_JSON)
        .send();
  }

