  @Override
  public Promise<Void> init() {
    return userInitializer
        .init()
        .catchError(
            (Operation<PromiseError>)
                err -> {
                  // Fail to initialize the current user.
                  // Since we can't get theme ID from the user's preferences
                  // try to inject CSS styles with a default theme at least
                  // in order to be able to use a minimal UI (dialogs)
                  // for displaying an error information to the user.
                  styleInjector.inject();

                  // Prevent further initialization steps.
                  throw new OperationException(err.getMessage(), err.getCause());
                })
        .then(initUI())
        .thenPromise(aVoid -> initAppContext())
        .then(showUI())
        .then(
            arg -> {
              eventBus.fireEvent(new BasicIDEInitializedEvent());
            });
  }

