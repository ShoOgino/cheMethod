    private void started() {
        state = STARTED;
        loader.setSuccess(LoaderPresenter.Phase.STARTING_WORKSPACE_AGENT);

        for (AsyncCallback<MessageBus> callback : messageBusCallbacks) {
            callback.onSuccess(messageBus);
        }
        messageBusCallbacks.clear();

        for (AsyncCallback<DevMachine> callback : devMachineCallbacks) {
            callback.onSuccess(devMachine);
        }
        devMachineCallbacks.clear();

        if (appContext instanceof AppContextImpl) {
            ((AppContextImpl)appContext).setDevMachine(devMachine);
            ((AppContextImpl)appContext).setProjectsRoot(Path.valueOf(devMachine.getRuntime().projectsRoot()));
        }

        initCallback.onWsAgentInitialized();

        eventBus.fireEvent(WsAgentStateEvent.createWsAgentStartedEvent());
    }

