    private void fetchCommands() {
        // get all commands related to the workspace
        workspaceCommandManager.getCommands()
                               .forEach(command -> commands.put(command.getName(), new CommandImpl(command, new ApplicableContext())));

        // get all commands related to the projects
        Arrays.stream(appContext.getProjects())
              .forEach(project -> projectCommandManager.getCommands(project).forEach(projectCommand -> {
                  final CommandImpl existedCommand = this.commands.get(projectCommand.getName());

                  if (existedCommand == null) {
                      this.commands.put(projectCommand.getName(),
                                        new CommandImpl(projectCommand, new ApplicableContext(project.getPath())));
                  } else {
                      if (projectCommand.equalsIgnoreContext(existedCommand)) {
                          existedCommand.getApplicableContext().addProject(project.getPath());
                      } else {
                          // normally, should never happen
                          Log.error(CommandManagerImpl.this.getClass(), "Different commands with the same names found");
                      }
                  }
              }));

        notifyCommandsLoaded();
    }

