    @Inject
    public AppContextImpl(EventBus eventBus,
                          QueryParameters queryParameters,
                          ResourceManager.ResourceManagerFactory resourceManagerFactory,
                          Provider<EditorAgent> editorAgentProvider,
                          Provider<AppStateManager> appStateManager) {
        this.eventBus = eventBus;
        this.queryParameters = queryParameters;
        this.resourceManagerFactory = resourceManagerFactory;
        this.editorAgentProvider = editorAgentProvider;
        this.appStateManager = appStateManager;
        this.startAppActions = new ArrayList<>();

        projectsInImport = new ArrayList<>();

        eventBus.addHandler(ProjectTypesLoadedEvent.TYPE, e -> initResourceManager());

        eventBus.addHandler(SelectionChangedEvent.TYPE, this);
        eventBus.addHandler(ResourceChangedEvent.getType(), this);
        eventBus.addHandler(WorkspaceStoppedEvent.TYPE, this);
    }

