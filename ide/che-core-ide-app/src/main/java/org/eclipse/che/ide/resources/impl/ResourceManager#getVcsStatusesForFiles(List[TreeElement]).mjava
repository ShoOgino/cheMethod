  private Map<String, VcsStatus> getVcsStatusesForFiles(List<TreeElement> elements) {
    return elements
        .stream()
        .map(TreeElement::getNode)
        .filter(ref -> ref.getType().equals("file"))
        .filter(ref -> ref.getAttributes().containsKey("vcs.status"))
        .collect(
            toMap(
                ItemReference::getName,
                ref -> VcsStatus.from(ref.getAttributes().get("vcs.status"))));
  }

