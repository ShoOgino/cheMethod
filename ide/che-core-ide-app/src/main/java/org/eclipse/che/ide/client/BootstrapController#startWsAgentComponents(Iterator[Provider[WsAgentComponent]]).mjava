  private void startWsAgentComponents(
      final Iterator<Provider<WsAgentComponent>> componentProviderIterator) {
    if (componentProviderIterator.hasNext()) {
      Provider<WsAgentComponent> componentProvider = componentProviderIterator.next();

      final WsAgentComponent component = componentProvider.get();
      component.start(
          new Callback<WsAgentComponent, Exception>() {
            @Override
            public void onSuccess(WsAgentComponent result) {
              startWsAgentComponents(componentProviderIterator);
            }

            @Override
            public void onFailure(Exception reason) {
              Log.error(component.getClass(), reason);
              initializationFailed(reason.getMessage());
            }
          });
    }
  }

