    @Nullable
    @Override
    public CommandImpl getSelectedCommand() {
        final List<Node> selectedNodes = tree.getSelectionModel().getSelectedNodes();

        if (!selectedNodes.isEmpty()) {
            final Node selectedNode = selectedNodes.get(0);

            if (selectedNode instanceof CommandFileNode) {
                return ((CommandFileNode)selectedNode).getData();
            }
        }

        return null;
    }

