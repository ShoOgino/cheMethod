  private Promise<Project> recallSubversionImportWithCredentials(
      Path path, SourceStorage sourceStorage) {
    return askCredentialsDialog
        .askCredentials()
        .thenPromise(
            credentials -> {
              sourceStorage.getParameters().put("username", credentials.getUsername());
              sourceStorage.getParameters().put("password", credentials.getPassword());
              return doImport(path, sourceStorage);
            })
        .catchError(
            caught -> {
              callback.onFailure(caught.getCause());
            });
  }

