    private void renderCommands(Map<CommandGoal, List<CommandImpl>> commands) {
        commandNodes.clear();
        tree.getNodeStorage().clear();

        for (Entry<CommandGoal, List<CommandImpl>> entry : commands.entrySet()) {
            List<CommandFileNode> commandNodes = new ArrayList<>(entry.getValue().size());
            for (CommandImpl command : entry.getValue()) {
                final CommandFileNode commandFileNode = nodeFactory.newCommandFileNode(command);
                commandNodes.add(commandFileNode);

                this.commandNodes.put(command, commandFileNode);
            }

            final CommandGoalNode commandGoalNode = nodeFactory.newCommandGoalNode(entry.getKey(), commandNodes);
            tree.getNodeStorage().add(commandGoalNode);
        }

        tree.expandAll();
    }

