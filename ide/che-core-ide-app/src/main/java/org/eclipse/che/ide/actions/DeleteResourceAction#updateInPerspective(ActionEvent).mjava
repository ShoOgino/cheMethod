  /** {@inheritDoc} */
  @Override
  public void updateInPerspective(@NotNull ActionEvent event) {
    event.getPresentation().setVisible(true);

    if (activePart instanceof CommandsExplorerPresenter) {
      CommandImpl command =
          ((CommandsExplorerView) commandsExplorer.getView()).getSelectedCommand();
      event.getPresentation().setEnabled(command != null);
      return;
    }

    final Resource[] resources = appContext.getResources();

    event
        .getPresentation()
        .setEnabled(
            resources != null
                && resources.length > 0
                && !(activePart instanceof TextEditor)
                && !(activePart.getSelection() instanceof Selection.NoSelectionProvided));
  }

