  /** Updates view with the preview URLs of running processes. */
  private void updateView() {
    view.removeAllURLs();

    final WorkspaceRuntime runtime = appContext.getActiveRuntime();

    if (runtime == null) {
      return;
    }

    runtime
        .getMachines()
        .stream()
        .map(Machine::getId)
        .map(id -> execAgentClient.getProcesses(id, false))
        .forEach(
            promise ->
                promise.onSuccess(
                    processes ->
                        processes
                            .stream()
                            .map(GetProcessesResponseDto::getName)
                            .map(this::getPreviewUrlByName)
                            .forEach(it -> it.then(view::addUrl))));
  }

