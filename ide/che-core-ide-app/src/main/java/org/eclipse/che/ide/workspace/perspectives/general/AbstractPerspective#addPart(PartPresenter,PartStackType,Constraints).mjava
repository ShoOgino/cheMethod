    /** {@inheritDoc} */
    @Override
    public void addPart(@NotNull PartPresenter part, @NotNull PartStackType type, @Nullable Constraints constraint) {
        PartStack destPartStack = partStacks.get(type);

        List<String> rules = part.getRules();

        if (rules.isEmpty() && !destPartStack.containsPart(part)) {
            destPartStack.addPart(part, constraint);
            return;
        }

        if (rules.contains(perspectiveId)) {
            destPartStack.addPart(part, constraint);
        }
    }

