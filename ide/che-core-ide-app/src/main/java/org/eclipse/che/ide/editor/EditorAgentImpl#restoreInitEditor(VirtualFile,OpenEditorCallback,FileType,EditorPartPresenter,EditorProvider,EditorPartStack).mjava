    private Promise<Void> restoreInitEditor(final VirtualFile file, final OpenEditorCallback callback, FileType fileType,
                                            final EditorPartPresenter editor, EditorProvider editorProvider,
                                            EditorPartStack editorPartStack) {
        editor.init(new EditorInputImpl(fileType, file), callback);
        editor.addCloseHandler(this);

        editorPartStack.addPart(editor);
        return finalizeInit(file, callback, editor, editorProvider);
    }

