    @Override
    public Project getRootProject() {
        if (currentResource == null) {
            return null;
        }

        if (currentResources == null) {
            return null;
        }

        Project root = null;

        for (Project project : projects) {
            if (project.getLocation().isPrefixOf(currentResources[0].getLocation())) {
                root = project;
            }
        }

        if (root == null) {
            return null;
        }

        for (int i = 1; i < currentResources.length; i++) {
            if (!root.getLocation().isPrefixOf(currentResources[i].getLocation())) {
                return null;
            }
        }

        return root;
    }

