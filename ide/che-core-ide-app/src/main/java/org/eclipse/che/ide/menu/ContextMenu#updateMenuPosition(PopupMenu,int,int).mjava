    private void updateMenuPosition(PopupMenu popupMenu, int x, int y) {
        if (x + popupMenu.getOffsetWidth() > Window.getClientWidth()) {
            popupMenu.getElement().getStyle().setLeft(x - popupMenu.getOffsetWidth() - 1, PX);
        } else {
            popupMenu.getElement().getStyle().setLeft(x, PX);
        }

        if (y + popupMenu.getOffsetHeight() > Window.getClientHeight()) {
            popupMenu.getElement().getStyle().setTop(y - popupMenu.getOffsetHeight() - 1, PX);
        } else {
            popupMenu.getElement().getStyle().setTop(y, PX);
        }
    }

