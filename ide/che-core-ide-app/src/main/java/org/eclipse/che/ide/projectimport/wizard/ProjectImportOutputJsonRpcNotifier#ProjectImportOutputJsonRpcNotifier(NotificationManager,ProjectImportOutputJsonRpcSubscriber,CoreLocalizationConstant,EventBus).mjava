    @Inject
    public ProjectImportOutputJsonRpcNotifier(NotificationManager notificationManager,
                                              ProjectImportOutputJsonRpcSubscriber subscriber,
                                              CoreLocalizationConstant locale,
                                              EventBus eventBus) {
        this.notificationManager = notificationManager;
        this.subscriber = subscriber;
        this.locale = locale;

        eventBus.addHandler(WsAgentStateEvent.TYPE, new WsAgentStateHandler() {
            @Override
            public void onWsAgentStarted(WsAgentStateEvent event) {
            }

            @Override
            public void onWsAgentStopped(WsAgentStateEvent event) {
                subscriber.unSubscribeForImportOutputEvents();

                singletonNotification.setStatus(FAIL);
                singletonNotification.setContent("");
            }
        });
    }

