    private void internalInitialize(String machineName) {
        final WorkspaceImpl workspace = appContext.getWorkspace();
        final RuntimeImpl runtime = workspace.getRuntime();

        if (runtime == null) {
            return; // workspace is stopped
        }

        runtime.getMachineByName(machineName).ifPresent(machine -> {
            Optional<ServerImpl> execAgentServer = machine.getServerByName(EXEC_AGENT_REFERENCE);

            execAgentServer.ifPresent(server -> {
                String execAgentServerURL = server.getUrl();
                execAgentServerURL = execAgentServerURL.replaceFirst("http", "ws") + "/connect"; // FIXME: spi ide

                initializer.initialize(machine.getName(), singletonMap("url", execAgentServerURL));
            });
        });
    }

