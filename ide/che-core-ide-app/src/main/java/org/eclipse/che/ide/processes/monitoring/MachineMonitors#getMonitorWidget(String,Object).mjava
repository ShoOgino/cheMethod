  /**
   * Creates new or returns existed widget for the given machine and referrer. Referrer is an UI
   * object containing monitor widgets attached as children.
   *
   * @param machineID machines ID
   * @param referrer referrer object
   * @return monitor widget
   */
  public MonitorWidget getMonitorWidget(String machineID, Object referrer) {
    Map<Object, MonitorWidget> widgets = monitorWidgets.get(machineID);
    if (widgets == null) {
      widgets = new HashMap<>();
      monitorWidgets.put(machineID, widgets);
    }

    MonitorWidget widget = widgets.get(referrer);
    if (widget == null) {
      widget = new MonitorWidget();
      widgets.put(referrer, widget);
    }

    return widget;
  }

