  @Override
  public FileType getFileTypeByFile(VirtualFile file) {
    FileType fileType = getFileTypeByNamePattern(file.getName());
    if (fileType == unknownFileType) {
      fileType = getFileTypeByExtension(getFileExtension(file.getName()));
    }
    return fileType != null ? fileType : unknownFileType;
  }

