  @Override
  public FileType getFileTypeByFile(VirtualFile file) {
    String fileName = file.getName();
    String fileExtension = getFileExtension(fileName);

    FileType fileType = getFileTypeByFileName(fileName);
    if (fileType == unknownFileType) {
      fileType = getFileTypeByExtension(fileExtension);
    }
    return fileType != null ? fileType : unknownFileType;
  }

