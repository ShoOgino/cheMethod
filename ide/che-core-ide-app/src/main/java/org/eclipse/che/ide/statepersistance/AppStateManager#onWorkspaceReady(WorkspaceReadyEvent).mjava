  private void onWorkspaceReady(WorkspaceReadyEvent workspaceReadyEvent) {
    // delay is required because we need to wait some time while different components initialized
    restoreWorkspaceStateWithDelay()
        .then(
            ignored -> {
              eventBus.addHandler(
                  PartStackStateChangedEvent.TYPE, event -> persistWorkspaceStateTask.delay(500));
            });
  }

