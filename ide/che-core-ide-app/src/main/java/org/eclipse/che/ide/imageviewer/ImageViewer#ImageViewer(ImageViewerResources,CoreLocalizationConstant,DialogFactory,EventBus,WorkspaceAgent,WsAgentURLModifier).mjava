    @Inject
    public ImageViewer(ImageViewerResources resources,
                       CoreLocalizationConstant constant,
                       DialogFactory dialogFactory,
                       EventBus eventBus,
                       WorkspaceAgent workspaceAgent,
                       WsAgentURLModifier urlModifier) {
        this.resources = resources;
        this.constant = constant;
        this.dialogFactory = dialogFactory;
        this.workspaceAgent = workspaceAgent;
        this.urlModifier = urlModifier;

        resources.imageViewerCss().ensureInjected();

        eventBus.addHandler(FileEvent.TYPE, this);
    }

