  @Inject
  ServerStatusEventHandler(
      RequestHandlerConfigurator configurator,
      WorkspaceServiceClient workspaceServiceClient,
      AppContext appContext,
      EventBus eventBus,
      WsAgentServerUtil wsAgentServerUtil) {
    this.workspaceServiceClient = workspaceServiceClient;
    this.appContext = appContext;
    this.eventBus = eventBus;
    this.wsAgentServerUtil = wsAgentServerUtil;

    configurator
        .newConfiguration()
        .methodName(SERVER_STATUS_CHANGED_METHOD)
        .paramsAsDto(ServerStatusEvent.class)
        .noResult()
        .withBiConsumer(
            (endpointId, event) -> {
              Log.debug(getClass(), "Received notification from endpoint: " + endpointId);

              processStatus(event);
            });
  }

