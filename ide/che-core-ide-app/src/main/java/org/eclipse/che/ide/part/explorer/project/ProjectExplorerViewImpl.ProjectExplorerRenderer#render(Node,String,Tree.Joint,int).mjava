        @Override
        public Element render(Node node, String domID, Tree.Joint joint, int depth) {
            Element element = super.render(node, domID, joint, depth);

            element.setAttribute("name", node.getName());

            if (node instanceof ResourceNode) {
                final Resource resource = ((ResourceNode)node).getData();
                element.setAttribute("path", resource.getLocation().toString());

                final Optional<Project> project = resource.getRelatedProject();
                if (project.isPresent()) {
                    element.setAttribute("project", project.get().getLocation().toString());
                }
            }

            if (node instanceof HasAction) {
                element.setAttribute("actionable", "true");
            }

            if (node instanceof SyntheticNode<?>) {
                element.setAttribute("synthetic", "true");
                element.setAttribute("project", ((SyntheticNode)node).getProject().toString());
            }

            if (node instanceof HasAttributes && ((HasAttributes)node).getAttributes().containsKey(CUSTOM_BACKGROUND_FILL)) {
                element.getFirstChildElement().getStyle()
                       .setBackgroundColor(((HasAttributes)node).getAttributes().get(CUSTOM_BACKGROUND_FILL).get(0));
            }

            return element;
        }

