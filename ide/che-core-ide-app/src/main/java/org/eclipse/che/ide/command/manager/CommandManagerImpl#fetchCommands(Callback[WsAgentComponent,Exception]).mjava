    private void fetchCommands(Callback<WsAgentComponent, Exception> callback) {
        // get all commands related to the workspace
        workspaceCommandManager.getCommands(appContext.getWorkspaceId()).then(workspaceCommands -> {
            workspaceCommands.forEach(workspaceCommand -> commands.put(workspaceCommand.getName(),
                                                                       new CommandImpl(workspaceCommand, new ApplicableContext())));

            addCommands();

            callback.onSuccess(this);

            notifyCommandsLoaded();
        });
    }

