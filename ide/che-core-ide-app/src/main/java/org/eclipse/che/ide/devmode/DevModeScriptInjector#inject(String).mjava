  /**
   * Injects the JS script, that communicates with a Code Server, into a host page.
   *
   * @param url host URL where script is located. Usually should be a Code Server URL
   * @return promise that may be resolved if script has been injected successfully or rejected in
   *     case of any error while script injection
   */
  Promise<Void> inject(String url) {
    return CallbackPromiseHelper.createFromCallback(
        promiseCallback ->
            ScriptInjector.fromUrl(url + DEV_MODE_SCRIPT_NAME)
                .setWindow(JsBrowser.getWindow())
                .setCallback(getScriptInjectionCallback(promiseCallback))
                .inject());
  }

