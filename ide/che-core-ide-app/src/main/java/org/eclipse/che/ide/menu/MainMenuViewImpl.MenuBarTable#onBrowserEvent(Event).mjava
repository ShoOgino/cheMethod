    @Override
    public void onBrowserEvent(Event event) {
      Element td = getEventTargetCell(event);
      MenuBarItem item = menuBarItems.get(td);

      if (item == null) {
        return;
      }

      switch (DOM.eventGetType(event)) {
        case Event.ONMOUSEOVER:
          if (selectedMenuBarItem != null && item != selectedMenuBarItem) {
            if (item.onMouseDown()) {
              openPopupMenu(item);
            }
          }

          item.onMouseOver();
          break;

        case Event.ONMOUSEOUT:
          item.onMouseOut();
          break;

        case Event.ONMOUSEDOWN:
          if (item == selectedMenuBarItem) {
            if (lockLayer != null) {
              lockLayer.close();
            }
            return;
          }

          if (item.onMouseDown()) {
            openPopupMenu(item);
          }
          break;

        default:
          break;
      }
    }

