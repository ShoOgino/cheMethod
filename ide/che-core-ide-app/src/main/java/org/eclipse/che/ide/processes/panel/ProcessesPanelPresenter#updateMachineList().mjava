    /**
     * Updates list of the machines from application context.
     */
    public void updateMachineList() {
        if (appContext.getWorkspace() == null) {
            return;
        }

        List<MachineImpl> machines = getMachines();
        if (machines.isEmpty()) {
            return;
        }

        for (MachineImpl machine : machines) {
            if (machine.getServerByName(WSAGENT_REFERENCE).isPresent()) {
                provideMachineNode(machine, true);
                machines.remove(machine);
                break;
            }
        }

        for (MachineImpl machine : machines) {
            provideMachineNode(machine, true);
        }

        ProcessTreeNode machineToSelect = machineNodes.entrySet().iterator().next().getValue();

        view.selectNode(machineToSelect);
        notifyTreeNodeSelected(machineToSelect);
    }

