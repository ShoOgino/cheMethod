    public void handleWorkspaceRunning(Workspace workspace) {
        // FIXME: spi
        // should be set on server `ws-agent` has been started
        ((AppContextImpl)appContext).setProjectsRoot(Path.valueOf("/projects"));

        wsStatusNotification.setSuccess(STARTING_WORKSPACE_RUNTIME);

        final Optional<MachineImpl> devMachine = appContext.getWorkspace().getDevMachine();
        devMachine.ifPresent(machine -> {
            wsAgentStateController.initialize(machine);
            wsAgentURLModifier.initialize(machine);
        });

        eventBus.fireEvent(new WorkspaceStartedEvent(workspace));
    }

