    /**
     * Register macro providers which returns the implementation.
     *
     * @see AbstractServerMacro#getMacros(MachineImpl)
     * @since 4.7.0
     */
    private void registerMacros() {
        final WorkspaceImpl workspace = appContext.getWorkspace();
        final Optional<MachineImpl> devMachine = workspace.getDevMachine();

        if (!devMachine.isPresent()) {
            return;
        }

        final Set<Macro> macros = getMacros(devMachine.get());
        checkNotNull(macros);

        if (macros.isEmpty()) {
            return;
        }

        macroRegistry.register(macros);
    }

