  /** Set the specified goal name for the currently edited command. */
  private void setGoal(String goalName) {
    editedCommand.setGoal(goalName);

    Set<CommandGoal> allGoals = goalRegistry.getAllGoals();
    allGoals.add(goalRegistry.getGoalForId(goalName));

    view.setAvailableGoals(allGoals);
    view.setGoal(goalName);

    notifyDirtyStateChanged();
  }

