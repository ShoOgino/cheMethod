  @Override
  public void search(final String text) {
    final Path startPoint =
        isNullOrEmpty(view.getPathToSearch())
            ? defaultStartPoint
            : Path.valueOf(view.getPathToSearch());

    appContext
        .getWorkspaceRoot()
        .getContainer(startPoint)
        .then(
            optionalContainer -> {
              if (!optionalContainer.isPresent()) {
                view.showErrorMessage("Path '" + startPoint + "' doesn't exist");
                return;
              }

              final Container container = optionalContainer.get();
              QueryExpression queryExpression =
                  container.createSearchQueryExpression(view.getFileMask(), prepareQuery(text));
              queryExpression.setMaxItems(SEARCH_RESULT_ITEMS);
              container
                  .search(queryExpression)
                  .then(
                      result -> {
                        view.close();
                        findResultPresenter.handleResponse(result, queryExpression, text);
                      });
            });
  }

