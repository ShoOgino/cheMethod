  /** {@inheritDoc} */
  @Override
  public Promise<String> expand() {

    List<Node> selectedNodes = projectExplorer.getTree().getSelectionModel().getSelectedNodes();

    if (selectedNodes.isEmpty()) {
      return promises.resolve("");
    }

    final Iterable<Resource> resources =
        transform(filter(selectedNodes, resNodePredicate), nodeToResourceFun);
    final String commaSeparated = Joiner.on(", ").join(transform(resources, resourceToNameFun));

    return promises.resolve(commaSeparated);
  }

