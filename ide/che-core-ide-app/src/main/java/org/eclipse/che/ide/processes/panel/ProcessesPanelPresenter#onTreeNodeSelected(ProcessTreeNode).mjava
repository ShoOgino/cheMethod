  @Override
  public void onTreeNodeSelected(final ProcessTreeNode node) {
    setSelection(new Selection.NoSelectionProvided());

    if (node != null) {
      String nodeId = node.getId();
      ProcessNodeType nodeType = node.getType();
      switch (nodeType) {
        case MACHINE_NODE:
          final MachineImpl machine = getMachine(nodeId);
          if (machine != null) {
            setSelection(new Selection<>(machine));
          }

          view.showProcessOutput(node.getName());
          break;
        case TERMINAL_NODE:
          terminals.get(nodeId);
          // fall through
        default:
          view.showProcessOutput(nodeId);
          refreshStopButtonState(nodeId);
      }
    }

    notifyTreeNodeSelected(node);
  }

