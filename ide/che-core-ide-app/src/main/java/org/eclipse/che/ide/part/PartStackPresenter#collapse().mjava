    @Override
    public void collapse() {
        // Update the view state.
        view.setMaximized(false);

        // Part stack can be collapsed only having NORMAL state.
        if (state != State.NORMAL) {
            return;
        }

        // Collapse and update the state.
        currentSize = workBenchPartController.getSize();
        workBenchPartController.setSize(0);
        state = State.COLLAPSED;

        // Deselect the active tab.
        if (activeTab != null) {
            activeTab.unSelect();
        }

        // Notify the part stack state has been changed.
        Scheduler.get().scheduleDeferred(new Scheduler.ScheduledCommand() {
            @Override
            public void execute() {
                eventBus.fireEvent(new PartStackStateChangedEvent(PartStackPresenter.this));
            }
        });
    }

