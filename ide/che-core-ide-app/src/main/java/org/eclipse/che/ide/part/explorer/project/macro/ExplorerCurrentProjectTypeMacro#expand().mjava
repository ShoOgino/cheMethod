  /** {@inheritDoc} */
  @Override
  public Promise<String> expand() {

    List<Node> selectedNodes = projectExplorer.getTree().getSelectionModel().getSelectedNodes();

    if (selectedNodes.isEmpty() || selectedNodes.size() > 1) {
      return promises.resolve("");
    }

    final Node node = selectedNodes.get(0);

    if (node instanceof ResourceNode) {
      final Optional<Project> project = ((ResourceNode) node).getData().getRelatedProject();

      if (!project.isPresent()) {
        return promises.resolve("");
      }

      return promises.resolve(project.get().getType());
    }

    return promises.resolve("");
  }

