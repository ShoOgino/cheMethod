  /**
   * Forms the query string from collection of query params
   *
   * @param pairs an iterable collection of query params
   * @return query string
   */
  private static String queryString(Collection<Pair<String, String>> pairs) {
    if (pairs.isEmpty()) {
      return "";
    }
    final Joiner joiner = Joiner.on("&");
    final List<String> params = new LinkedList<>();
    for (Pair<String, String> pair : pairs) {
      params.add(pair.first + '=' + pair.second);
    }
    return '?' + joiner.join(params);
  }

