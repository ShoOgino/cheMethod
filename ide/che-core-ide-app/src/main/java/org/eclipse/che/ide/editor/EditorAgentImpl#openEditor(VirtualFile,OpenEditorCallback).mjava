  @Override
  public void openEditor(@NotNull VirtualFile file, @NotNull OpenEditorCallback callback) {
    Path path = file.getLocation();
    EditorPartStack activeEditorPartStack = editorMultiPartStack.getActivePartStack();
    if (activeEditorPartStack != null) {
      PartPresenter openedPart = activeEditorPartStack.getPartByPath(path);
      if (openedPart != null) {
        editorMultiPartStack.setActivePart(openedPart);
        callback.onEditorActivated((EditorPartPresenter) openedPart);
        return;
      }

      if (isFileOpening(path, activeEditorPartStack)) {
        return;
      }
    } else {
      activeEditorPartStack = editorMultiPartStack.createRootPartStack();
    }

    doOpen(file, activeEditorPartStack, callback);
  }

