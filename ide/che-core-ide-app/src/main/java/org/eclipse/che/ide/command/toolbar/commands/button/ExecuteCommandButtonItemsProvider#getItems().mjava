    @Override
    public List<MenuItem> getItems() {
        final List<MenuItem> items = new ArrayList<>(commands.size());

        if (defaultItem != null && defaultItem instanceof MachineItem) {
            items.add(menuItemsFactory.newMachineItem((MachineItem)defaultItem));
        }

        for (CommandImpl command : commands) {
            items.add(menuItemsFactory.newCommandItem(command));
        }

        if (items.isEmpty()) {
            items.add(menuItemsFactory.newGuideItem(goal));
        }

        return items;
    }

