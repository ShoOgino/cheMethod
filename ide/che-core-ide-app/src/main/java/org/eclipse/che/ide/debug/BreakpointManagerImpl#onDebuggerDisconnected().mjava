  @Override
  public void onDebuggerDisconnected() {
    breakpointStorage
        .getAll()
        .forEach(
            breakpoint -> {
              BreakpointRenderer renderer =
                  getBreakpointRendererForFile(breakpoint.getLocation().getTarget());
              if (renderer != null) {
                renderer.setBreakpointMark(
                    breakpoint, false, BreakpointManagerImpl.this::onLineChange);
              }
            });

    deleteSuspendedLocation();

    activeBreakpoints.clear();
    for (BreakpointManagerObserver observer : observers) {
      observer.onBreakpointUpdated(null);
    }
  }

