  @Override
  public void onFileContentUpdate(FileContentUpdateEvent event) {
    if (synchronizedEditors.keySet().isEmpty()) {
      return;
    }

    if (groupLeaderEditor == null) {
      groupLeaderEditor = synchronizedEditors.keySet().iterator().next();
      resolveAutoSave();
    }

    final VirtualFile virtualFile = groupLeaderEditor.getEditorInput().getFile();
    if (!event.getFilePath().equals(virtualFile.getLocation().toString())) {
      return;
    }

    if (!(virtualFile instanceof File)) {
      updateContent(virtualFile, false);
      return;
    }

    File file = (File) virtualFile;

    String eventModificationStamp = event.getModificationStamp();
    String currentModificationStamp = file.getModificationStamp();
    if (isNullOrEmpty(currentModificationStamp) || isNullOrEmpty(eventModificationStamp)) {
      updateContent(virtualFile, false);
      return;
    }

    if (!Objects.equals(eventModificationStamp, currentModificationStamp)) {
      updateContent(virtualFile, true);
    }
  }

