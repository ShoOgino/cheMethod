    /** {@inheritDoc} */
    @Override
    public Optional<Resource> getParentWithMarker(String type) {
        checkArgument(!isNullOrEmpty(type), "Invalid marker type occurred");

        if (getMarker(type).isPresent()) {
            return Optional.<Resource>of(this);
        }

        Optional<Container> optParent = resourceManager.parentOf(this);

        while (optParent.isPresent()) {
            Container parent = optParent.get();

            final Optional<Marker> marker = parent.getMarker(type);
            if (marker.isPresent()) {
                return Optional.<Resource>of(parent);
            }

            optParent = resourceManager.parentOf(this);
        }

        return absent();
    }

