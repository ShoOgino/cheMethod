  @Inject
  public PreviewsPresenter(
      PreviewsView view,
      ExecAgentCommandManager execAgentClient,
      CommandManager commandManager,
      AppContext appContext,
      EventBus eventBus,
      Provider<MacroProcessor> macroProcessorProvider,
      PromiseProvider promiseProvider,
      ToolbarMessages messages) {
    this.view = view;
    this.execAgentClient = execAgentClient;
    this.commandManager = commandManager;
    this.appContext = appContext;
    this.macroProcessorProvider = macroProcessorProvider;
    this.promiseProvider = promiseProvider;
    this.messages = messages;

    view.setDelegate(this);

    eventBus.addHandler(ProcessStartedEvent.TYPE, event -> updateView());
    eventBus.addHandler(ProcessFinishedEvent.TYPE, event -> updateView());
    eventBus.addHandler(WorkspaceStoppedEvent.TYPE, e -> updateView());
    eventBus.addHandler(BasicIDEInitializedEvent.TYPE, e -> updateView());
  }

