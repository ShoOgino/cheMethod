    @Inject
    public CommandManagerImpl(AppContext appContext,
                              PromiseProvider promiseProvider,
                              CommandTypeRegistry commandTypeRegistry,
                              ProjectCommandManagerDelegate projectCommandManagerDelegate,
                              WorkspaceCommandManagerDelegate workspaceCommandManagerDelegate,
                              SelectionAgent selectionAgent,
                              EventBus eventBus,
                              CommandNameGenerator commandNameGenerator) {
        this.appContext = appContext;
        this.promiseProvider = promiseProvider;
        this.commandTypeRegistry = commandTypeRegistry;
        this.projectCommandManager = projectCommandManagerDelegate;
        this.workspaceCommandManager = workspaceCommandManagerDelegate;
        this.selectionAgent = selectionAgent;
        this.eventBus = eventBus;
        this.commandNameGenerator = commandNameGenerator;

        commands = new HashMap<>();

        // FIXME: spi
        // Temporary solution while a better mechanism of obtaining appContext.getProjects() with Promises is being considered...
        eventBus.addHandler(WorkspaceReadyEvent.getType(), e -> fetchCommands());
    }

