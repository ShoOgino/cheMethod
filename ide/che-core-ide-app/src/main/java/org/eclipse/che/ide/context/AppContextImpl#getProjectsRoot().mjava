  @Override
  public Path getProjectsRoot() {

    // default root (backward compatible solution)
    Path projectsRoot = Path.valueOf("/projects");

    if (workspace != null && workspace.getStatus().equals(WorkspaceStatus.RUNNING)) {

      String machineName =
          wsAgentServerUtilProvider.get().getWsAgentServerMachine().get().getName();
      String activeEnv = workspace.getRuntime().getActiveEnv();

      EnvironmentImpl environment = workspace.getConfig().getEnvironments().get(activeEnv);
      VolumeImpl vol = null;
      if (environment != null) {
        vol = environment.getMachines().get(machineName).getVolume("projects");
      }

      // if voulme exists return its path, otherwise use backward compatible path (/projects)
      if (vol != null) {
        projectsRoot = Path.valueOf(vol.getPath());
      }
    }

    Log.debug(
        AppContextImpl.class,
        "Project Root: " + projectsRoot + " workspace: " + workspace.getConfig().getName());

    return projectsRoot;
  }

