  @Override
  public Path getProjectsRoot() {

    // default root (backward compatible solution)
    Path projectsRoot = Path.valueOf("/projects");

    if (workspace != null && workspace.getStatus().equals(WorkspaceStatus.RUNNING)) {

      String machineName =
          wsAgentServerUtilProvider.get().getWsAgentServerMachine().get().getName();
      String activeEnv = workspace.getRuntime().getActiveEnv();

      projectsRoot =
          Path.valueOf(
              workspace
                  .getConfig()
                  .getEnvironments()
                  .get(activeEnv)
                  .getMachines()
                  .get(machineName)
                  .getVolumes()
                  .get("projects")
                  .getPath());
    }

    Log.debug(
        AppContextImpl.class,
        "Project Root: " + projectsRoot + " workspace: " + workspace.getConfig().getName());

    return projectsRoot;
  }

