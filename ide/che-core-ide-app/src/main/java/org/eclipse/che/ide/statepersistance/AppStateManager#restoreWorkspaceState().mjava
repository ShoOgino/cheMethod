  @VisibleForTesting
  Promise<Void> restoreWorkspaceState() {
    final String wsId = appContext.getWorkspace().getId();

    if (allWsState.hasKey(wsId)) {
      return restoreState(allWsState.getObject(wsId));
    }
    return promises.resolve(null);
  }

