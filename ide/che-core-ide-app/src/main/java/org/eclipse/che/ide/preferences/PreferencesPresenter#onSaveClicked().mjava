  @Override
  public void onSaveClicked() {
    for (PreferencePagePresenter preference : preferences) {
      if (preference.isDirty()) {
        preference.storeChanges();
      }
    }

    Promise<Void> promise = Promises.resolve(null);
    final List<PromiseError> promiseErrorList = new ArrayList<>();

    for (final PreferencesManager preferencesManager : managers) {
      promise =
          promise.thenPromise(
              ignored ->
                  preferencesManager
                      .flushPreferences()
                      .catchError(
                          error -> {
                            notificationManagerProvider
                                .get()
                                .notify(
                                    locale.unableToSavePreference(),
                                    error.getMessage(),
                                    FAIL,
                                    FLOAT_MODE);
                            promiseErrorList.add(error);
                          }));
    }

    promise.then(
        ignored -> {
          if (promiseErrorList.isEmpty()) {
            view.enableSaveButton(false);
          }
        });
  }

