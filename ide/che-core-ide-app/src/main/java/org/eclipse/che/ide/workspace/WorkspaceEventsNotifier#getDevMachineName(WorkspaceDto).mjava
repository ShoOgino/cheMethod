    private String getDevMachineName(final WorkspaceDto workspace) {
        WorkspaceRuntime runtime = workspace.getRuntime();
        if (runtime == null) {
            return null;
        }

        String activeEnv = runtime.getActiveEnv();
        EnvironmentDto environment = workspace.getConfig().getEnvironments().get(activeEnv);
        if (environment != null) {
            for (Map.Entry<String, ExtendedMachineDto> machineEntry : environment.getMachines()
                                                                                 .entrySet()) {
                if (machineEntry.getValue().getAgents().contains("ws-agent")) {
                    return machineEntry.getKey();
                }
            }
        }

        // if no machine with ws-agent found
        return null;
    }

