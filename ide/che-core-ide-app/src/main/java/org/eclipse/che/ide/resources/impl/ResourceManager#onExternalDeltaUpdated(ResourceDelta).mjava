  private Promise<Void> onExternalDeltaUpdated(final ResourceDelta delta) {
    if (delta.getToPath().segmentCount() == 0) {
      workspaceRoot.synchronize();

      return promises.resolve(null);
    }

    return findResource(delta.getToPath(), true)
        .thenPromise(
            resource -> {
              if (resource.isPresent()) {
                eventBus.fireEvent(
                    new ResourceChangedEvent(
                        new ResourceDeltaImpl(resource.get(), UPDATED | DERIVED)));
              }

              return promises.resolve(null);
            });
  }

