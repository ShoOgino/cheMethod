  public void show(Resource[] resources, boolean showFiles, SelectionPathHandler handler) {
    checkArgument(resources != null, "Null resources occurred");

    if (resources.length == 0) {
      view.setStructure(Collections.<Node>emptyList(), showFiles);
      return;
    }

    final List<Node> nodes = new ArrayList<>();
    final NodeSettings settings = settingsProvider.getSettings();

    for (Resource resource : resources) {
      if (resource.getResourceType() == Resource.FILE && !showFiles) {
        continue;
      }

      final Node node;

      if (resource.getResourceType() == Resource.FILE) {
        node = nodeFactory.newFileNode((File) resource, settings);
      } else {
        node = nodeFactory.newContainerNode((Container) resource, settings);
      }

      nodes.add(node);
    }

    view.setStructure(nodes, showFiles);

    this.handler = handler;

    view.show();
  }

