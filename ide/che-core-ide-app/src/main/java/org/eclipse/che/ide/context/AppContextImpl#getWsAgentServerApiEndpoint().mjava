  @Override
  public String getWsAgentServerApiEndpoint() {
    RuntimeImpl runtime = getWorkspace().getRuntime();
    Optional<MachineImpl> devMachine = runtime.getDevMachine();

    if (devMachine.isPresent()) {
      Optional<ServerImpl> wsAgentServer =
          devMachine.get().getServerByName(SERVER_WS_AGENT_HTTP_REFERENCE);

      if (wsAgentServer.isPresent()) {
        return wsAgentServer.get().getUrl();
      }
    }

    throw new RuntimeException("ws-agent server doesn't exist");
  }

