    @Override
    public void onWorkspaceRunning(WorkspaceRunningEvent event) {
        List<MachineImpl> wsMachines = getMachines();
        if (wsMachines.isEmpty()) {
            return;
        }

        MachineImpl devMachine = null;
        for (MachineImpl machine : wsMachines) {
            if (machine.getServerByName(SERVER_WS_AGENT_HTTP_REFERENCE).isPresent()) {
                devMachine = machine;
                break;
            }
        }

        ProcessTreeNode machineToSelect = null;
        if (devMachine != null) {
            machineToSelect = provideMachineNode(devMachine.getName(), true);
            wsMachines.remove(devMachine);
        }

        for (MachineImpl machine : wsMachines) {
            provideMachineNode(machine.getName(), true);
        }

        if (machineToSelect != null) {
            view.selectNode(machineToSelect);
            notifyTreeNodeSelected(machineToSelect);
        } else if (!machineNodes.isEmpty()) {
            machineToSelect = machineNodes.entrySet().iterator().next().getValue();
            view.selectNode(machineToSelect);
            notifyTreeNodeSelected(machineToSelect);
        }

        for (MachineImpl machine : machines.values()) {
            if (/*RUNNING.equals(machine.getStatus()) && */!wsMachines.contains(machine)) {
                provideMachineNode(machine.getName(), true);
            }
        }
    }

