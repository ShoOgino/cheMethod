  @Override
  public void delete(Breakpoint breakpoint) {
    breakpointStorage.delete(breakpoint);
    activeBreakpoints.remove(breakpoint);

    BreakpointRenderer renderer =
        getBreakpointRendererForFile(breakpoint.getLocation().getTarget());
    if (renderer != null) {
      renderer.removeBreakpointMark(breakpoint.getLocation().getLineNumber() - 1);
    }

    Debugger debugger = debuggerManager.getActiveDebugger();
    if (debugger != null) {
      debugger.deleteBreakpoint(breakpoint);
    }

    for (BreakpointManagerObserver observer : observers) {
      observer.onBreakpointDeleted(breakpoint);
    }
  }

