  @UiHandler("fileName")
  void handleKeyDown(KeyDownEvent event) {
    int nativeKeyCode = event.getNativeKeyCode();
    switch (nativeKeyCode) {
      case KEY_UP:
        event.stopPropagation();
        event.preventDefault();
        if (list != null) {
          list.getSelectionModel().selectPrevious();
        }
        break;

      case KEY_DOWN:
        event.stopPropagation();
        event.preventDefault();
        if (list != null) {
          list.getSelectionModel().selectNext();
        }
        break;

      case KEY_PAGEUP:
        event.stopPropagation();
        event.preventDefault();
        if (list != null) {
          list.getSelectionModel().selectPreviousPage();
        }
        break;

      case KEY_PAGEDOWN:
        event.stopPropagation();
        event.preventDefault();
        if (list != null) {
          list.getSelectionModel().selectNextPage();
        }
        break;

      case KEY_ENTER:
        event.stopPropagation();
        event.preventDefault();
        SearchResultDto selectedItem = list.getSelectionModel().getSelectedItem();
        if (selectedItem != null) {
          delegate.onFileSelected(Path.valueOf(selectedItem.getItemReference().getPath()));
        }
        break;

      case KEY_ESCAPE:
        event.stopPropagation();
        event.preventDefault();
        hidePopup();
        break;
      default:
        // here need some delay to be sure input box initiated with given value
        // in manually testing hard to reproduce this problem but it reproduced with selenium tests
        new Timer() {
          @Override
          public void run() {
            String fileName = NavigateToFileViewImpl.this.fileName.getText();
            // Skip handling non letter characters.
            if (nativeKeyCode == KEY_BACKSPACE
                || nativeKeyCode == KEY_DELETE
                || fileName
                    .toLowerCase()
                    .contains(String.valueOf((char) nativeKeyCode).toLowerCase())) {
              delegate.onFileNameChanged(fileName);
            }
          }
        }.schedule(300);
        break;
    }
  }

