  @Inject
  GoalPopUpGroup(
      @Assisted String goalId,
      ActionManager actionManager,
      CommandGoalRegistry goalRegistry,
      IconRegistry iconRegistry) {
    super(actionManager);

    this.iconRegistry = iconRegistry;
    commandGoal = goalRegistry.getGoalForId(goalId);

    setPopup(true);

    // set icon
    final SVGResource commandTypeIcon = getCommandGoalIcon();
    if (commandTypeIcon != null) {
      getTemplatePresentation().setSVGResource(commandTypeIcon);
    }
  }

