    private WorkspaceConfigDto getWorkspaceConfig() {
        String wsName = view.getWorkspaceName();

        EnvironmentRecipeDto recipe = dtoFactory.createDto(EnvironmentRecipeDto.class)
                                                .withType("compose")
                                                .withLocation(view.getRecipeUrl())
                                                .withContentType("application/x-yaml");

        ExtendedMachineDto machine = dtoFactory.createDto(ExtendedMachineDto.class)
                                               .withAgents(Collections.singletonList("ws-agent"));

        EnvironmentDto environment = dtoFactory.createDto(EnvironmentDto.class)
                                               .withRecipe(recipe)
                                               .withMachines(singletonMap(WS_MACHINE_NAME, machine));

        return dtoFactory.createDto(WorkspaceConfigDto.class)
                         .withName(wsName)
                         .withDefaultEnv(wsName)
                         .withEnvironments(singletonMap(wsName, environment));
    }

