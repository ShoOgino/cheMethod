  private WorkspaceConfigDto getWorkspaceConfig() {
    String wsName = view.getWorkspaceName();

    EnvironmentRecipeDto recipe =
        dtoFactory
            .createDto(EnvironmentRecipeDto.class)
            .withType("dockerimage")
            .withLocation(view.getRecipeUrl());

    ExtendedMachineDto machine =
        dtoFactory
            .createDto(ExtendedMachineDto.class)
            .withAgents(singletonList("org.eclipse.che.ws-agent"))
            .withAttributes(singletonMap("memoryLimitBytes", MEMORY_LIMIT_BYTES));

    EnvironmentDto environment =
        dtoFactory
            .createDto(EnvironmentDto.class)
            .withRecipe(recipe)
            .withMachines(singletonMap(WS_MACHINE_NAME, machine));

    return dtoFactory
        .createDto(WorkspaceConfigDto.class)
        .withName(wsName)
        .withDefaultEnv(wsName)
        .withEnvironments(singletonMap(wsName, environment));
  }

