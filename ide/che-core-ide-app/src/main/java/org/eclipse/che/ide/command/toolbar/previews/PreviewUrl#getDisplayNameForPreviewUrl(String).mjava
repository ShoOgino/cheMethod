    private String getDisplayNameForPreviewUrl(String previewUrl) {
        final WorkspaceImpl workspace = appContext.getWorkspace();
        final Optional<MachineImpl> devMachine = workspace.getDevMachine();

        if (!devMachine.isPresent()) {
            return previewUrl;
        }

        for (Entry<String, ? extends Server> entry : devMachine.get().getServers().entrySet()) {
            Server server = entry.getValue();
            String serverUrl = server.getUrl();

            if (serverUrl == null) {
                continue;
            }

            if (previewUrl.startsWith(serverUrl)) {
                String port = entry.getKey();

                // server's port may be in form of '8080/tcp' so need to cut protocol name
                final int slashIndex = port.lastIndexOf('/');
                if (slashIndex > -1) {
                    port = port.substring(0, slashIndex);
                }

                return previewUrl.replace(serverUrl, devMachine.get().getName() + ':' + port);
            }
        }

        return previewUrl;
    }

