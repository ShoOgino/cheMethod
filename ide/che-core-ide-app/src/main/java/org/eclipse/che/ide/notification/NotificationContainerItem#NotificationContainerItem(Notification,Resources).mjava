  /**
   * Create notification item.
   *
   * @param resources core resources
   * @param notification notification which should be wrapped into widget
   */
  public NotificationContainerItem(final Notification notification, @NotNull Resources resources) {
    notification.addObserver(this);

    this.resources = resources;
    this.notification = notification;

    iconPanel = new SimplePanel();

    FlowPanel contentWrapper = new FlowPanel();
    contentWrapper.add(titlePanel = createTitleWidget());
    contentWrapper.add(messagePanel = createContentWidget());
    contentWrapper.ensureDebugId(CONTENT_DBG_ID + notification.getId());
    contentWrapper.setStyleName(resources.notificationCss().notificationContentWrapper());

    FlowPanel notificationWrapper = new FlowPanel();
    notificationWrapper.add(iconPanel = createIconWidget());
    notificationWrapper.add(contentWrapper);
    notificationWrapper.add(createCloseWidget());
    notificationWrapper.ensureDebugId(NOTIFICATION_WRAPPER_DBG_ID + notification.getId());
    notificationWrapper.setStyleName(resources.notificationCss().notification());

    update();

    sinkEvents(Event.ONCLICK | Event.ONDBLCLICK);

    initWidget(notificationWrapper);
  }

