  /** Create new {@link MainMenuViewImpl} */
  @Inject
  public MainMenuViewImpl(
      MenuResources resources,
      ActionManager actionManager,
      KeyBindingAgent keyBindingAgent,
      Provider<PerspectiveManager> managerProvider,
      CommandToolbarPresenter toolbarPresenter) {
    this.resources = resources;
    this.actionManager = actionManager;
    this.keyBindingAgent = keyBindingAgent;
    this.managerProvider = managerProvider;

    initWidget(rootPanel);
    disableTextSelection(rootPanel.getElement(), true);

    rootPanel.setStyleName(resources.menuCss().menuBar());

    leftPanel.addStyleName(resources.menuCss().leftPanel());

    table.setStyleName(resources.menuCss().menuBarTable());
    table.setCellPadding(0);
    table.setCellSpacing(0);

    final DivElement triangleSeparator =
        Elements.createDivElement(resources.menuCss().triangleSeparator());

    rightPanel.addStyleName(resources.menuCss().rightPanel());
    rightPanel.addStyleName(resources.menuCss().commandToolbar());

    rootPanel.add(leftPanel);
    rootPanel.add(table);
    rootPanel.getElement().appendChild((Element) triangleSeparator);
    rootPanel.add(rightPanel);

    toolbarPresenter.go(rightPanel::add);
  }

