  /** Start the current workspace with a default environment. */
  Promise<Void> startWorkspace() {
    WorkspaceImpl workspace = appContext.getWorkspace();
    String defEnvName = workspace.getConfig().getDefaultEnv();

    return workspaceServiceClient
        .startById(workspace.getId(), defEnvName)
        .then(
            ws -> {
              ((AppContextImpl) appContext).setWorkspace(ws);
              eventBus.fireEvent(new WorkspaceStartingEvent());
            })
        .then((Function<WorkspaceImpl, Void>) arg -> null)
        .catchError(
            error -> {
              dialogFactory
                  .createMessageDialog(messages.startWsErrorTitle(), error.getMessage(), null)
                  .show();

              wsStatusNotification.setError(STARTING_WORKSPACE_RUNTIME);
              startWorkspaceNotification.show();
            });
  }

