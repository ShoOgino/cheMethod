  private Promise<Void> restoreWorkspaceStateWithDelay() {
    return AsyncPromiseHelper.createFromAsyncRequest(
        callback ->
            new Timer() {
              @Override
              public void run() {
                restoreWorkspaceState()
                    .then(
                        arg -> {
                          callback.onSuccess(null);
                        })
                    .catchError(
                        arg -> {
                          callback.onFailure(arg.getCause());
                        });
              }
            }.schedule(1000));
  }

