  private void traverse(TreeElement tree, ResourceVisitor visitor) {
    for (final TreeElement element : tree.getChildren()) {

      final Resource resource = newResourceFrom(element.getNode());
      visitor.visit(resource);

      if (resource instanceof Container) {
        traverse(element, visitor);
      }
    }
  }

