    protected String getUrl(Resource resource) {
        checkArgument(!resource.getLocation().isRoot(), "Workspace root doesn't have export URL");

        final String baseUrl = appContext.getWsAgentServerApiEndpoint() + "/project/export";

        if (resource.getResourceType() == FILE) {
            return baseUrl + "/file" + resource.getLocation();
        }

        return urlModifier.modify(baseUrl + resource.getLocation());
    }

