    private void initialize() {
        String protocol = "https:".equals(getProtocol()) ? "wss://" : "ws://";
        String host = getHost();
        String context = "/wsmaster/websocket";
        String url = protocol + host + context;
        String separator = url.contains("?") ? "&" : "?";
        String queryParams = appContext.getApplicationWebsocketId().map(id -> separator + "clientId=" + id).orElse("");
        String wsMasterEndpointURL = url + queryParams;

        Set<Runnable> initActions = appContext.getApplicationWebsocketId().isPresent() ? emptySet() : singleton(this::processWsId);

        initializer.initialize(WS_MASTER_JSON_RPC_ENDPOINT_ID, singletonMap("url", wsMasterEndpointURL), initActions);
    }

