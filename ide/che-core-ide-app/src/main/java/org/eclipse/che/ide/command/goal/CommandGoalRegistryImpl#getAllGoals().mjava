  @Override
  public Set<CommandGoal> getAllGoals() {
    Set<CommandGoal> goals = getAllPredefinedGoals();
    goals.addAll(
        commandManager
            .getCommands()
            .stream()
            .map(command -> getGoalForId(command.getGoal()))
            .collect(toSet()));
    return goals;
  }

