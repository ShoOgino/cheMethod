        private void handleEnvironmentStatusChanged(MachineStatusEvent event) {
            final String machineId = event.getMachineId();
            final String workspaceId = event.getWorkspaceId();

            workspaceServiceClient.getWorkspace(workspaceId).then(workspace -> {
                RuntimeDto workspaceRuntime = workspace.getRuntime();
                if (workspaceRuntime == null) {
                    return;
                }

                ((AppContextImpl)appContext).setWorkspace(workspace);

                switch (event.getEventType()) {
                    case CREATING:
                        handleMachineCreating(machineId);
                        break;
                    case RUNNING:
                        handleMachineRunning(machineId);
                        break;
                    case ERROR:
                        handleMachineError(event);
                        break;
                }
            });
        }

