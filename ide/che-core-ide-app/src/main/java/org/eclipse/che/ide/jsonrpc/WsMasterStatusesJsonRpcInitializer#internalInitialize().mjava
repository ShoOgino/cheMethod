    private void internalInitialize() {
        String workspaceMasterUrl;

        try {
            UrlBuilder builder = new UrlBuilder(getWebsocketContext());

            if (builder.getProtocol() != null && !builder.getProtocol().isEmpty()) {
                workspaceMasterUrl = builder.getUrl() + "/" + appContext.getAppId();
            } else {
                workspaceMasterUrl = getWsMasterURL();
            }
        } catch (IllegalArgumentException e) {
            workspaceMasterUrl = getWsMasterURL();
        }

        initializer.initialize("workspace/statuses", singletonMap("url", workspaceMasterUrl));
    }

