    /** Start the current workspace with a default environment. */
    void startWorkspace(boolean restoreFromSnapshot) {
        final WorkspaceImpl workspace = appContext.getWorkspace();
        final WorkspaceStatus workspaceStatus = workspace.getStatus();

        if (workspaceStatus != STOPPED && workspaceStatus != STOPPING) {
            return;
        }

        wsStatusNotification.show(STARTING_WORKSPACE_RUNTIME);

        workspaceServiceClient.getSettings().then(settings -> {
            if (Boolean.parseBoolean(settings.getOrDefault(CHE_WORKSPACE_AUTO_START, "true"))) {
                subscribeToEvents();

                final String defEnvName = workspace.getConfig().getDefaultEnv();

                workspaceServiceClient.startById(workspace.getId(), defEnvName, restoreFromSnapshot)
                                      .catchError(error -> {
                                          notificationManagerProvider.get().notify(messages.startWsErrorTitle(),
                                                                                   error.getMessage(),
                                                                                   FAIL,
                                                                                   FLOAT_MODE);
                                          wsStatusNotification.setError(STARTING_WORKSPACE_RUNTIME);
                                      });
            } else {
                wsStatusNotification.show(WORKSPACE_STOPPED);
            }
        });
    }

