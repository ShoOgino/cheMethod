  /**
   * Updates browser's address along with tab title in accordance to current running workspace.
   *
   * @param namespace namespace of workspace
   * @param workspaceName name of the current running workspace. Can be null or empty if workspace
   *     was stopped.
   */
  public void setAddress(String namespace, String workspaceName) {
    String browserUrl = Window.Location.getPath();
    int currentSlashIndex = 0;
    int currentSlashNumber = 0;
    while (currentSlashNumber < NAMESPACE_START_SEGMENT) {
      currentSlashIndex = browserUrl.indexOf('/', currentSlashIndex);
      currentSlashNumber++;
    }

    String baseUrl =
        browserUrl.substring(0, currentSlashIndex) + "/" + namespace + "/" + workspaceName;

    String title;
    if (workspaceName == null || workspaceName.isEmpty()) {
      title = productInfoDataProvider.getDocumentTitle();
    } else {
      title = productInfoDataProvider.getDocumentTitle(workspaceName);
    }
    doSetAddress(baseUrl, title);
  }

