    protected EditorPartPresenter getPreviousEditorBaseOn(EditorPartPresenter editor) {
        checkArgument(editor != null);

        final List<EditorPartPresenter> openedEditors = editorAgent.getOpenedEditors();

        checkState(openedEditors != null && !openedEditors.isEmpty());

        final int index = openedEditors.indexOf(editor);
        if (index == 0) {
            //return the last editor
            return openedEditors.get(openedEditors.size() - 1);
        }

        return openedEditors.get(index - 1);
    }

