  @Override
  public void onWindowClosing(WindowActionEvent event) {
    if (!closeImmediately) {
      if (!isEditorsClean()) {
        event.setMessage(localizationConstant.changesMayBeLost());
      } else if (Boolean.parseBoolean(preferencesManager.getValue(PREF_IDE_GENERAL_TAB_CLOSING))) {
        event.setMessage(localizationConstant.closeTabConfirmation());
      }
    }
  }

