  Promise<Optional<Container>> getContainer(final Path absolutePath) {
    return findResource(absolutePath)
        .thenPromise(
            optResource -> {
              if (optResource.isPresent()) {
                Resource resource = optResource.get();
                checkState(resource instanceof Container, "Not a container");
                return promises.resolve(of((Container) resource));
              }

              return promises.resolve(absent());
            });
  }

