    private Promise<Void> pasteSuccessively(Promise<Void> promise, Resource[] resources, int position, final Path destination) {
        if (position == resources.length) {
            return promise;
        }

        final Resource resource = resources[position];
        final Promise<Void> derivedPromise;

        if (move) {
            derivedPromise = promise.thenPromise(ignored -> moveResource(resource, destination.append(resource.getName())));
        } else {
            derivedPromise = promise.thenPromise(ignored -> copyResource(resource, destination.append(resource.getName())));
        }

        return pasteSuccessively(derivedPromise, resources, ++position, destination);
    }

