    @Before
    public void setUp() throws Exception {
        when(project.getPath()).thenReturn(PROJECT_PATH);
        when(appContext.getProjects()).thenReturn(new Project[]{project});
        when(editedCommand.getApplicableContext()).thenReturn(applicableContext);

        page.setDirtyStateListener(dirtyStateListener);
        page.edit(editedCommand);
    }

