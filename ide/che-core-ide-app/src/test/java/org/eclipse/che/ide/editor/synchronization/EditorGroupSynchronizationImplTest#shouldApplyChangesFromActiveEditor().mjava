  @Test
  public void shouldApplyChangesFromActiveEditor() {
    int offset = 10;
    int removeCharCount = 100;
    String text = "someText";
    when(documentChangeEvent.getOffset()).thenReturn(offset);
    when(documentChangeEvent.getRemoveCharCount()).thenReturn(removeCharCount);
    when(documentChangeEvent.getText()).thenReturn(text);
    DocumentHandle documentHandle1 = mock(DocumentHandle.class);
    when(documentChangeEvent.getDocument()).thenReturn(documentHandle1);
    when(documentHandle1.isSameAs(documentHandle)).thenReturn(true);

    addEditorsToGroup();
    editorGroupSynchronization.onDocumentChanged(documentChangeEvent);

    verify(document, times(2)).replace(eq(offset), eq(removeCharCount), eq(text));
  }

