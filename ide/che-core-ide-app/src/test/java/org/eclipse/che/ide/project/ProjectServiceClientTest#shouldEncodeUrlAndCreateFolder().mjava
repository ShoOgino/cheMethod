  @Test
  public void shouldEncodeUrlAndCreateFolder() {
    client.createFolder(resourcePath);

    verify(requestFactory).createPostRequest(any(), any());
    verify(loaderFactory).newLoader("Creating folder...");
    verify(asyncRequest).loader(messageLoader);
    verify(unmarshaller).newUnmarshaller(ItemReference.class);
    verify(asyncRequest).send(unmarshallableItemRef);
  }

