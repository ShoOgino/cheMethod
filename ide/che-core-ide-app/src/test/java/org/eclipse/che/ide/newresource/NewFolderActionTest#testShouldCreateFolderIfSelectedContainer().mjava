    @Test
    public void testShouldCreateFolderIfSelectedContainer() throws Exception {
        when(appContext.getResource()).thenReturn(parent);

        when(parent.newFolder(anyString())).thenReturn(folderPromise);
        when(folderPromise.then(any(Operation.class))).thenReturn(folderPromise);
        when(folderPromise.catchError(any(Operation.class))).thenReturn(folderPromise);

        action.createFolder("name");

        verify(parent).newFolder(eq("name"));
    }

