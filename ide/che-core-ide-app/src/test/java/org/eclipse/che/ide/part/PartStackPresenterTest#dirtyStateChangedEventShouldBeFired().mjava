  @Test
  public void dirtyStateChangedEventShouldBeFired() {
    presenter.addPart(partPresenter);

    verify(partPresenter).addPropertyListener(listenerCaptor.capture());
    listenerCaptor.getValue().propertyChanged(editorPartPresenter, EditorPartPresenter.PROP_DIRTY);

    verify(eventBus)
        .fireEvent(org.mockito.ArgumentMatchers.<EditorDirtyStateChangedEvent>anyObject());
  }

