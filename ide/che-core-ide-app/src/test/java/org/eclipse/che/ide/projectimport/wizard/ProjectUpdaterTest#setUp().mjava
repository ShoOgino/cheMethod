    @Before
    @SuppressWarnings("unchecked")
    public void setUp() {
        when(appContext.getWorkspace()).thenReturn(usersWorkspaceDtoMock);
        when(appContext.getDevMachine()).thenReturn(devMachine);
        when(devMachine.getWsAgentBaseUrl()).thenReturn("/ext");
        when(usersWorkspaceDtoMock.getConfig()).thenReturn(workspaceConfigDtoMock);
        when(projectConfig.getName()).thenReturn(PROJECT_NAME);

        getUpdatedProjectMock = createPromiseMock();
        getProjectsMock = createPromiseMock();

        when(projectServiceClient.updateProject(eq(devMachine), anyString(), any(ProjectConfigDto.class))).thenReturn(getUpdatedProjectMock);
        when(projectServiceClient.getProjects(eq(devMachine))).thenReturn(getProjectsMock);

        updater = new ProjectUpdater(projectServiceClient,
                                     projectNotificationSubscriber,
                                     eventBus,
                                     appContext);
    }

