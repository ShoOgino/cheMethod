  @Test
  public void shouldUpdateContentOnFileContentUpdateEvent() {
    editorGroupSynchronization.addEditor(openedEditor1);
    reset(documentEventBus);
    when(fileContentUpdateEvent.getFilePath()).thenReturn(FILE_LOCATION);

    editorGroupSynchronization.onFileContentUpdate(fileContentUpdateEvent);

    verify(documentStorage).getDocument(anyObject(), documentCallbackCaptor.capture());
    documentCallbackCaptor.getValue().onDocumentReceived(FILE_NEW_CONTENT);

    verify(document).replace(anyInt(), anyInt(), eq(FILE_NEW_CONTENT));
    verify(notificationManager, never())
        .notify(anyString(), (StatusNotification.Status) anyObject(), anyObject());
  }

