    @Test
    public void onSnapshotCreationErrorEventReceivedTest() throws Exception {
        when(workspaceStatusEvent.getEventType()).thenReturn(SNAPSHOT_CREATION_ERROR);

        workspaceEventsHandler.trackWorkspaceEvents(workspace, callback);
        workspaceEventsHandler.workspaceStatusSubscriptionHandler.onMessageReceived(workspaceStatusEvent);

        verify(loader).setError(eq(LoaderPresenter.Phase.CREATING_WORKSPACE_SNAPSHOT));
        verify(snapshotCreator).creationError(anyString());
    }

