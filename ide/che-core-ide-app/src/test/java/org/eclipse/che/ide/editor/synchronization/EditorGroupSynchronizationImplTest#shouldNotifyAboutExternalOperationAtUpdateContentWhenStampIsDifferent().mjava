    @Test
    public void shouldNotifyAboutExternalOperationAtUpdateContentWhenStampIsDifferent() {
        editorGroupSynchronization.addEditor(openedEditor1);
        reset(documentEventBus);
        when(fileContentUpdateEvent.getFilePath()).thenReturn(FILE_LOCATION);
        when(fileContentUpdateEvent.getModificationStamp()).thenReturn("some stamp");

        editorGroupSynchronization.onFileContentUpdate(fileContentUpdateEvent);

        verify(documentStorage).getDocument(anyObject(), documentCallbackCaptor.capture());
        documentCallbackCaptor.getValue().onDocumentReceived(FILE_NEW_CONTENT);

        verify(notificationManager).notify(anyString(), anyString(), eq(SUCCESS), eq(NOT_EMERGE_MODE));
    }

