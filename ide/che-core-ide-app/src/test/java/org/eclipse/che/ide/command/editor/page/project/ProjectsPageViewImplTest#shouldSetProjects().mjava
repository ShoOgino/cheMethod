    @Test
    public void shouldSetProjects() throws Exception {
        // given
        Project p1 = mock(Project.class);
        Project p2 = mock(Project.class);

        Map<Project, Boolean> projects = new HashMap<>();
        projects.put(p1, true);
        projects.put(p2, true);

        // when
        view.setProjects(projects);

        // then
        verify(view.projectsPanel).clear();
        verify(view.mainPanel).setVisible(eq(Boolean.TRUE));
        verify(view.projectsPanel, times(projects.size())).add(any(ProjectSwitcher.class));
    }

