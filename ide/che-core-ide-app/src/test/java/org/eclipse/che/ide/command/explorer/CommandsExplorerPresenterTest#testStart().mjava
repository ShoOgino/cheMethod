    @Test
    public void testStart() throws Exception {
        Callback callback = mock(Callback.class);

        presenter.start(callback);

        verify(workspaceAgent).openPart(presenter, PartStackType.NAVIGATION, Constraints.LAST);
        verifyViewRefreshed();

        verify(eventBus).addHandler(eq(CommandAddedEvent.getType()), any(CommandAddedHandler.class));
        verify(eventBus).addHandler(eq(CommandRemovedEvent.getType()), any(CommandRemovedHandler.class));
        verify(eventBus).addHandler(eq(CommandUpdatedEvent.getType()), any(CommandUpdatedHandler.class));

        verify(callback).onSuccess(presenter);
    }

