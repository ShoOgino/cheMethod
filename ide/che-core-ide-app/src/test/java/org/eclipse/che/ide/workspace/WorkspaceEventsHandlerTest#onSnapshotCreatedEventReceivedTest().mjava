    @Test
    public void onSnapshotCreatedEventReceivedTest() throws Exception {
        when(workspaceStatusEvent.getEventType()).thenReturn(SNAPSHOT_CREATED);

        workspaceEventsHandler.trackWorkspaceEvents(workspace, callback);
        workspaceEventsHandler.workspaceStatusSubscriptionHandler.onMessageReceived(workspaceStatusEvent);

        verify(loader).setSuccess(eq(LoaderPresenter.Phase.CREATING_WORKSPACE_SNAPSHOT));
        verify(snapshotCreator).successfullyCreated();
    }

