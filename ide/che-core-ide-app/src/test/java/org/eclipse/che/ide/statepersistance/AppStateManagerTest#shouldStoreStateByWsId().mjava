  @Test
  public void shouldStoreStateByWsId() throws Exception {
    appStateManager.persistWorkspaceState();
    verify(preferencesManager)
        .setValue(preferenceArgumentCaptor.capture(), jsonArgumentCaptor.capture());
    assertThat(preferenceArgumentCaptor.getValue()).isNotNull();
    assertThat(preferenceArgumentCaptor.getValue()).isNotNull();
    JsonObject object = Json.parse(jsonArgumentCaptor.getValue());
    assertThat(object.hasKey(WS_ID)).isTrue();
  }

