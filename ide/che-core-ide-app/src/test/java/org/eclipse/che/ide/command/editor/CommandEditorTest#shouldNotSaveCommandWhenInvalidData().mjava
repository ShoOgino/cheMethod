  @Test()
  public void shouldNotSaveCommandWhenInvalidData() throws Exception {
    when(namePage.hasInvalidData()).thenReturn(true);

    editor.doSave();

    verify(dialogFactory).createMessageDialog(anyString(), anyString(), any(ConfirmCallback.class));
    verify(commandManager, never()).updateCommand(anyString(), eq(editor.editedCommand));
  }

