  @Test
  public void testShouldUnSubscribeFromDisplayingNotification() throws Exception {
    //given
    when(constant.importProjectMessageSuccess(nullable(String.class))).thenReturn("message");
    final StatusNotification statusNotification = mock(StatusNotification.class);
    when(notificationManager.notify(
            nullable(String.class), nullable(Status.class), nullable(DisplayMode.class)))
        .thenReturn(statusNotification);
    final MethodNameConfigurator methodNameConfigurator = mock(MethodNameConfigurator.class);
    when(configurator.newConfiguration()).thenReturn(methodNameConfigurator);
    final ParamsConfigurator paramsConfigurator = mock(ParamsConfigurator.class);
    when(methodNameConfigurator.methodName(nullable(String.class))).thenReturn(paramsConfigurator);
    final ResultConfiguratorFromOne resultConfiguratorFromOne =
        mock(ResultConfiguratorFromOne.class);
    when(paramsConfigurator.paramsAsDto(any())).thenReturn(resultConfiguratorFromOne);
    final ConsumerConfiguratorOneToNone consumerConfiguratorOneToNone =
        mock(ConsumerConfiguratorOneToNone.class);
    when(resultConfiguratorFromOne.noResult()).thenReturn(consumerConfiguratorOneToNone);

    //when
    notifier.subscribe("project");
    notifier.onSuccess();

    //then
    verify(statusNotification).setStatus(eq(SUCCESS));
    verify(statusNotification).setTitle(eq("message"));
    verify(statusNotification).setContent(eq(""));
  }

