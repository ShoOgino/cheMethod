    @Before
    public void setUp() {
        when(partPresenter1.getTitle()).thenReturn(SOME_TEXT);
        when(partPresenter1.getTitleImage()).thenReturn(resource1);

        when(partPresenter2.getTitle()).thenReturn(SOME_TEXT);
        when(partPresenter2.getTitleImage()).thenReturn(resource2);

        when(partPresenter1.getEditorInput()).thenReturn(editorInput1);
        when(editorInput1.getFile()).thenReturn(file1);

        when(partPresenter2.getEditorInput()).thenReturn(editorInput2);
        when(editorInput2.getFile()).thenReturn(file2);

        when(partPresenter3.getEditorInput()).thenReturn(editorInput3);
        when(editorInput3.getFile()).thenReturn(file3);

        when(tabItemFactory.createEditorPartButton(partPresenter1)).thenReturn(editorTab1);
        when(tabItemFactory.createEditorPartButton(partPresenter2)).thenReturn(editorTab2);
        when(tabItemFactory.createEditorPartButton(partPresenter3)).thenReturn(editorTab3);

        when(eventBus.addHandler((Event.Type<Object>)anyObject(), anyObject())).thenReturn(handlerRegistration);

        presenter = new EditorPartStackPresenter(view,
                                                 partsComparator,
                                                 eventBus,
                                                 tabItemFactory,
                                                 partStackEventHandler,
                                                 listButton);
    }

