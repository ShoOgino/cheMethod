    @Before
    public void setUp() {
        when(appContext.getWorkspaceRoot()).thenReturn(container);
        when(container.getFile(any(Path.class))).thenReturn(optFilePromise);
        when(messageBusProvider.getMachineMessageBus()).thenReturn(messageBus);

        presenter = new NavigateToFilePresenter(view,
                                                eventBus,
                                                dtoUnmarshallerFactory,
                                                messageBusProvider,
                                                appContext,
                                                editorAgent);

        presenter.onWsAgentStarted(wsAgentStateEvent);
    }

