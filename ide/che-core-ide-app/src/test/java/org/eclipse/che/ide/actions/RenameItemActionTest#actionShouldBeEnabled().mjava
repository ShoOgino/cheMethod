    @Test
    public void actionShouldBeEnabled() throws Exception {
        renamingSupport.add(renamingSupportValidator);
        when(renamingSupportValidator.isRenameAllowed((Resource)anyObject())).thenReturn(true);

        action =
                new RenameItemAction(resources, localization, renamingSupport, editorAgent, notificationManager, dialogFactory, appContext);
        action.updateInPerspective(event);

        verify(presentation).setVisible(true);
        verify(presentation).setEnabled(true);
    }

