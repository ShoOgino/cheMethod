    @Test
    public void testShouldCreateFileIfSelectedContainer() throws Exception {
        when(appContext.getResource()).thenReturn(parent);

        when(parent.newFile(anyString(), anyString())).thenReturn(filePromise);
        when(filePromise.then(any(Operation.class))).thenReturn(filePromise);
        when(filePromise.catchError(any(Operation.class))).thenReturn(filePromise);

        action.createFile("name");

        verify(parent).newFile(eq("name"), eq(""));
    }

