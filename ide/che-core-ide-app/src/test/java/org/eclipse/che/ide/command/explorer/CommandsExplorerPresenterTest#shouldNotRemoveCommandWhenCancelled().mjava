    @Test
    public void shouldNotRemoveCommandWhenCancelled() throws Exception {
        ConfirmDialog confirmDialog = mock(ConfirmDialog.class);
        when(dialogFactory.createConfirmDialog(anyString(),
                                               anyString(),
                                               any(ConfirmCallback.class),
                                               any(CancelCallback.class))).thenReturn(confirmDialog);
        CommandImpl command = mock(CommandImpl.class);

        presenter.onCommandRemove(command);

        verify(dialogFactory).createConfirmDialog(anyString(), anyString(), any(ConfirmCallback.class), isNull(CancelCallback.class));
        verify(confirmDialog).show();
        verify(commandManager, never()).removeCommand(anyString());
    }

