    @Test
    public void testShouldCreateFolderIfSelectedFile() throws Exception {
        when(file.getParent()).thenReturn(Optional.of(parent));
        when(appContext.getResource()).thenReturn(file);
        when(parent.newFolder(anyString())).thenReturn(folderPromise);
        when(folderPromise.then(any(Operation.class))).thenReturn(folderPromise);
        when(folderPromise.catchError(any(Operation.class))).thenReturn(folderPromise);

        action.createFolder("name");

        verify(parent).newFolder(eq("name"));
    }

