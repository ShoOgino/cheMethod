    @Test
    public void searchWholeWordUnSelect() throws Exception {
        when(view.getPathToSearch()).thenReturn("/search");
        when(view.isWholeWordsOnly()).thenReturn(false);
        when(appContext.getWorkspaceRoot()).thenReturn(workspaceRoot);
        when(workspaceRoot.getContainer(any(Path.class))).thenReturn(optionalContainerPromise);
        when(searchContainer.search(anyString(), anyString())).thenReturn(searchResultPromise);

        final String search = NameGenerator.generate("test", 10);
        fullTextSearchPresenter.search(search);

        verify(optionalContainerPromise).then(optionalContainerCaptor.capture());
        optionalContainerCaptor.getValue().apply(Optional.of(searchContainer));

        verify(searchResultPromise).then(searchResultCaptor.capture());
        searchResultCaptor.getValue().apply(new Resource[0]);

        verify(searchContainer).search(anyString(), eq("*" + search + "*"));
        verify(view).isWholeWordsOnly();
        verify(view, never()).showErrorMessage(anyString());
        verify(view).close();
        verify(findResultPresenter).handleResponse(eq(new Resource[0]), eq(search));
    }

