    protected void registerProvider() {
        when(devMachine.getDescriptor()).thenReturn(machine);
        when(machine.getRuntime()).thenReturn(machineRuntimeInfo);
        doReturn(Collections.<String, Server>singletonMap(WS_AGENT_PORT, server)).when(machineRuntimeInfo).getServers();
        when(server.getAddress()).thenReturn(ADDRESS);
        when(server.getProtocol()).thenReturn(PROTOCOL);
    }

