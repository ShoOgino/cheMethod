    @Test(expected = IllegalStateException.class)
    public void testShouldThrowExceptionIfFileDoesNotContainParent() throws Exception {
        when(appContext.getResource()).thenReturn(file);
        when(file.getParent()).thenReturn(Optional.<Container>absent());

        action.createFile("name");
    }

