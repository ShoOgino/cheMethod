  @Test(expected = IllegalStateException.class)
  public void testShouldThrowExceptionIfFileDoesNotContainParent() throws Exception {
    when(appContext.getResource()).thenReturn(file);
    when(file.getParent()).thenReturn(null);

    action.createFile("name");
  }

