    @Test
    public void testShouldCreateFileIfSelectedFile() throws Exception {
        when(file.getParent()).thenReturn(Optional.of(parent));
        when(appContext.getResource()).thenReturn(file);
        when(parent.newFile(anyString(), anyString())).thenReturn(filePromise);
        when(filePromise.then(any(Operation.class))).thenReturn(filePromise);
        when(filePromise.catchError(any(Operation.class))).thenReturn(filePromise);

        action.createFile("name");

        verify(parent).newFile(eq("name"), eq(""));
    }

