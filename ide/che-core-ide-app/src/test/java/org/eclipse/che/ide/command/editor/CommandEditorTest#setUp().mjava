  @Before
  public void setUp() throws Exception {
    when(eventBus.addHandler(eq(CommandRemovedEvent.getType()), eq(editor)))
        .thenReturn(handlerRegistration);
    when(editedCommand.getName()).thenReturn(EDITED_COMMAND_NAME);
    when(editedCommand.getApplicableContext()).thenReturn(mock(ApplicableContext.class));
    when(editedCommandFile.getData()).thenReturn(editedCommand);
    when(editorInput.getFile()).thenReturn(editedCommandFile);

    editor.init(editorInput, openEditorCallback);
  }

