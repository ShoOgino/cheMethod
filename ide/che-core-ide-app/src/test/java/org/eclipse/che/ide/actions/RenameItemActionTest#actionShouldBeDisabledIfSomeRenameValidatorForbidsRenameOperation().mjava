    @Test
    public void actionShouldBeDisabledIfSomeRenameValidatorForbidsRenameOperation() throws Exception {
        renamingSupport.add(renamingSupportValidator);
        when(renamingSupportValidator.isRenameAllowed((Resource)anyObject())).thenReturn(false);

        action = new RenameItemAction(resources, localization, renamingSupport, dialogFactory, appContext);
        action.updateInPerspective(event);

        verify(presentation).setVisible(true);
        verify(presentation).setEnabled(false);
    }

