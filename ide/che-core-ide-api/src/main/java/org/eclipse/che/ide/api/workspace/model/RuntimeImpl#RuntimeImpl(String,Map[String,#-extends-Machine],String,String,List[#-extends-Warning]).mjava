  public RuntimeImpl(
      String activeEnv,
      Map<String, ? extends Machine> machines,
      String owner,
      String machineToken,
      List<? extends Warning> warnings) {
    this.activeEnv = activeEnv;
    if (machines != null) {
      this.machines =
          machines
              .entrySet()
              .stream()
              .collect(
                  toMap(
                      Map.Entry::getKey,
                      entry ->
                          new MachineImpl(
                              entry.getKey(),
                              entry.getValue().getProperties(),
                              entry.getValue().getServers())));
    }
    this.owner = owner;
    this.machineToken = machineToken;
    if (warnings != null) {
      this.warnings = warnings.stream().map(WarningImpl::new).collect(toList());
    }
  }

