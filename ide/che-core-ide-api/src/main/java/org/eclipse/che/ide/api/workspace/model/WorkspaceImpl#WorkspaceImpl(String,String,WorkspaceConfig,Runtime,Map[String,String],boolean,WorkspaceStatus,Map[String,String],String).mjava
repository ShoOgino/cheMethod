  private WorkspaceImpl(
      String id,
      String namespace,
      WorkspaceConfig config,
      Runtime runtime,
      Map<String, String> attributes,
      boolean isTemporary,
      WorkspaceStatus status,
      Map<String, String> links,
      String machineToken) {

    this.id = id;
    this.namespace = namespace;
    if (config != null) {
      this.config = new WorkspaceConfigImpl(config);
    }
    if (runtime != null) {
      this.runtime =
          new RuntimeImpl(
              runtime.getActiveEnv(),
              runtime.getMachines(),
              runtime.getOwner(),
              machineToken,
              runtime.getWarnings());
    }
    if (attributes != null) {
      this.attributes = new HashMap<>(attributes);
    }
    this.isTemporary = isTemporary;
    this.status = status;
    if (links != null) {
      this.links = new HashMap<>(links);
    }
  }

