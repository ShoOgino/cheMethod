    public void registerOperation(String endpointId, int pid, Operation<P> operation) {
        String key = endpointId + '@' + pid;
        if (!operationRegistry.containsKey(key)) {
            operationRegistry.put(key, new HashSet<Operation<P>>());
        }

        operationRegistry.get(key).add(operation);
    }

