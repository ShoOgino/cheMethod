    @Inject
    public ClientServerEventService(final JsonRpcRequestTransmitter transmitter,
                                    final EventBus eventBus,
                                    final DtoFactory dtoFactory) {
        this.transmitter = transmitter;
        this.dtoFactory = dtoFactory;

        Log.info(getClass(), "Adding file event listener");
        eventBus.addHandler(FileEvent.TYPE, new FileEventHandler() {
            @Override
            public void onFileOperation(FileEvent event) {
                final String path = event.getFile().getLocation().toString();

                switch (event.getOperationType()) {
                    case OPEN: {
                        transmitOpenFileNotification(path);

                        break;
                    }
                    case CLOSE: {
                        transmitCloseFileNotification(path);

                        break;
                    }
                }
            }
        });


    }

