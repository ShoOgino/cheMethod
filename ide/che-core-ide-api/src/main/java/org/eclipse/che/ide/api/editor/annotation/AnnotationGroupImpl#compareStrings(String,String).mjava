  /**
   * Null-safe string comparison for equality.
   *
   * @param s1 first string to compare
   * @param s2 second string to compare
   * @return true iff both strings are equal
   */
  private static boolean compareStrings(final String s1, final String s2) {
    if (s1 == s2) {
      return true;
    }
    if (s1 == null) {
      return false;
    }
    return s1.equals(s2);
  }

