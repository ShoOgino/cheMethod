    public BaseView(PartStackUIResources resources) {
        this.resources = resources;

        container = new DockLayoutPanel(Style.Unit.PX);
        container.getElement().setAttribute("role", "part");
        container.setSize("100%", "100%");
        container.getElement().getStyle().setOutlineStyle(Style.OutlineStyle.NONE);
        initWidget(container);

        toolBar = new DockLayoutPanel(Style.Unit.PX);
        toolBar.addStyleName(resources.partStackCss().ideBasePartToolbar());
        toolBar.getElement().setAttribute("role", "toolbar");
        toolBar.addDomHandler(new MouseUpHandler() {
            @Override
            public void onMouseUp(MouseUpEvent event) {
                //activate last focused element if user clicked on part header
                if (lastFocused != null) {
                    lastFocused.setFocus(true);
                }
            }
        }, MouseUpEvent.getType());
        container.addNorth(toolBar, 23);

        //this hack used for adding box shadow effect to toolbar
        toolBar.getElement().getParentElement().getStyle().setOverflow(Style.Overflow.VISIBLE);

        toolbarHeader = new DockLayoutPanel(Style.Unit.PX);
        toolbarHeader.getElement().setAttribute("role", "toolbar-header");
        toolBar.addNorth(toolbarHeader, 22);

        // padding 2 pixels from the right
        toolbarHeader.addEast(new FlowPanel(), 2);

        titleLabel = new Label();
        titleLabel.setStyleName(resources.partStackCss().ideBasePartTitleLabel());
        toolbarHeader.addWest(titleLabel, 200);

        addMaximizeButton();
        addMinimizeButton();

        /**
         * Handle double clicking on the toolbar header
         */
        toolbarHeader.addDomHandler(new DoubleClickHandler() {
            @Override
            public void onDoubleClick(DoubleClickEvent event) {
                onToggleMaximize();
            }
        }, DoubleClickEvent.getType());

    }

