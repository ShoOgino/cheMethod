  @Inject
  public JsonRpcWebSocketAgentEventListener(
      JsonRpcInitializer initializer,
      AppContext appContext,
      EventBus eventBus,
      RequestTransmitter requestTransmitter,
      DtoFactory dtoFactory,
      ExecAgentCommandManager execAgentCommandManager) {
    this.appContext = appContext;
    this.initializer = initializer;
    this.eventBus = eventBus;
    this.requestTransmitter = requestTransmitter;
    this.dtoFactory = dtoFactory;
    this.execAgentCommandManager = execAgentCommandManager;

    eventBus.addHandler(WsAgentStateEvent.TYPE, this);
  }

