    private void checkWsAgentHealth() {
        workspaceServiceClient.getWsAgentState(appContext.getWorkspaceId()).then(agentHealthState -> {
            if (RUNNING.equals(agentHealthState.getWorkspaceStatus())) {
                checkStateOfWsAgent(agentHealthState);
            }
        }).catchError(new Operation<PromiseError>() {
            @Override
            public void apply(PromiseError arg) throws OperationException {
                if (arg.getCause() instanceof ServerDisconnectedException) {
                    dialogFactory.createMessageDialog("Server Unavailable",
                                                      "Server is not responding. Your admin must restart it.",
                                                      null).show();
                }
                Log.error(getClass(), arg.getMessage());
            }
        });
    }

