    private void checkWsAgentHealth() {
        workspaceServiceClient.getWsAgentState(devMachine.getWorkspace()).then(new Operation<WsAgentHealthStateDto>() {
            @Override
            public void apply(WsAgentHealthStateDto arg) throws OperationException {
                if (RUNNING.equals(arg.getWorkspaceStatus())) {
                    checkStateOfWsAgent(arg);
                }
            }
        }).catchError(new Operation<PromiseError>() {
            @Override
            public void apply(PromiseError arg) throws OperationException {
                Log.error(getClass(), arg.getMessage());
            }
        });
    }

