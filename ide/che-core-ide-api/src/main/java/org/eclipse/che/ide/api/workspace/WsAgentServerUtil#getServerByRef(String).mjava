  @VisibleForTesting
  Optional<ServerImpl> getServerByRef(String ref) {
    Optional<RuntimeImpl> runtimeOpt = getWorkspaceRuntime();

    if (runtimeOpt.isPresent()) {
      for (MachineImpl machine : runtimeOpt.get().getMachines().values()) {
        ServerImpl server = machine.getServers().get(ref);

        if (server != null) {
          return Optional.of(server);
        }
      }
    }

    return Optional.empty();
  }

