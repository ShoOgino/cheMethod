    /**
     * @return return base URL to the ws agent REST services. URL will be always without trailing slash
     * @deprecated use {@link AppContext#getDevAgentEndpoint()}
     */
    @Deprecated
    public String getWsAgentBaseUrl() {
        MachineServer server = getServer(Constants.WSAGENT_REFERENCE);
        if (server != null) {
            String url = server.getUrl();
            if (url.endsWith("/")) {
                url = url.substring(0, url.length() - 1);
            }

            // FIXME: spi ide
            return url + "/api";
        }

        //should not be
        String message = "Reference " + Constants.WSAGENT_REFERENCE + " not found in DevMachine description";
        Log.error(getClass(), message);
        throw new RuntimeException(message);
    }

