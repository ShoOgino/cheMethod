    public ActiveRuntime(Workspace workspace) {
        Runtime workspaceRuntime = workspace.getRuntime();

        Log.info(ActiveRuntime.class, workspaceRuntime);
        Log.info(ActiveRuntime.class, workspaceRuntime.getMachines().entrySet());
//        WorkspaceConfig workspaceConfig = workspace.getConfig();
//        String envName = workspaceRuntime.getActiveEnv();
////        String defaultEnv = workspaceConfig.getDefaultEnv();
//        Environment env = workspaceConfig.getEnvironments().get(envName);
//
//        String devMachineName = Utils.getDevMachineName(env);
//
//        Machine devMachine = workspaceRuntime.getMachines().get(devMachineName);
//
//        this.devMachine = new DevMachine(devMachineName, devMachine);

        if(workspaceRuntime.getMachines() != null)
        for (Entry<String, ? extends Machine> entry : workspaceRuntime.getMachines().entrySet()) {
            machines.put(entry.getKey(), new MachineEntityImpl(entry.getKey(), entry.getValue()));
            if(entry.getValue().getServers().containsKey(WSAGENT_REFERENCE)) {
                this.devMachine = new DevMachine(entry.getKey(), entry.getValue());
            }
        }

        Log.info(ActiveRuntime.class, devMachine);
//        if(this.devMachine == null)
//            throw new RuntimeException("No WS-AGENT Server configured for workspace: " + workspace.getId());

    }

