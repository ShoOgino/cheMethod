  public final void addAction(Action action, Constraints constraint, ActionManager actionManager) {
    if (action == this) {
      throw new IllegalArgumentException("Cannot add a group to itself");
    }

    // Check that action isn't already registered
    if (!(action instanceof Separator)) {
      for (Action actionInList : actionList) {
        if (action.equals(actionInList)) {
          Log.error(getClass(), "Can not add an action twice: " + action);
          return;
        }
      }
    }
    actionList.add(action);
    constraintsList.add(constraint);

    needSorting = true;
  }

