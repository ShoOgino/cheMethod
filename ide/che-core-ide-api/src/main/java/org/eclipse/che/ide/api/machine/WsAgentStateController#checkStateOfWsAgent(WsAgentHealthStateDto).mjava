  private void checkStateOfWsAgent(WsAgentHealthStateDto agentHealthStateDto) {
    final int statusCode = agentHealthStateDto.getCode();
    final String infoWindowTitle = "Workspace Agent Not Responding";
    final boolean reloadPage = true;
    final boolean createSnapshot = true;
    final ConfirmCallback stopCallback = new StopCallback(!reloadPage, createSnapshot);
    final ConfirmCallback stopAndReloadCallback = new StopCallback(reloadPage, !createSnapshot);

    if (statusCode == 200) {
      dialogFactory
          .createChoiceDialog(
              infoWindowTitle,
              "Workspace agent is no longer responding. To fix the problem, verify you have a"
                  + " good network connection and restart the workspace.",
              "Restart",
              "Close",
              stopAndReloadCallback,
              stopCallback)
          .show();
    } else {
      dialogFactory
          .createChoiceDialog(
              infoWindowTitle,
              "Workspace agent is no longer responding. To fix the problem, restart the workspace.",
              "Restart",
              "Close",
              stopAndReloadCallback,
              stopCallback)
          .show();
    }
  }

