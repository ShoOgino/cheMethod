    private void checkStateOfWsAgent(WsAgentHealthStateDto agentHealthStateDto) {
        final int statusCode = agentHealthStateDto.getCode();
        final String infoWindowTitle = "Workspace Agent Not Responding";
        final ConfirmCallback stopCallback = new StopCallback(false);
        final ConfirmCallback stopAndReloadCallback = new StopCallback(true);

        if (statusCode == 200) {
            dialogFactory.createChoiceDialog(infoWindowTitle,
                                             "Workspace agent is no longer responding. To fix the problem, verify you have a" +
                                             " good network connection and restart the workspace.",
                                             "Restart",
                                             "Close",
                                             stopAndReloadCallback,
                                             stopCallback).show();
        } else {
            dialogFactory.createChoiceDialog(infoWindowTitle,
                                             "Workspace agent is no longer responding. To fix the problem, restart the workspace.",
                                             "Restart",
                                             "Close",
                                             stopAndReloadCallback,
                                             stopCallback).show();
        }
    }

