    /**
     * Modify the receiver so that it encompasses the region specified by the dirty region.
     *
     * @param dr
     *         the dirty region with which to merge
     */
    void mergeWith(DirtyRegion dr) {
        int start = Math.min(fOffset, dr.fOffset);
        int end = Math.max(fOffset + fLength, dr.fOffset + dr.fLength);
        fOffset = start;
        fLength = end - start;
        fText = (dr.fText == null ? fText : (fText == null) ? dr.fText : fText + dr.fText);
    }

