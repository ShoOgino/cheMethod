  @Override
  public Promise<MergeResult> merge(Path project, String commit) {
    MergeRequest mergeRequest = dtoFactory.createDto(MergeRequest.class).withCommit(commit);
    String url = getWsAgentBaseUrl() + MERGE + "?projectPath=" + encodePath(project);
    return asyncRequestFactory
        .createPostRequest(url, mergeRequest)
        .loader(loader)
        .header(ACCEPT, APPLICATION_JSON)
        .send(dtoUnmarshallerFactory.newUnmarshaller(MergeResult.class));
  }

