  @Test
  public void shouldEncodeUrlAndMoveResource() {
    MoveOptions moveOptions = mock(MoveOptions.class);
    when(dtoFactory.createDto(MoveOptions.class)).thenReturn(moveOptions);

    client.move(resourcePath, targetPath, TEXT, true);

    verify(dtoFactory).createDto(MoveOptions.class);
    verify(moveOptions).setName(any());
    verify(moveOptions).setOverWrite(true);
    verify(requestFactory).createPostRequest(any(), eq(moveOptions));
    verify(loaderFactory).newLoader("Moving...");
    verify(asyncRequest).loader(messageLoader);
    verify(asyncRequest).send();
  }

