  private void doTerminate() {
    if (!closed) {
      try {
        IOUtils.close(luceneIndexWriter, luceneIndexWriter.getDirectory(), searcherManager);
        if (!deleteRecursive(indexDirectory)) {
          LOG.warn("Unable delete index directory '{}', add it in FileCleaner", indexDirectory);
          FileCleaner.addFile(indexDirectory);
        }
      } catch (IOException e) {
        LOG.error(e.getMessage(), e);
      }
      closed = true;
    }
  }

