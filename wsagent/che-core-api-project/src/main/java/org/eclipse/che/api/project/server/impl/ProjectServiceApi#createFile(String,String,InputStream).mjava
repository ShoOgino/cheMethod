  public Response createFile(String parentWsPath, String fileName, InputStream content)
      throws NotFoundException, ConflictException, ForbiddenException, ServerException {
    parentWsPath = absolutize(parentWsPath);
    String wsPath = resolve(parentWsPath, fileName);

    fsManager.createFile(wsPath, content);
    String project =
        projectManager
            .getClosest(wsPath)
            .orElseThrow(() -> new NotFoundException("Can't find parent project for file"))
            .getPath();

    eventService.publish(
        new ProjectItemModifiedEvent(
            ProjectItemModifiedEvent.EventType.CREATED, project, wsPath, false));

    URI location =
        serviceContext
            .getBaseUriBuilder()
            .clone()
            .path(ProjectService.class)
            .path(ProjectService.class, "getFile")
            .build(new String[] {wsPath.substring(1)}, false);

    ItemReference asDto = fsDtoConverter.asDto(wsPath);
    ItemReference asDtoWithVcsStatus = vcsStatusInjector.injectVcsStatus(asDto);
    ItemReference asDtoWithVcsStatusAndLinks = injectFileLinks(asDtoWithVcsStatus);

    return Response.created(location).entity(asDtoWithVcsStatusAndLinks).build();
  }

