    @Override
    public VirtualFile getChild(Path path) throws ServerException {
        checkExistence();

        MemoryVirtualFile child = this;
        Iterator<String> pathSegments = newArrayList(path.elements()).iterator();
        while (pathSegments.hasNext() && child != null) {
            child = child.children.get(pathSegments.next());
        }
        if (pathSegments.hasNext()) {
            return null;
        }
        return child;
    }

