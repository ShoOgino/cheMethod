  @Override
  public ProjectTypeResolution qualify(String wsPath, String projectTypeId)
      throws ServerException, NotFoundException {

    ProjectTypeDef projectType = projectTypeRegistry.getProjectType(projectTypeId);
    if (projectType == null) {
      throw new NotFoundException("Project type required");
    }

    if (!fsManager.existsAsDir(wsPath)) {
      throw new NotFoundException("Item is not a directory or does not exist " + wsPath);
    }

    return projectTypeResolver.resolve(projectType, wsPath);
  }

