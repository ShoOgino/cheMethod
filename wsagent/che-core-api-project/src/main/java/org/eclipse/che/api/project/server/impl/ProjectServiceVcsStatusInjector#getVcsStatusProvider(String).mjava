  private Optional<VcsStatusProvider> getVcsStatusProvider(String projectWsPath)
      throws ServerException, NotFoundException {
    List<String> vcsAttributes =
        projectManager
            .get(projectWsPath)
            .orElseThrow(() -> new NotFoundException("Can't find project"))
            .getAttributes()
            .get("vcs.provider.name");
    return vcsStatusProviders
        .stream()
        .filter(
            vcsStatusProvider ->
                vcsStatusProvider
                    .getVcsName()
                    .equals(vcsAttributes != null ? vcsAttributes.get(0) : null))
        .findAny();
  }

