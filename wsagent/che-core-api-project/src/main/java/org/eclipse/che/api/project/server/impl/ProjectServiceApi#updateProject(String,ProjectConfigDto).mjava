  /** Update project specified by workspace path with new configuration */
  public ProjectConfigDto updateProject(String wsPath, ProjectConfigDto projectConfigDto)
      throws NotFoundException, ConflictException, ForbiddenException, ServerException, IOException,
          BadRequestException {
    if (wsPath != null) {
      projectConfigDto.setPath(absolutize(wsPath));
    }
    boolean registeredEarly = projectManager.isRegistered(wsPath);
    RegisteredProject updated = projectManager.update(projectConfigDto);
    if (!registeredEarly) { // if project config set firstly we will fire event project created
      eventService.publish(new ProjectCreatedEvent(updated.getPath()));
    }

    return asDto(updated);
  }

