  @Override
  public final void delete(Path fsPath) {

    String wsPath = pathTransformer.transform(fsPath);
    try {

      // Since in most cases this is post action there is no way to find out is this a file
      // or directory. Lets try to delete both
      BooleanQuery.Builder deleteFileOrFolder = new BooleanQuery.Builder();
      deleteFileOrFolder.setMinimumNumberShouldMatch(1);
      deleteFileOrFolder.add(new TermQuery(new Term(PATH_FIELD, wsPath)), Occur.SHOULD);
      deleteFileOrFolder.add(new PrefixQuery(new Term(PATH_FIELD, wsPath + "/")), Occur.SHOULD);
      luceneIndexWriter.deleteDocuments(deleteFileOrFolder.build());
      printStatistic();
    } catch (IOException e) {
      LOG.warn("Can't delete index for file: {}", wsPath);
    }
  }

