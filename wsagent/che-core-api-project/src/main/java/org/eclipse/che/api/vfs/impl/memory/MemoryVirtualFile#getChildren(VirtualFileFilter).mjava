  @Override
  public List<VirtualFile> getChildren(VirtualFileFilter filter) {
    checkExistence();
    if (isFolder()) {
      return doGetChildren(this)
          .stream()
          .filter(filter::accept)
          .sorted()
          .collect(Collectors.toList());
    }
    return newArrayList();
  }

