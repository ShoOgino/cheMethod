    /**
     * Initialize project attributes.
     *
     * @throws ValueStorageException
     * @throws ProjectTypeConstraintException
     * @throws ServerException
     * @throws NotFoundException
     */
    private void initAttributes() throws ValueStorageException, ProjectTypeConstraintException, ServerException, NotFoundException {
        // we take only defined attributes, others ignored
        for (Map.Entry<String, Attribute> entry : types.getAttributeDefs().entrySet()) {
            final Attribute definition = entry.getValue();
            final String name = entry.getKey();
            AttributeValue value = new AttributeValue(config.getAttributes().get(name));

            if (!definition.isVariable()) {
                // constant, value always assumed as stated in definition
                attributes.put(name, definition.getValue());
            } else {
                // variable
                final Variable variable = (Variable)definition;

                // value provided
                if (variable.isValueProvided()) {

                    final ValueProvider valueProvider = variable.getValueProviderFactory().newInstance(folder);

                    if (folder != null) {

                        if (!valueProvider.isSettable() || value.isEmpty()) {
                            // get provided value
                            value = new AttributeValue(valueProvider.getValues(name));
                        } else {
                            // set provided (not empty) value
                            valueProvider.setValues(name, value.getList());
                        }

                    } else {
                        continue;
                    }
                }

                if (value.isEmpty() && variable.isRequired()) {
                    throw new ProjectTypeConstraintException("Value for required attribute is not initialized " + variable.getId());
                }

                if (!value.isEmpty()) {
                    this.attributes.put(name, value);
                }
            }
        }
    }

