  @Override
  public Optional<RegisteredProject> getClosest(String wsPath) {
    while (!isRoot(wsPath)) {

      if (projects.containsKey(wsPath)) {
        // get from local map
        return Optional.of(projects.get(wsPath));
      } else if (cache.contains(wsPath)) {
        // get from fs cache
        return Optional.of(cache.get(wsPath));
      }
      wsPath = WsPathUtils.parentOf(wsPath);
    }

    return empty();
  }

