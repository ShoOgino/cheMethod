  /**
   * Updates content of the working copy.
   *
   * @param content content
   * @return current working copy after updating content
   */
  EditorWorkingCopy updateContent(InputStream content) throws ServerException {
    byte[] bytes;
    try {
      bytes = ByteStreams.toByteArray(content);
    } catch (IOException e) {
      throw new ServerException(
          format(
              "Can not update the content of '%s'. The reason is: %s", getPath(), e.getMessage()));
    }
    return updateContent(bytes);
  }

