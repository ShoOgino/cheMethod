  @Override
  public Set<RegisteredProject> deleteAll()
      throws ServerException, ForbiddenException, ConflictException {
    Set<RegisteredProject> deleted = new HashSet<>();
    for (RegisteredProject registeredProject : projectConfigRegistry.getAll()) {
      String path = registeredProject.getPath();
      try {
        delete(path).ifPresent(deleted::add);
      } catch (NotFoundException e) {
        throw new ServerException(e);
      }
    }
    return Collections.unmodifiableSet(deleted);
  }

