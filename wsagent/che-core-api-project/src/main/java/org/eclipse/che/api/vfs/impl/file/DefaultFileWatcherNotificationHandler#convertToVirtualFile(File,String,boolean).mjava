    private VirtualFile convertToVirtualFile(File root, String subPath, boolean isDir) {
        try {
            LocalVirtualFileSystem virtualFileSystem = (LocalVirtualFileSystem)virtualFileSystemProvider.getVirtualFileSystem(true);
            Path vfsPath = Path.of(subPath);
            VirtualFile virtualFile = virtualFileSystem.getRoot().getChild(vfsPath);
            if (virtualFile == null) {
                virtualFile = new DeletedLocalVirtualFile(new File(root, subPath), vfsPath, virtualFileSystem, isDir);
            }
            return virtualFile;
        } catch (ServerException e) {
            LOG.warn(e.getMessage());
        }
        return null;
    }

