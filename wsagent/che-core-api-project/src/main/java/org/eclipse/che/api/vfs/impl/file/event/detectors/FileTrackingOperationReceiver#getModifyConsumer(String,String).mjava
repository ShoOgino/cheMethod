    private Consumer<String> getModifyConsumer(String endpointId, String path) {
        return it -> {
            String newHash = hashFile(path);
            String oldHash = hashRegistry.getOrDefault(path + endpointId, null);

            if (Objects.equals(newHash, oldHash)) {
                return;
            }

            hashRegistry.put(path + endpointId, newHash);

            transmitter.transmitNotification(endpointId, OUTGOING_METHOD, newDto(FileStateUpdateDto.class).withPath(path)
                                                                                                          .withType(MODIFIED)
                                                                                                          .withHashCode(newHash));
        };
    }

