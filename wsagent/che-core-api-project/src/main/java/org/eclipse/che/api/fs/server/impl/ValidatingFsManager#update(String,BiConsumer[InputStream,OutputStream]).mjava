  public void update(String wsPath, BiConsumer<InputStream, OutputStream> updater)
      throws NotFoundException, ConflictException, ServerException {
    Path fsPath = pathTransformer.transform(wsPath);

    boolean exists = fsOperations.exists(fsPath);
    if (!exists) {
      throw new NotFoundException("Can't update file, item does not exist: " + wsPath);
    }

    boolean isFile = fsOperations.isFile(fsPath);
    if (!isFile) {
      throw new ConflictException("Can't update file, item is not a file: " + wsPath);
    }

    if (updater == null) {
      throw new ConflictException("Can't update file, updater is null");
    }

    suspendingFsManager.update(wsPath, updater);
  }

