  @Override
  public final void add(Path fsPath) {

    try {
      if (fsPath.toFile().isDirectory()) {
        try {
          Files.walkFileTree(
              fsPath,
              new SimpleFileVisitor<Path>() {
                @Override
                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) {
                  addFile(file);
                  return FileVisitResult.CONTINUE;
                }
              });
        } catch (IOException ignore) {
          LOG.warn("Not able to index {} because {} ", fsPath.toString(), ignore.getMessage());
        }
      } else {
        addFile(fsPath);
      }
      printStatistic();
    } catch (IOException e) {
      LOG.warn(
          "Can't commit changes to index for: {} because {} ",
          fsPath.toAbsolutePath().toString(),
          e.getMessage());
    }
  }

