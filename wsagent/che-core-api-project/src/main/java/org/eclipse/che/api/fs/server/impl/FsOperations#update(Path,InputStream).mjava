  void update(Path fsPath, InputStream content) throws ServerException {
    try {
      byte[] bytes = readStream(content).getBytes();
      Files.write(fsPath, bytes);
      content.close();
    } catch (IOException e) {
      throw new ServerException("Failed to update file: " + fsPath, e);
    }
  }

