  private boolean isWorkingCopyHasUnsavedData(String originalFilePath) {
    try {
      EditorWorkingCopy workingCopy = workingCopiesStorage.get(originalFilePath);
      if (workingCopy == null) {
        return false;
      }

      FileEntry originalFile = projectManagerProvider.get().asFile(originalFilePath);
      if (originalFile == null) {
        return false;
      }

      String workingCopyContent = workingCopy.getContentAsString();
      String originalFileContent = originalFile.getVirtualFile().getContentAsString();
      if (workingCopyContent == null || originalFileContent == null) {
        return false;
      }

      String workingCopyHash =
          Hashing.md5().hashString(workingCopyContent, defaultCharset()).toString();
      String originalFileHash =
          Hashing.md5().hashString(originalFileContent, defaultCharset()).toString();

      return !Objects.equals(workingCopyHash, originalFileHash);
    } catch (NotFoundException | ServerException | ForbiddenException e) {
      LOG.error(e.getLocalizedMessage());
    }

    return false;
  }

