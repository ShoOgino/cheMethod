  @Inject
  public WorkspaceProjectSynchronizer(
      @Named("che.api") String apiEndpoint,
      HttpJsonRequestFactory httpJsonRequestFactory,
      WorkspaceSyncCommunication workspaceSyncCommunication,
      ProjectConfigRegistry projectConfigRegistry)
      throws ServerException {
    this.apiEndpoint = apiEndpoint;
    this.httpJsonRequestFactory = httpJsonRequestFactory;
    this.workspaceSyncCommunication = workspaceSyncCommunication;
    this.projectConfigRegistry = projectConfigRegistry;

    this.workspaceId = System.getenv("CHE_WORKSPACE_ID");
    this.userToken = System.getenv("USER_TOKEN");

    LOG.info("Workspace ID: " + workspaceId);
    LOG.info("API Endpoint: " + apiEndpoint);
    LOG.info("User Token  : " + (userToken != null));

    // check connection
    try {
      workspaceDto();
    } catch (ServerException e) {
      LOG.error(e.getLocalizedMessage());
      System.exit(1);
    }
  }

