    void delete(LocalVirtualFile virtualFile, String lockToken) throws ForbiddenException, ServerException {
        if (virtualFile.isRoot()) {
            throw new ForbiddenException("Unable delete root folder");
        }

        final Path path = virtualFile.getPath();
        final boolean isFile = virtualFile.isFile();

        doDelete(virtualFile, lockToken);

        deleteInSearcher(path, isFile);
    }

