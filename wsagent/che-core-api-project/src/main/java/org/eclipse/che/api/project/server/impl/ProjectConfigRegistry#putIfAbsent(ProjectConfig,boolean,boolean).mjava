  public synchronized RegisteredProject putIfAbsent(
      ProjectConfig config, boolean updated, boolean detected) {
    RegisteredProject registeredProject = projects.get(config.getPath());
    if (registeredProject != null) {
      return registeredProject;
    }

    String wsPath = config.getPath();
    RegisteredProject project = registeredProjectFactory.create(wsPath, config, updated, detected);
    projects.put(wsPath, project);
    return project;
  }

