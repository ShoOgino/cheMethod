  OutputStream write(Path fsPath) throws ServerException {
    try {
      File file = fsPath.toFile();
      return new BufferedOutputStream(new FileOutputStream(file));
    } catch (IOException e) {
      throw new ServerException("Failed to create file: " + fsPath, e);
    }
  }

