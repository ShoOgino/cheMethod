  public ProjectConfigDto createProject(UriInfo uriInfo, ProjectConfigDto projectConfig)
      throws ConflictException, ForbiddenException, ServerException, NotFoundException,
          BadRequestException {

    Map<String, String> options =
        uriInfo
            .getQueryParameters()
            .entrySet()
            .stream()
            .collect(toMap(Entry::getKey, it -> it.getValue().get(0)));

    RegisteredProject project = projectManager.create(projectConfig, options);
    ProjectConfigDto asDto = asDto(project);
    ProjectConfigDto injectedLinks = injectProjectLinks(asDto);

    eventService.publish(new ProjectCreatedEvent(project.getPath()));

    return injectedLinks;
  }

