  private InputStream compress(Archiver archiver) throws ForbiddenException, ServerException {
    try {
      ByteArrayOutputStream byteOut = new ByteArrayOutputStream();
      archiver.compress(byteOut);
      return new ByteArrayInputStream(byteOut.toByteArray());
    } catch (IOException e) {
      throw new ServerException(e.getMessage(), e);
    }
  }

