  private File getFileLockIoFile(Path virtualFilePath) {
    final String fileLockFileName = virtualFilePath.getName() + LOCK_FILE_SUFFIX;
    final Path metadataFilePath;
    if (virtualFilePath.isRoot()) {
      metadataFilePath = virtualFilePath.newPath(FILE_LOCKS_DIR, fileLockFileName);
    } else {
      metadataFilePath = virtualFilePath.getParent().newPath(FILE_LOCKS_DIR, fileLockFileName);
    }
    return new File(ioRoot, toIoPath(metadataFilePath));
  }

