  /** Analyze if project defined by specific workspace path is of specified type */
  public SourceEstimation estimateProject(String wsPath, String projectType)
      throws NotFoundException, ForbiddenException, ServerException, ConflictException {
    wsPath = absolutize(wsPath);

    ProjectTypeResolution resolution = projectManager.verify(wsPath, projectType);

    Map<String, List<String>> attributes =
        resolution
            .getProvidedAttributes()
            .entrySet()
            .stream()
            .collect(toMap(Entry::getKey, it -> it.getValue().getList()));

    return DtoFactory.newDto(SourceEstimation.class)
        .withType(projectType)
        .withMatched(resolution.matched())
        .withResolution(resolution.getResolution())
        .withAttributes(attributes);
  }

