    /**
     * Either root folder in this case Project not configure well.
     * Use it if can't initialize project correct, project type will be BLANK
     *
     * @param folder
     *         root local folder or null
     * @param updated
     *         if this object was updated, i.e. no more synchronized with workspace master
     * @param detected
     *         if this project was detected, initialized when "parent" project initialized
     * @param problem
     *         project problem
     */
    RegisteredProject(FolderEntry folder,
                      boolean updated,
                      boolean detected,
                      ProjectTypeRegistry projectTypeRegistry,
                      Problem problem) throws NotFoundException,
                                                                      ProjectTypeConstraintException,
                                                                      ServerException,
                                                                      ValueStorageException {
        attributes = new HashMap<>();

        this.folder = folder;
        this.config = new NewProjectConfig(folder.getPath());
        this.updated = updated;
        this.detected = detected;
        types = new ProjectTypes(folder.getPath().toString(), BaseProjectType.ID, null, projectTypeRegistry);
        problems = ImmutableList.of(problem);
    }

