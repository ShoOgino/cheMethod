  public void createFile(String wsPath, boolean overwrite, boolean withParents)
      throws NotFoundException, ConflictException, ServerException {
    Path fsPath = pathTransformer.transform(wsPath);
    boolean exists = fsOperations.exists(fsPath);
    if (!overwrite && exists) {
      throw new ConflictException("Can't create file, item already exists: " + wsPath);
    }

    String parentWsPath = parentOf(wsPath);
    Path parentFsPath = pathTransformer.transform(parentWsPath);
    boolean parentExists = fsOperations.exists(parentFsPath);
    if (!withParents && !parentExists) {
      throw new NotFoundException("Can't create file, parent does not exist: " + parentWsPath);
    }

    suspendingFsManager.createFile(wsPath, overwrite, withParents);
  }

