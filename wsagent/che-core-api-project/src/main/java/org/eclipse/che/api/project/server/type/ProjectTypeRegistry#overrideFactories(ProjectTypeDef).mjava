  private final void overrideFactories(ProjectTypeDef myType)
      throws ProjectTypeConstraintException {
    for (Map.Entry<String, ValueProviderFactory> entry : myType.factoriesToOverride.entrySet()) {
      Attribute old = myType.getAttribute(entry.getKey());
      if (old == null || !old.isVariable()) {
        throw new ProjectTypeConstraintException(
            "Can not override Value Provider Factory. Variable not defined: "
                + myType.getId()
                + ":"
                + entry.getKey());
      }

      myType.attributes.put(
          old.getName(),
          new Variable(
              myType.getId(),
              old.getName(),
              old.getDescription(),
              old.isRequired(),
              entry.getValue()));
    }
  }

