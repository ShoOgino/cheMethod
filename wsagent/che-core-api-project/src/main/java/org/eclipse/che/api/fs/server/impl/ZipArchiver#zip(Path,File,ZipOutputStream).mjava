  private static void zip(Path zipRoot, File zipInFile, ZipOutputStream zos) throws IOException {
    if (zipInFile.isDirectory()) {
      File[] files = zipInFile.listFiles();
      for (File file : files == null ? new File[0] : files) {
        zip(zipRoot, file, zos);
      }
      return;
    }

    try (FileInputStream fis = new FileInputStream(zipInFile); ) {
      String zipEntryName = zipRoot.relativize(zipInFile.toPath()).toString();
      ZipEntry zipEntry = new ZipEntry(zipEntryName);
      zos.putNextEntry(zipEntry);
      IOUtils.copy(fis, zos);
    }
  }

