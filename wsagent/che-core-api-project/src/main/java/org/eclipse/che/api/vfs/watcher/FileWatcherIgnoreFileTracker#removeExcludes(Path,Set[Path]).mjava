  private void removeExcludes(Path projectPath, Set<Path> pathsToExclude) {
    Path ignoreFilePath = toNormalPath(projectPath, FILE_WATCHER_IGNORE_FILE_PATH);
    if (!exists(ignoreFilePath)) {
      return;
    }

    Set<String> excludesToRemove = prepareToWrite(projectPath, pathsToExclude);
    try (Stream<String> lines = lines(ignoreFilePath)) {
      Set<String> excludesToWrite =
          lines
              .filter(
                  line -> {
                    String location = line.trim();
                    return !location.isEmpty() && !excludesToRemove.contains(location);
                  })
              .collect(toSet());

      write(ignoreFilePath, excludesToWrite, UTF_8);
    } catch (IOException e) {
      String errorMessage = "Can not remove paths from File Watcher excludes ";

      LOG.error(errorMessage + e.getLocalizedMessage());

      throw new JsonRpcException(500, errorMessage);
    }
  }

