  @Override
  public int compareTo(VirtualFile o) {
    // To get nice order of items:
    // 1. Regular folders
    // 2. Files
    if (o == null) {
      throw new NullPointerException();
    }
    if (isFolder()) {
      return o.isFolder() ? getName().compareTo(o.getName()) : -1;
    } else if (o.isFolder()) {
      return 1;
    }
    return getName().compareTo(o.getName());
  }

