    private void unwatch(Predicate<Path> predicate) {
        pathWatchRegistrations.keySet().stream()
                              .filter(predicate)
                              .flatMap(it -> pathWatchRegistrations.remove(it).stream())
                              .forEach(watcher::unwatch);

        paths.values().forEach(it -> it.removeIf(predicate));
        paths.entrySet().removeIf(it -> it.getValue().isEmpty());
    }

