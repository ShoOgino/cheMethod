  @Override
  public synchronized Optional<RegisteredProject> delete(String wsPath)
      throws ServerException, ForbiddenException, NotFoundException, ConflictException {
    fsManager.delete(wsPath);

    projectConfigRegistry
        .getAll(wsPath)
        .stream()
        .map(ProjectConfig::getPath)
        .forEach(projectConfigRegistry::remove);

    return projectConfigRegistry.remove(wsPath);
  }

