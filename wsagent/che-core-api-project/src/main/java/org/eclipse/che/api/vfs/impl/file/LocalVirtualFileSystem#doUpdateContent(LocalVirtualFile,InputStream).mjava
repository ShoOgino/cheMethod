  private void doUpdateContent(LocalVirtualFile virtualFile, InputStream content)
      throws ServerException {
    try {
      Files.write(ByteStreams.toByteArray(content), virtualFile.toIoFile());
    } catch (IOException e) {
      String errorMessage = String.format("Unable set content of '%s'", virtualFile.getPath());
      LOG.error(errorMessage + "\n" + e.getMessage(), e);
      throw new ServerException(errorMessage);
    }
  }

