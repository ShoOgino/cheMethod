    @Test
    public void retrievesSearchResultWithPages() throws Exception {
        VirtualFileSystem virtualFileSystem = virtualFileSystem();
        for (int i = 0; i < 125; i++) {
            virtualFileSystem.getRoot().createFile(String.format("file%02d", i), TEST_CONTENT[i % TEST_CONTENT.length]);
        }
        searcher.init(virtualFileSystem);

        SearchResult firstPage = searcher.search(new QueryExpression().setText("spaceflight").setMaxItems(8));
        assertEquals(firstPage.getFilePaths().size(),8);

        QueryExpression nextPageQueryExpression = firstPage.getNextPageQueryExpression().get();
        nextPageQueryExpression.setMaxItems(100);

        SearchResult lastPage = searcher.search(nextPageQueryExpression);
        assertEquals(lastPage.getFilePaths().size(), 17);

        assertTrue(Collections.disjoint(firstPage.getFilePaths(), lastPage.getFilePaths()));
    }

