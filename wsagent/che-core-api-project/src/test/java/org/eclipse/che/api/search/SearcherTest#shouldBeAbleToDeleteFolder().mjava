  @Test
  public void shouldBeAbleToDeleteFolder()
      throws InvalidQueryException, QueryExecutionException, IOException {
    // given
    contentBuilder
        .createFolder("folder")
        .createFile("xxx.txt", TEST_CONTENT[2])
        .createFile("zzz.txt", TEST_CONTENT[1]);
    searcher.add(contentBuilder.getCurrentFolder());
    contentBuilder
        .takeWorkspceRoot()
        .createFolder("aaa")
        .createFile("aaa.txt1", TEST_CONTENT[3])
        .createFile("aaa.txt", TEST_CONTENT[2]);
    searcher.add(contentBuilder.getCurrentFolder());
    assertFind("be", "/aaa/aaa.txt", "/folder/xxx.txt");
    assertFind("generally", "/aaa/aaa.txt1");

    // when
    searcher.delete(contentBuilder.getCurrentFolder());
    contentBuilder.deleteCurrentFolder();
    // then
    assertFind("be", "/folder/xxx.txt");
    assertEmptyResult("generally");
  }

