  @Test
  public void deletesFolder() throws Exception {
    VirtualFile folder = getRoot().createFolder(generateFolderName());
    folder.setProperty("property1", "value1");
    Path folderPath = folder.getPath();
    VirtualFile file = folder.createFile(generateFileName(), DEFAULT_CONTENT);
    file.setProperty("property1", "value1");
    Path filePath = file.getPath();

    folder.delete();

    assertNull(getRoot().getChild(folderPath));
    assertNull(getRoot().getChild(filePath));
  }

