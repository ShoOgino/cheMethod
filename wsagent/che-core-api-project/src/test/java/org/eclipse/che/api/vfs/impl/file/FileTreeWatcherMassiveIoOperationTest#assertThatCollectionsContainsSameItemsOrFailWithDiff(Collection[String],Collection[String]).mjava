  private void assertThatCollectionsContainsSameItemsOrFailWithDiff(
      Collection<String> actual, Collection<String> expected) {
    List<String> missed = newArrayList(expected);
    List<String> extra = newArrayList(actual);
    missed.removeAll(actual);
    extra.removeAll(expected);
    if (missed.isEmpty() && extra.isEmpty()) {
      return;
    }
    StringBuilder message = new StringBuilder();
    if (missed.size() > 0) {
      message.append("\n>>> Expected items:\n").append(missed).append('\n').append("but missed\n");
    }
    if (extra.size() > 0) {
      message
          .append("\n>>> Items:\n")
          .append(extra)
          .append('\n')
          .append("not expected but found\n");
    }
    fail(message.toString());
  }

