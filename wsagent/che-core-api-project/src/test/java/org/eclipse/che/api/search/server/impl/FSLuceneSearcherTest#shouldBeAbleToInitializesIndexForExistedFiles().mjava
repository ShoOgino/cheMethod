  @Test
  public void shouldBeAbleToInitializesIndexForExistedFiles() throws Exception {
    // given
    contentBuilder
        .createFolder("folder")
        .createFile("xxx.txt", TEST_CONTENT[2])
        .createFile("zzz.txt", TEST_CONTENT[1]);

    // when
    searcher.initialize();
    searcher.getInitialIndexingLatch().await();

    // then
    List<String> paths = searcher.search(new QueryExpression().setText("think")).getFilePaths();
    assertEquals(newArrayList("/folder/zzz.txt"), paths);
  }

