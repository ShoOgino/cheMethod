  @BeforeMethod
  public void setUp() throws Exception {
    vcsStatusInjector =
        new ProjectServiceVcsStatusInjector(projectManager, singleton(vcsStatusProvider));

    when(project.getAttributes()).thenReturn(singletonMap(VCS_PROVIDER_NAME, singletonList("git")));
    lenient().when(projectManager.get("/project")).thenReturn(Optional.of(project));
    lenient().when(itemReference.getPath()).thenReturn("/project/file");
    lenient().when(itemReference.getType()).thenReturn("file");
    lenient().when(itemReference.getProject()).thenReturn("project");
    lenient().when(itemReference1.getPath()).thenReturn("/project/file1");
    lenient().when(itemReference1.getType()).thenReturn("file");
    lenient().when(itemReference1.getProject()).thenReturn("project");
    lenient().when(vcsStatusProvider.getVcsName()).thenReturn("git");
  }

