    @SuppressWarnings("unchecked")
    @Test
    public void testSearchByNameAndText() throws Exception {
        RegisteredProject myProject = pm.getProject("my_project");
        myProject.getBaseFolder().createFolder("a/b").createFile("test.txt", "test".getBytes(Charset.defaultCharset()));
        myProject.getBaseFolder().createFolder("x/y").createFile("test.txt", "test".getBytes(Charset.defaultCharset()));
        myProject.getBaseFolder().createFolder("c").createFile("test", "test".getBytes(Charset.defaultCharset()));

        ContainerResponse response = launcher.service(GET,
                                                      "http://localhost:8080/api/project/search/my_project?text=test&name=test.txt",
                                                      "http://localhost:8080/api", null, null, null);
        assertEquals(response.getStatus(), 200, "Error: " + response.getEntity());
        List<SearchResultDto> result = (List<SearchResultDto>)response.getEntity();
        assertEquals(result.size(), 2);
        assertEqualsNoOrder(new Object[]{
                                    result.get(0).getItemReference().getPath(),
                                    result.get(1).getItemReference().getPath()
                            },
                            new Object[]{
                                    "/my_project/a/b/test.txt",
                                    "/my_project/x/y/test.txt"
                            });
    }

