    @Test
    public void readsLockObjectWithoutExpirationData() throws Exception {
        String token = Long.toString(System.currentTimeMillis());

        DataInput data = mock(DataInput.class);
        when(data.readUTF()).thenReturn(token);
        when(data.readLong()).thenThrow(new EOFException());

        FileLock lock = lockSerializer.read(data);
        assertEquals(new FileLock(token, Long.MAX_VALUE), lock);
    }

