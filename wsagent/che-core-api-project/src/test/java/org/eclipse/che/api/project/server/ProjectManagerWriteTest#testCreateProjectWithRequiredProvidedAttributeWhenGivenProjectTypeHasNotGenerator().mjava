  @Test
  public void testCreateProjectWithRequiredProvidedAttributeWhenGivenProjectTypeHasNotGenerator()
      throws Exception {
    // SPECS:
    // Project will be created with problem code = 13 (Value for required attribute is not initialized)
    // when project type has provided required attributes
    // but have not respective generator(CreateProjectHandler)

    final String path = "/testCreateProjectWithRequiredProvidedAttribute";
    final String projectTypeId = "pt4";
    final ProjectConfig pc =
        new NewProjectConfigImpl(path, projectTypeId, null, "name", "descr", null, null, null);

    pm.createProject(pc, null);

    final RegisteredProject project = projectRegistry.getProject(path);
    final List<VirtualFileEntry> children = project.getBaseFolder().getChildren();
    final List<ProjectProblem> problems = project.getProblems();
    assertNotNull(project);
    assertNotNull(pm.getProjectsRoot().getChild(path));
    assertEquals(projectTypeId, project.getType());
    assertTrue(children.isEmpty());
    assertTrue(project.getAttributes().isEmpty());
    assertFalse(problems.isEmpty());
    assertEquals(1, problems.size());
    assertEquals(13, problems.get(0).getCode());
  }

