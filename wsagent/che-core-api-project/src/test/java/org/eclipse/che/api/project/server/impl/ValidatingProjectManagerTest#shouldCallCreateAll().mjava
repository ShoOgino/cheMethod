  @Test
  public void shouldCallCreateAll() throws Exception {
    when(projectConfigs.keySet()).thenReturn(singleton(projectConfig));
    when(projectConfig.getPath()).thenReturn(WS_PATH);
    when(fsManager.existsAsDir(parentOf(WS_PATH))).thenReturn(true);
    when(projectConfig.getType()).thenReturn(PROJECT_TYPE);
    when(projectConfigRegistry.get(WS_PATH)).thenReturn(Optional.empty());

    validatingProjectManager.createAll(projectConfigs);

    verify(synchronizingProjectManager).createAll(projectConfigs);
  }

