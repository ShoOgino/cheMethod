  @Test
  public void shouldLimitsNumberOfSearchResultsWhenMaxItemIsSet()
      throws InvalidQueryException, QueryExecutionException, IOException {

    // given
    for (int i = 0; i < 125; i++) {
      contentBuilder.createFile(
          String.format("file%02d", i), TEST_CONTENT[i % TEST_CONTENT.length]);
    }
    searcher.add(contentBuilder.getCurrentFolder());

    // when
    SearchResult result = searcher.search(new QueryExpression().setText("mission").setMaxItems(5));
    // then
    assertEquals(25, result.getTotalHits());
    assertEquals(5, result.getFilePaths().size());
  }

