  @Test
  public void shouldInjectVcsStatus() throws Exception {
    // given
    when(vcsStatusProvider.getStatus("/project/file")).thenReturn(ADDED);

    // when
    vcsStatusInjector.injectVcsStatus(itemReference);

    // then
    verify(itemReference).setAttributes(argumentCaptor.capture());
    assertTrue(argumentCaptor.getValue().size() == 1);
    assertEquals(argumentCaptor.getValue().get("vcs.status"), ADDED.toString());
  }

