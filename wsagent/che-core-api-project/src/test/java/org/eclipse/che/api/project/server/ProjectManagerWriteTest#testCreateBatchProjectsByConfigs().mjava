  @Test
  public void testCreateBatchProjectsByConfigs() throws Exception {
    final String projectPath1 = "/testProject1";
    final String projectPath2 = "/testProject2";

    final NewProjectConfig config1 =
        createProjectConfigObject("testProject1", projectPath1, BaseProjectType.ID, null);
    final NewProjectConfig config2 =
        createProjectConfigObject("testProject2", projectPath2, BaseProjectType.ID, null);

    final List<NewProjectConfig> configs = new ArrayList<>(2);
    configs.add(config1);
    configs.add(config2);

    pm.createBatchProjects(configs, false, new ProjectOutputLineConsumerFactory("ws", 300));

    checkProjectExist(projectPath1);
    checkProjectExist(projectPath2);
    assertEquals(2, projectRegistry.getProjects().size());
  }

