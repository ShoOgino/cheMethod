    @Test
    public void shouldInvokeAllComponents() throws Exception {
        final EventTreeNode eventTreeNode = mock(EventTreeNode.class);

        eventTreeQueueHolder.put(eventTreeNode);

        sleep(1000);

        verify(eventTreeQueueHolder, atLeastOnce()).take();
        verify(hiEventDetectorManager).getDetectedEvents(eq(eventTreeNode));
        verify(hiEventBroadcasterManager).manageEvents(any());
    }

