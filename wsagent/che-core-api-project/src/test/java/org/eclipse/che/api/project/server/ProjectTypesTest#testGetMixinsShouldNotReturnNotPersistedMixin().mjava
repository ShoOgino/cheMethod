    @Test
    public void testGetMixinsShouldNotReturnNotPersistedMixin() throws Exception {
        Set<ProjectTypeDef> pts = new HashSet<>();
        pts.add(new PrimaryType());
        pts.add(new PersistedMixin());
        pts.add(new NotPersistedMixin());
        ProjectTypeRegistry reg = new ProjectTypeRegistry(pts);
        List<RegisteredProject.Problem> problems = new ArrayList<>();
        ProjectTypes projectTypes = new ProjectTypes(generate("projectPath-", 5),
                                                     PrimaryType.PRIMARY_ID,
                                                     Arrays.asList(PersistedMixin.PERSISTED_MIXIN_ID,
                                                                   NotPersistedMixin.NOT_PERSISTED_MIXIN_ID),
                                                     reg, problems);

        assertFalse(projectTypes.getMixins().containsKey(NotPersistedMixin.NOT_PERSISTED_MIXIN_ID));
        assertEquals(problems.size(), 0);
    }

