  @SuppressWarnings("unchecked")
  @Test
  public void testSearchByName() throws Exception {
    RegisteredProject myProject = pm.getProject("my_project");
    myProject
        .getBaseFolder()
        .createFolder("a/b")
        .createFile("test.txt", "hello".getBytes(Charset.defaultCharset()));
    myProject
        .getBaseFolder()
        .createFolder("x/y")
        .createFile("test.txt", "test".getBytes(Charset.defaultCharset()));
    myProject
        .getBaseFolder()
        .createFolder("c")
        .createFile("exclude", "test".getBytes(Charset.defaultCharset()));

    ContainerResponse response =
        launcher.service(
            GET,
            "http://localhost:8080/api/project/search/my_project?name=test.txt",
            "http://localhost:8080/api",
            null,
            null,
            null);
    assertEquals(response.getStatus(), 200, "Error: " + response.getEntity());
    ProjectSearchResponseDto result = (ProjectSearchResponseDto) response.getEntity();
    List<SearchResultDto> itemReferences = result.getItemReferences();
    assertEquals(itemReferences.size(), 2);
    Set<String> paths = new LinkedHashSet<>(2);
    for (SearchResultDto resultDto : itemReferences) {
      paths.add(resultDto.getItemReference().getPath());
    }
    Assert.assertTrue(paths.contains("/my_project/a/b/test.txt"));
    Assert.assertTrue(paths.contains("/my_project/x/y/test.txt"));
  }

