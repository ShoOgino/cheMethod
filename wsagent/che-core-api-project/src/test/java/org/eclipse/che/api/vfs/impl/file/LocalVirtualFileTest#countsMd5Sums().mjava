  @Test
  public void countsMd5Sums() throws Exception {
    VirtualFile root = getRoot();
    VirtualFile folder = root.createFolder(generateFolderName());
    VirtualFile file1 = folder.createFile(generateFileName(), DEFAULT_CONTENT);
    VirtualFile file2 = folder.createFile(generateFileName(), "xxx");
    root.createFolder(generateFolderName());
    Set<Pair<String, String>> expected =
        newHashSet(
            Pair.of(countMd5Sum(file1), file1.getPath().subPath(folder.getPath()).toString()),
            Pair.of(countMd5Sum(file2), file2.getPath().subPath(folder.getPath()).toString()));

    assertEquals(expected, newHashSet(folder.countMd5Sums()));
  }

