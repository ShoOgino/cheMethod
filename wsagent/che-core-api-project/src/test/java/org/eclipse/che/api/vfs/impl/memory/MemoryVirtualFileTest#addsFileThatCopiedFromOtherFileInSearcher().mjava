  @Test
  public void addsFileThatCopiedFromOtherFileInSearcher() throws Exception {
    VirtualFile file = getRoot().createFile(generateFileName(), DEFAULT_CONTENT);
    VirtualFile folder = getRoot().createFolder(generateFolderName());
    Mockito.reset(searcher);
    VirtualFile copy = file.copyTo(folder);
    verify(searcher).add(copy);
  }

