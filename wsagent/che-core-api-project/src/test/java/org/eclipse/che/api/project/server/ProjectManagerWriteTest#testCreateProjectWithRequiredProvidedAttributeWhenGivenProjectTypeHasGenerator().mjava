  @Test
  public void testCreateProjectWithRequiredProvidedAttributeWhenGivenProjectTypeHasGenerator()
      throws Exception {
    final String path = "/testCreateProjectWithRequiredProvidedAttribute";
    final String projectTypeId = "pt3";
    final Map<String, List<String>> attributes = new HashMap<>();
    attributes.put("pt2-var2", new AttributeValue("test").getList());
    final ProjectConfig pc =
        new NewProjectConfigImpl(
            path, projectTypeId, null, "name", "descr", attributes, null, null);

    pm.createProject(pc, null);

    final RegisteredProject project = projectRegistry.getProject(path);
    assertEquals(projectTypeId, project.getType());
    assertNotNull(project.getBaseFolder().getChild("file1"));
    assertEquals("pt2-provided1", project.getAttributes().get("pt2-provided1").get(0));
  }

