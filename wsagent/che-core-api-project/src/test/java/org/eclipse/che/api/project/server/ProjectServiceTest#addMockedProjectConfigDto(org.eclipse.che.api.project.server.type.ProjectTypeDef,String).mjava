  private void addMockedProjectConfigDto(
      org.eclipse.che.api.project.server.type.ProjectTypeDef myProjectType, String projectName)
      throws ForbiddenException, ServerException, NotFoundException, ConflictException {
    final ProjectConfigDto testProjectConfigMock = mock(ProjectConfigDto.class);
    when(testProjectConfigMock.getPath()).thenReturn("/" + projectName);
    when(testProjectConfigMock.getName()).thenReturn(projectName);
    when(testProjectConfigMock.getDescription()).thenReturn("my test project");
    when(testProjectConfigMock.getType()).thenReturn("my_project_type");
    when(testProjectConfigMock.getSource())
        .thenReturn(DtoFactory.getInstance().createDto(SourceStorageDto.class));
    //        when(testProjectConfigMock.getModules()).thenReturn(modules);
    //        when(testProjectConfigMock.findModule(anyString())).thenReturn(testProjectConfigMock);

    Map<String, List<String>> attr = new HashMap<>();
    for (Attribute attribute : myProjectType.getAttributes()) {
      if (attribute instanceof Constant) {
        attr.put(attribute.getName(), attribute.getValue().getList());
      }
    }
    when(testProjectConfigMock.getAttributes()).thenReturn(attr);

    projects.add(testProjectConfigMock);

    pm.createProject(testProjectConfigMock, null);
  }

