  @Test
  public void getsChildren() throws Exception {
    VirtualFile root = getRoot();
    VirtualFile folder = root.createFolder(generateFolderName());
    VirtualFile file1 = root.createFile(generateFileName(), DEFAULT_CONTENT);
    VirtualFile file2 = root.createFile(generateFileName(), DEFAULT_CONTENT);

    List<VirtualFile> expectedResult = newArrayList(file1, file2, folder);
    Collections.sort(expectedResult);

    assertEquals(expectedResult, root.getChildren());
  }

