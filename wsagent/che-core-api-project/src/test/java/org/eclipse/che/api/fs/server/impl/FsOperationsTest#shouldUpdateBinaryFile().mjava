  @Test
  public void shouldUpdateBinaryFile() throws Exception {
    byte[] expected = BINARY_MESSAGE;

    file = new File(rootDir, FILE_NAME);
    assertTrue(file.createNewFile());
    assertTrue(file.exists());
    assertTrue(file.isFile());

    assertNotEquals(readFileToByteArray(file), expected);

    fsOperations.update(file.toPath(), new ByteArrayInputStream(expected));

    byte[] actual = readFileToByteArray(file);
    assertEquals(actual, expected);
  }

