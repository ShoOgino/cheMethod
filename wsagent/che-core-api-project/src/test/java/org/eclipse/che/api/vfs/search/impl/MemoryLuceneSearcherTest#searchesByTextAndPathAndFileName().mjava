  @Test
  public void searchesByTextAndPathAndFileName() throws Exception {
    VirtualFileSystem virtualFileSystem = virtualFileSystem();
    VirtualFile folder1 = virtualFileSystem.getRoot().createFolder("folder1/a/b");
    VirtualFile folder2 = virtualFileSystem.getRoot().createFolder("folder2/a/b");
    folder1.createFile("xxx.txt", TEST_CONTENT[2]);
    folder1.createFile("yyy.txt", TEST_CONTENT[2]);
    folder2.createFile("zzz.txt", TEST_CONTENT[2]);
    searcher.init(virtualFileSystem);

    List<String> paths =
        searcher
            .search(new QueryExpression().setText("be").setPath("/folder1").setName("xxx.txt"))
            .getFilePaths();
    assertEquals(newArrayList("/folder1/a/b/xxx.txt"), paths);
  }

