  @Test
  public void addFolderInSearcherAfterExtractZipArchive() throws Exception {
    VirtualFile folder = getRoot().createFolder(generateFolderName());
    Mockito.reset(searcher);
    Archiver archiver = mock(Archiver.class);
    when(archiverFactory.createArchiver(eq(folder), eq("zip"))).thenReturn(archiver);
    folder.unzip(new ByteArrayInputStream(new byte[0]), false, 0);
    verify(searcher).add(folder);
  }

