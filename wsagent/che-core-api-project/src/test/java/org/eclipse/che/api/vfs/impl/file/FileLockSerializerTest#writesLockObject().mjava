  @Test
  public void writesLockObject() throws Exception {
    String token = Long.toString(System.currentTimeMillis());
    long expired = System.currentTimeMillis() + 10000;
    FileLock lock = new FileLock(token, expired);

    DataOutput data = mock(DataOutput.class);
    lockSerializer.write(data, lock);

    InOrder inOrder = inOrder(data);
    inOrder.verify(data).writeUTF(token);
    inOrder.verify(data).writeLong(expired);
  }

