    @Before
    public void setUp() throws Exception {
        File targetDir = new File(Thread.currentThread().getContextClassLoader().getResource(".").getPath()).getParentFile();
        indexDirectory = new File(targetDir, NameGenerator.generate("index-", 4));
        assertTrue(indexDirectory.mkdir());

        filter = mock(VirtualFileFilter.class);
        when(filter.accept(any(VirtualFile.class))).thenReturn(false);

        closeCallback = mock(AbstractLuceneSearcherProvider.CloseCallback.class);
        searcher = new FSLuceneSearcher(indexDirectory, filter, closeCallback);
    }

