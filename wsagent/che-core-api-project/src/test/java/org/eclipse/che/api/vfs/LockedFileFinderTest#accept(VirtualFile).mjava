  private void accept(VirtualFile virtualFile) throws Exception {
    doAnswer(
            new Answer<Void>() {
              @Override
              public Void answer(InvocationOnMock invocation) throws Throwable {
                ((VirtualFileVisitor) invocation.getArguments()[0]).visit(virtualFile);
                return null;
              }
            })
        .when(virtualFile)
        .accept(any(VirtualFileVisitor.class));
  }

