    @Test
    public void testUpdateBadProject() throws Exception {
        //MountPoint mountPoint = pm.getProjectsRoot(workspace).getVirtualFile().getMountPoint();
        //mountPoint.getRoot().createFolder("not_project");
        pm.getProjectsRoot().createFolder("not_project");
        projectRegistry.initProjects();

        Map<String, List<String>> headers = new HashMap<>();
        headers.put("Content-Type", singletonList(APPLICATION_JSON));
        Map<String, List<String>> attributeValues = new LinkedHashMap<>();
        attributeValues.put("my_attribute", singletonList("to be or not to be"));
        ProjectConfigDto descriptor = DtoFactory.getInstance().createDto(ProjectConfigDto.class)
                                                .withType("my_project_type")
                                                .withDescription("updated project")
                                                .withAttributes(attributeValues);

        final ProjectConfigDto newProjectConfig = DtoFactory.getInstance().createDto(ProjectConfigDto.class)
                                                            .withPath("/not_project")
                                                            .withName("not_project")
                                                            .withDescription("updated project")
                                                            .withType("my_project_type")
                                                            .withAttributes(attributeValues)
                                                            .withSource(DtoFactory.getInstance().createDto(SourceStorageDto.class));
        projects.add(newProjectConfig);

        ContainerResponse response = launcher.service(PUT,
                                                      "http://localhost:8080/api/project/not_project",
                                                      "http://localhost:8080/api",
                                                      headers,
                                                      DtoFactory.getInstance().toJson(descriptor).getBytes(),
                                                      null);

        assertEquals(response.getStatus(), 200, "Error: " + response.getEntity());
        RegisteredProject project = pm.getProject("not_project");
        assertNotNull(project);
        //ProjectConfig description = project.getConfig();

        assertEquals(project.getDescription(), "updated project");
        assertEquals(project.getProjectType().getId(), "my_project_type");
    }

