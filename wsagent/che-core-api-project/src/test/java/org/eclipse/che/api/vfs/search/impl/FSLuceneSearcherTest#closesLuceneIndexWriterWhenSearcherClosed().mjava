  @Test
  public void closesLuceneIndexWriterWhenSearcherClosed() throws Exception {
    VirtualFileSystem virtualFileSystem = virtualFileSystem();
    searcher.init(virtualFileSystem);

    searcher.close();

    assertTrue(searcher.isClosed());
    assertFalse(searcher.getIndexWriter().isOpen());
  }

