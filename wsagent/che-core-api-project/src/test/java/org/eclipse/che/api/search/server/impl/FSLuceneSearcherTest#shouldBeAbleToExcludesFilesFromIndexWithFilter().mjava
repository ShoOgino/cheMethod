  @Test
  public void shouldBeAbleToExcludesFilesFromIndexWithFilter() throws Exception {
    // given
    contentBuilder
        .createFolder("folder")
        .createFile("xxx.txt", TEST_CONTENT[2])
        .createFile("yyy.txt", TEST_CONTENT[2])
        .createFile("zzz.txt", TEST_CONTENT[2]);
    excludePatterns.add(
        it -> it.toFile().isFile() && "yyy.txt".equals(it.getFileName().toString()));
    searcher.add(contentBuilder.getCurrentFolder());

    // when
    List<String> paths = searcher.search(new QueryExpression().setText("be")).getFilePaths();
    // then
    assertEquals(newArrayList("/folder/xxx.txt", "/folder/zzz.txt"), paths);
  }

