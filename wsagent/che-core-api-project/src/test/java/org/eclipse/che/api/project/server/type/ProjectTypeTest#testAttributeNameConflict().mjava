    @Test
    public void testAttributeNameConflict() throws Exception {
        Set<ProjectTypeDef> pts = new HashSet<>();
        final ProjectTypeDef parent = new ProjectTypeDef("parent", "parent", true, false) {
            {
                addConstantDefinition("parent_const", "Constant", "const_value");
            }

        };
        final ProjectTypeDef child = new ProjectTypeDef("child", "child", true, false) {
            {
                addParent("parent");
                addConstantDefinition("parent_const", "Constant", "const_value");
            }
        };

        pts.add(child);
        pts.add(parent);

        ProjectTypeRegistry reg = new ProjectTypeRegistry(pts);

        assertNotNull(reg.getProjectType("parent"));
        //Assert.assertNull(reg.getProjectType("child"));

        try {
            ProjectTypeDef projectTypeDef = reg.getProjectType("child");
            assertThat(projectTypeDef, CoreMatchers.is(nullValue()));
        } catch (NotFoundException e) {
        }

        assertEquals(2, reg.getProjectTypes().size());
    }

