    @Test(expectedExceptions = ServerException.class, dataProvider = "exceptions")
    public void shouldRethrowExceptionAsServerExceptionWhenSettingPreferences(Exception ex) throws Exception {
        when(request.request()).thenThrow(ex);

        preferenceDao.setPreferences(TEST_USER.getId(), emptyMap());
    }

