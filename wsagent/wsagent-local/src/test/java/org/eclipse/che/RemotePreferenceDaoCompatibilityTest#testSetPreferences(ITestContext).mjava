    @Test
    public void testSetPreferences(ITestContext ctx) throws Exception {
        final RemotePreferenceDao remoteDao = new RemotePreferenceDao(getUrl(ctx), new DefaultHttpJsonRequestFactory());
        final Map<String, String> prefs = Collections.singletonMap("pref1", "value1");

        remoteDao.setPreferences(TEST_USER.getId(), prefs);

        verify(preferenceDaoMock).setPreferences(TEST_USER.getId(), prefs);
    }

