  /**
   * Load saved IDE state of current workspace for given user in JSON format. Note: it is expected
   * that saved IDE state object is valid, so any validations are not performed. Empty string will
   * be returned when IDE state is not found.
   *
   * @param userId user identifier
   * @return saved IDE state of current workspace for given user in JSON format
   * @throws ValidationException when user identifier is {@code null} or empty
   * @throws ServerException when any server error occurs
   */
  public String loadAppState(String userId) throws ValidationException, ServerException {
    checkUserIdentifier(userId);

    String appStateHolderPath = getAppStateHolderPath(userId);
    try {
      if (fsManager.existsAsFile(appStateHolderPath)) {
        return fsManager.readAsString(appStateHolderPath);
      }
    } catch (NotFoundException | ConflictException e) {
      LOG.error("Can not load app state for user %s, the reason is: %s", userId, e.getCause());
      throw new ServerException("Can not load app state for user " + userId);
    }
    return "";
  }

