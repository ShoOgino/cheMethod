  @POST
  @Path("update")
  @Consumes(APPLICATION_JSON)
  @ApiOperation(
      value = "Save serialized IDE state of current workspace for given user",
      notes =
          "It is expected that incoming IDE state object is valid, so any validations are not performed.")
  @ApiResponses({
    @ApiResponse(code = 200, message = "OK"),
    @ApiResponse(code = 400, message = "User ID should be defined"),
    @ApiResponse(code = 500, message = "Server error")
  })
  public void saveState(
      @ApiParam(value = "User identifier") @Required @QueryParam("userId") String userId,
      @ApiParam(value = "Serialized IDE state") String json)
      throws ServerException, BadRequestException {
    try {
      appStateManager.saveState(userId, json);
    } catch (ValidationException e) {
      throw new BadRequestException(e.getMessage());
    }
  }

