    /**
     * Writes private SSH key into file.
     *
     * @return file that contains SSH key
     * @throws ServerException
     *         if other error occurs
     */
    private File writePrivateKeyFile() throws ServerException {
        final File keyDirectory = new File(rootFolder, host);
        if (!keyDirectory.exists()) {
            keyDirectory.mkdirs();
        }

        final File keyFile = new File(keyDirectory, DEFAULT_KEY_NAME);
        try (FileOutputStream fos = new FileOutputStream(keyFile)) {
            fos.write(sshKey);
        } catch (IOException e) {
            LOG.error("Can't store ssh key. ", e);
            throw new ServerException("Can't store ssh key. ");
        }
        protectPrivateKeyFile(keyFile);
        return keyFile;
    }

