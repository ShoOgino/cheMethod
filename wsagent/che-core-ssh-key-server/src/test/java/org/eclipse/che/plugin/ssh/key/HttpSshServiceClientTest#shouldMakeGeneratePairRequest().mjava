  @Test
  public void shouldMakeGeneratePairRequest() throws Exception {
    //given
    GenerateSshPairRequest sshPairRequest = mock(GenerateSshPairRequest.class);

    //when
    client.generatePair(sshPairRequest);

    //then
    String url = fromUri(SSH_SERVICE_URL).path(SshService.class, "generatePair").build().toString();
    verify(requestFactory).fromUrl(eq(url));
    verify(jsonRequest).usePostMethod();
    verify(jsonRequest).setBody(eq(sshPairRequest));
    verify(jsonRequest).request();
    verify(jsonResponse).asDto(eq(SshPairDto.class));
  }

