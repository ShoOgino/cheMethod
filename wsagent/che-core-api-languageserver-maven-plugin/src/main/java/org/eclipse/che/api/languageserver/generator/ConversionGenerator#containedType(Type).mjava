    protected Type containedType(Type paramType) {
        if (paramType == null || !List.class.isAssignableFrom(getRawClass(paramType))) {
            return null;
        }
        if (paramType instanceof ParameterizedType) {
            ParameterizedType genericType = (ParameterizedType)paramType;
            return getUpperBound(genericType.getActualTypeArguments()[0]);
        }
        if (paramType instanceof Class<?>) {
            Class<?> clazz = (Class<?>)paramType;
            Type c = containedType(clazz.getGenericSuperclass());
            if (c != null) {
                return c;
            }
            for (Type intf : clazz.getGenericInterfaces()) {
                c = containedType(intf);
                if (c != null) {
                    return c;
                }
            }
        }
        return null;
    }

