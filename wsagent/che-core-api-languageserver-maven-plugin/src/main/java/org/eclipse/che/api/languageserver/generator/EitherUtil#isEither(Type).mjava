    /**
     * Test whether the given type is Either.
     */
    private static boolean isEither(Type type) {
        if (type instanceof ParameterizedType) {
            return isEither((ParameterizedType)type);
        }
        if (type instanceof Class) {
            return isEither((Class<?>)type);
        }
        return false;
    }

