    public void generateToDto(String indent, PrintWriter out, Class<?> receiverClass, Method m, String objectName) {
        String varName = fieldName(m) + "Val";
        String valueAccess = objectName + "." + getterName(receiverClass, m) + "()";
        Type paramType = m.getGenericParameterTypes()[0];
        if (getRawClass(paramType).isPrimitive()) {
            generateToDto(indent + INDENT, out, varName, valueAccess, paramType);
            out.println(String.format(indent + INDENT + "%1$s((%2$s)%3$s);", m.getName(), paramType.getTypeName(), varName));
        } else {
            out.println(indent + String.format("if (%1$s == null) {", valueAccess));
            out.println(indent + INDENT + String.format("%1$s((%2$s)null);", m.getName(), paramType.getTypeName()));
            out.println(indent + "} else {");
            generateToDto(indent + INDENT, out, varName, valueAccess, paramType);
            out.println(String.format(indent + INDENT + "%1$s((%2$s)%3$s);", m.getName(), paramType.getTypeName(), varName));
            out.println(indent + "}");
        }
    }

