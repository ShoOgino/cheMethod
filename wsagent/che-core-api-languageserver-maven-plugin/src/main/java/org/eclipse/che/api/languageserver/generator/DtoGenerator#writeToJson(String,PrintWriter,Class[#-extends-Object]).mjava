    private void writeToJson(String indent, PrintWriter out, Class<? extends Object> clazz) {
        out.println(indent + String.format("public %1$s toJsonElement() {", json.element()));
        out.println(indent + INDENT + String.format("%1$s result = new %1$s();", json.object()));

        ToJsonGenerator toJsonGenerator = new ToJsonGenerator(json);

        for (Method m : clazz.getMethods()) {
            if (isSetter(clazz, m)) {
                toJsonGenerator.generateToJson(indent + INDENT, out, clazz, m);
            }
        }

        out.println(indent + INDENT + "return result;\n");
        out.println(indent + "}");
    }

