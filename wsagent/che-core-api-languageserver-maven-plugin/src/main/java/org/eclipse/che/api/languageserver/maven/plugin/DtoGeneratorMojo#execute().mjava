    @Override
    public void execute() throws MojoExecutionException {
        DtoGenerator generator;
        if ("client".equals(impl)) {
            generator = new ClientDtoGenerator();
        } else {
            generator = new ServerDtoGenerator();
        }

        int lastDot = genClassName.lastIndexOf('.');
        String targetClass = genClassName.substring(lastDot + 1);
        String targetPackage = genClassName.substring(0, lastDot);

        try {
            generator.generate(new File(outputDirectory), targetClass, targetPackage, dtoPackages, classes);
        } catch (IOException e) {
            throw new MojoExecutionException("Generation failed", e);
        }
    }

