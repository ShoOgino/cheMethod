  private String toJsonConversion(Class<?> t, String value) {
    if (Enum.class.isAssignableFrom(t)) {
      return String.format("new %1$s(%2$s.name())", json.string(), value);
    } else if (String.class.isAssignableFrom(t)) {
      return String.format("new %1$s(%2$s)", json.string(), value);
    } else if (Number.class.isAssignableFrom(t)) {
      return String.format("new %1$s(%2$s.doubleValue())", json.number(), value);
    } else if (t == boolean.class || Boolean.class.isAssignableFrom(t)) {
      return json.boolValue(value);
    } else if (isSimpleNumberType(t)) {
      return String.format("new %1$s(%2$s)", json.number(), value);
    } else if (t == Object.class) {
      return String.format("JsonUtil.convertToJson(%1$s)", value);
    } else {
      return String.format("((%2$s)%1$s).toJsonElement()", value, dtoName(t));
    }
  }

