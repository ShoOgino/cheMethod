    @Test(expectedExceptions = ServerException.class,
          expectedExceptionsMessageRegExp = WS_AGENT_TIMED_OUT_MESSAGE)
    public void shouldThrowMachineExceptionIfPingsWereUnsuccessfulTooLong() throws Exception {
        Mockito.when(wsAgentHealthChecker.check(any(Machine.class))).thenThrow(new ServerException(""));

        wsAgentLauncher.launch(machine, agent);
    }

