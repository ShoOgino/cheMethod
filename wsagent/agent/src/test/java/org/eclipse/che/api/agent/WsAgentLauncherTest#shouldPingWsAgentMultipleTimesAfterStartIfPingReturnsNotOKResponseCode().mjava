    @Test
    public void shouldPingWsAgentMultipleTimesAfterStartIfPingReturnsNotOKResponseCode() throws Exception {
        Mockito.when(pingResponse.getResponseCode()).thenReturn(HttpURLConnection.HTTP_CREATED,
                                                                HttpURLConnection.HTTP_NO_CONTENT,
                                                                HttpURLConnection.HTTP_OK);

        wsAgentLauncher.launch(machine, agent);

        Mockito.verify(pingRequest, Mockito.times(3)).request();
        Mockito.verify(pingResponse, Mockito.times(3)).getResponseCode();
    }

