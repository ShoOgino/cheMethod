  private Map<String, String> getMap(MultivaluedMap<String, String> queryParameters) {
    Map<String, String> map = new HashMap<>();
    if (queryParameters == null) {
      return map;
    }
    for (Map.Entry<String, List<String>> entry : queryParameters.entrySet()) {
      StringBuilder sb = new StringBuilder();
      for (String s : entry.getValue()) {
        if (sb.length() > 0) {
          sb.append(',');
        }
        sb.append(s);
      }
      map.put(entry.getKey(), sb.toString());
    }
    return map;
  }

