  private TestDetectionResult handleTestDetection(String endpointId, TestDetectionContext request) {
    TestDetectionResult result = DtoFactory.newDto(TestDetectionResult.class);

    List<TestPosition> testPositions = new ArrayList<>();
    for (TestRunner testRunner : frameworkRegistry.getAllTestRunners()) {
      testPositions.addAll(testRunner.detectTests(request));
    }

    result.setTestPosition(testPositions);
    result.setTestFile(!testPositions.isEmpty());
    return result;
  }

