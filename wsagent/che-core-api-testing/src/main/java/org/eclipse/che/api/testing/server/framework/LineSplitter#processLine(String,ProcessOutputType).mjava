  private void processLine(String line, ProcessOutputType outputType) {
    StringBuilder buffer = buffers.get(outputType);
    if (!line.endsWith("\n")) {
      buffer.append(line);
      return;
    }
    if (buffer.length() > 0) {
      buffer.append(line);
      line = buffer.toString();
      buffer.setLength(0);
    }

    consumer.consume(line, outputType);
  }

