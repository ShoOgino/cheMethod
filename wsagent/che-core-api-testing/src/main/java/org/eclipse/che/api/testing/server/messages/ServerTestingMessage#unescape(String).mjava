  private static String unescape(String text) {
    if (text == null || text.isEmpty()) {
      return text;
    }
    int finaleLenght = calulateUnescapedLenght(text);
    int length = text.length();
    char[] result = new char[finaleLenght];
    int resultPos = 0;
    for (int i = 0; i < length; i++) {
      char c = text.charAt(i);
      if (c == ESCAPE_SEPARATOR && i < length - 1) {
        char nextChar = text.charAt(i + 1);
        char unescape = unescape(nextChar);
        if (unescape != 0) {
          c = unescape;
          i++;
        }
      }
      result[resultPos++] = c;
    }

    return new String(result);
  }

