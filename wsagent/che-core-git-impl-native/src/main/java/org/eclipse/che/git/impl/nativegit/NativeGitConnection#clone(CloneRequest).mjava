    @Override
    public void clone(CloneRequest request) throws URISyntaxException, UnauthorizedException, GitException {
        final String remoteUri = request.getRemoteUri();
        CloneCommand clone = nativeGit.createCloneCommand();
        clone.setRemoteUri(remoteUri);
        clone.setRemoteName(request.getRemoteName());
        clone.setRecursiveEnabled(request.isRecursive());
        if (clone.getTimeout() > 0) {
            clone.setTimeout(request.getTimeout());
        }

        executeRemoteCommand(clone);

        UserCredential credentials = credentialsLoader.getUserCredential(remoteUri);
        if (credentials != null) {
            getConfig().set("codenvy.credentialsProvider", credentials.getProviderId());
        }
        nativeGit.createRemoteUpdateCommand()
                 .setRemoteName(request.getRemoteName() == null ? "origin" : request.getRemoteName())
                 .setNewUrl(remoteUri)
                 .execute();
    }

