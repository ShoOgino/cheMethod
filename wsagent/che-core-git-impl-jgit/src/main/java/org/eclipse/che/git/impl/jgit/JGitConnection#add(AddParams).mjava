    @Override
    public void add(AddParams params) throws GitException {
        AddCommand addCommand = getGit().add().setUpdate(params.isUpdate());

        List<String> filePatterns = params.getFilePattern();
        if (filePatterns.isEmpty()) {
            filePatterns = AddRequest.DEFAULT_PATTERN;
        }
        filePatterns.forEach(addCommand::addFilepattern);

        try {
            addCommand.call();

            addDeletedFilesToIndex(filePatterns);
        } catch (GitAPIException exception) {
            throw new GitException(exception.getMessage(), exception);
        }
    }

