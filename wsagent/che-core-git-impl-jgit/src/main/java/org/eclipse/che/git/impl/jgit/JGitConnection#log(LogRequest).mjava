    /** @see org.eclipse.che.api.git.GitConnection#log(org.eclipse.che.api.git.shared.LogRequest) */
    @Override
    public LogPage log(LogRequest logRequest) throws GitException {
        LogCommand logCommand = getGit().log();
        String filePath = null;
        try {
            setRevisionRange(logCommand, logRequest);
            setPaging(logCommand, logRequest);
            if (logRequest != null) {
                logRequest.getFileFilter().forEach(logCommand::addPath);
                filePath = logRequest.getFilePath();
                if (!isNullOrEmpty(filePath)) {
                    logCommand.addPath(filePath);
                }
            }
            Iterator<RevCommit> revIterator = logCommand.call().iterator();
            List<Revision> commits = new ArrayList<>();
            while (revIterator.hasNext()) {
                RevCommit commit = revIterator.next();
                Revision revision = getRevision(commit, filePath);
                commits.add(revision);
            }
            return new LogPage(commits);
        } catch (GitAPIException | IOException exception) {
            String errorMessage = exception.getMessage();
            if (ERROR_LOG_NO_HEAD_EXISTS.equals(errorMessage)) {
                throw new GitException(errorMessage, ErrorCodes.INIT_COMMIT_WAS_NOT_PERFORMED);
            } else {
                LOG.error("Failed to retrieve log. ", exception);
                throw new GitException(exception);
            }
        }
    }

