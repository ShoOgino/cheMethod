    private String buildPushFailedMessage(final PushRequest request, final RemoteRefUpdate remoteRefUpdate,
                                          final String currentBranch) {
        String message;
        if (remoteRefUpdate.getStatus() == RemoteRefUpdate.Status.UP_TO_DATE) {
            message = INFO_PUSH_ATTEMPT_IGNORED_UP_TO_DATE;
        } else {
            String refspec =
                    currentBranch + BRANCH_REFSPEC_SEPERATOR + request.getRefSpec().get(0).split(REFSPEC_COLON)[1];
            if (remoteRefUpdate.getMessage() != null) {
                message = String.format(ERROR_PUSH_ATTEMPT_FAILED_WITHMSG, refspec, request.getRemote(),
                        remoteRefUpdate.getStatus(), remoteRefUpdate.getMessage());
            } else {
                message = String.format(ERROR_PUSH_ATTEMPT_FAILED_WITHOUTMSG, refspec, request.getRemote(),
                        remoteRefUpdate.getStatus());
            }
        }
        return message;
    }

