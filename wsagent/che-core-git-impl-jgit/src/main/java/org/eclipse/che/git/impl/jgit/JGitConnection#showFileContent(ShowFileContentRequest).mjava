    @Override
    public ShowFileContentResponse showFileContent(ShowFileContentRequest request) throws GitException {
        String content;
        ObjectId revision;
        try {
            revision = getRepository().resolve(request.getVersion());
            try (RevWalk revWalk = new RevWalk(getRepository())) {
                RevCommit revCommit = revWalk.parseCommit(revision);
                RevTree tree = revCommit.getTree();

                try (TreeWalk treeWalk = new TreeWalk(getRepository())) {
                    treeWalk.addTree(tree);
                    treeWalk.setRecursive(true);
                    treeWalk.setFilter(PathFilter.create(request.getFile()));
                    if (!treeWalk.next()) {
                        throw new GitException("fatal: Path '" + request.getFile() + "' does not exist in '"
                                               + request.getVersion() + "'" + lineSeparator());
                    }
                    ObjectId objectId = treeWalk.getObjectId(0);
                    ObjectLoader loader = repository.open(objectId);
                    content = new String(loader.getBytes());
                }
            }
        } catch (IOException exception) {
            throw new GitException(exception.getMessage());
        }
        return newDto(ShowFileContentResponse.class).withContent(content);
    }

