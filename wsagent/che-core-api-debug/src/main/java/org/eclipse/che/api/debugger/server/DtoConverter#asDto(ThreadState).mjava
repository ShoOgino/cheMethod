  public static ThreadStateDto asDto(ThreadState threadState) {
    List<StackFrameDumpDto> threads =
        threadState.getFrames().stream().map(DtoConverter::asDto).collect(toList());

    return newDto(ThreadStateDto.class)
        .withId(threadState.getId())
        .withName(threadState.getName())
        .withGroupName(threadState.getGroupName())
        .withSuspended(threadState.isSuspended())
        .withStatus(threadState.getStatus())
        .withFrames(threads);
  }

