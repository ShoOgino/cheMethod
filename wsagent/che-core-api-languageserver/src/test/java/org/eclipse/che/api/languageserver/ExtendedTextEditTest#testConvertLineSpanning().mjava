  @Test
  public void testConvertLineSpanning() {
    List<ExtendedTextEdit> converted =
        convertToExtendedEdits(
            Collections.singletonList(new TextEdit(range(0, 1, 1, 5), "blabla")),
            new CharStreamIterator(source("abcdefghiklmnop\nfoobar")));
    assertEquals(converted.size(), 1);
    ExtendedTextEdit edit = converted.get(0);
    assertEquals(edit.getRange(), range(0, 1, 1, 5));
    assertEquals(edit.getNewText(), "blabla");
    assertEquals(edit.getLineText(), "abcdefghiklmnop");
    assertEquals(edit.getInLineStart(), 1);
    assertEquals(edit.getInLineEnd(), 14);
  }

