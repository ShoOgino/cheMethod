  @Test
  public void shouldRecognizeOverriddenPriorToDefaultByName() throws Exception {
    LanguageDescription notExpected = new LanguageDescription();
    notExpected.setFileNames(singletonList("Dockerfile"));
    notExpected.setLanguageId("expectedId");
    when(defaultLanguages.getAll()).thenReturn(Collections.singleton(notExpected));

    LanguageDescription expected = new LanguageDescription();
    expected.setFileNames(singletonList("Dockerfile"));
    expected.setLanguageId("notExpectedId");
    languages.add(expected);

    LanguageDescription language = recognizer.recognizeByPath("/project/Dockerfile");

    assertEquals(language, expected);
    assertNotEquals(language, notExpected);
  }

