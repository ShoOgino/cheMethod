  @Test
  public void testDocumentFormattingParamsDeserializerWithGson() throws Exception {
    FormattingOptions formattingOptions = new FormattingOptions(4, true);
    TextDocumentIdentifier textDocument =
        DtoFactory.getInstance().createDto(TextDocumentIdentifier.class);
    textDocument.setUri("/console-java-simple/src/main/java/org/eclipse/che/examples/A.java");
    DocumentFormattingParams documentFormattingParams =
        DtoFactory.getInstance().createDto(DocumentFormattingParams.class);
    documentFormattingParams.setOptions(formattingOptions);
    documentFormattingParams.setTextDocument(textDocument);
    JsonElement json = DtoFactory.getInstance().toJsonElement(documentFormattingParams);

    DocumentFormattingParams params =
        DtoFactory.getInstance().createDtoFromJson(json.toString(), DocumentFormattingParams.class);

    Assert.assertTrue(params.getOptions().isInsertSpaces());
  }

