    /*
     * This method compares objects reflectively. This probably won't work in general, because of ordering problems in collections
     */
    private boolean reflectionEquals(Object left, Object right) {
        Class<?> leftClass = left.getClass();
        Class<?> rightClass = right.getClass();
        return reflectionEquals(left, right, leftClass, rightClass);
    }

