  /** Test the Either conversion by using a Hover object. */
  @Test
  public void testEitherDeserializerWithDto() throws Exception {
    Hover hover = DtoFactory.getInstance().createDto(Hover.class);
    MarkedString markedString = DtoFactory.getInstance().createDto(MarkedString.class);
    markedString.setLanguage("Language");
    markedString.setValue("Value");
    List<Either<String, MarkedString>> list = new ArrayList<>();
    list.add(Either.forRight(markedString));
    list.add(Either.forLeft("normal String"));
    hover.setContents(list);

    JsonElement json = DtoFactory.getInstance().toJsonElement(hover);

    Hover params = DtoFactory.getInstance().createDtoFromJson(json, Hover.class);

    Assert.assertTrue(params.getContents().get(0).isRight());
    Assert.assertEquals("Value", params.getContents().get(0).getRight().getValue());
    Assert.assertEquals("Language", params.getContents().get(0).getRight().getLanguage());
    Assert.assertTrue(params.getContents().get(1).isLeft());
    Assert.assertEquals("normal String", params.getContents().get(1).getLeft());
  }

