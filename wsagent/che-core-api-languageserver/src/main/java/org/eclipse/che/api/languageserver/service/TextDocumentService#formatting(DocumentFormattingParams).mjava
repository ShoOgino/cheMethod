    private List<TextEditDto> formatting(DocumentFormattingParams documentFormattingParams) {
        try {
            documentFormattingParams.getTextDocument().setUri(prefixURI(documentFormattingParams.getTextDocument().getUri()));
            LanguageServer server = getServer(documentFormattingParams.getTextDocument().getUri());
            return server == null ? Collections.emptyList()
                                  : server.getTextDocumentService()
                                          .formatting(documentFormattingParams)
                                          .get().stream()
                                          .map(TextEditDto::new)
                                          .collect(Collectors.toList());

        } catch (InterruptedException | ExecutionException | LanguageServerException e) {
            throw new JsonRpcException(-27000, e.getMessage());
        }
    }

