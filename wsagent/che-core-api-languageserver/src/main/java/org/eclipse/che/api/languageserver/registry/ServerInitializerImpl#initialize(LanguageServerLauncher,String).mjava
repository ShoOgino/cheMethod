    @Override
    public LanguageServer initialize(LanguageServerLauncher launcher, String projectPath) throws LanguageServerException {
        String languageId = launcher.getLanguageDescription().getLanguageId();

        synchronized (launcher) {
            LanguageServer server = languageIdToServers.get(languageId);
            if (server != null) {
                server = doInitialize(launcher, projectPath);
            } else {
                server = doInitialize(launcher, projectPath);
                languageIdToServers.put(languageId, server);
            }
            onServerInitialized(server, serversToInitResult.get(server).getInitializeResult().getCapabilities(),
                                launcher.getLanguageDescription(), projectPath);
            return server;
        }
    }

