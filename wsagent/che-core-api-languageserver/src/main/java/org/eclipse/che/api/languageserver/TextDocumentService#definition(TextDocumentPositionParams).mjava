  private List<LocationDto> definition(TextDocumentPositionParams textDocumentPositionParams) {
    String wsPath = textDocumentPositionParams.getTextDocument().getUri();
    Set<ExtendedLanguageServer> servers = findServer.byPath(wsPath);
    List<LocationDto> result = new ArrayList<>();
    OperationUtil.doInParallel(
        servers,
        new LSOperation<ExtendedLanguageServer, List<? extends Location>>() {

          @Override
          public boolean canDo(ExtendedLanguageServer element) {
            return truish(element.getCapabilities().getDefinitionProvider());
          }

          @Override
          public CompletableFuture<List<? extends Location>> start(ExtendedLanguageServer element) {
            TextDocumentPositionParams clonedTextDocumentPositionParams =
                lsParamsCloner.clone(textDocumentPositionParams);
            if (wsPath.startsWith(ROOT)) {
              URI uri = languageServerPathTransformer.toFsURI(element.getId(), wsPath);
              clonedTextDocumentPositionParams.getTextDocument().setUri(uri.toString());
            } else {
              clonedTextDocumentPositionParams.getTextDocument().setUri(wsPath);
            }
            return element.getTextDocumentService().definition(clonedTextDocumentPositionParams);
          }

          @Override
          public boolean handleResult(
              ExtendedLanguageServer element, List<? extends Location> locations) {
            locations.forEach(
                o -> {
                  o.setUri(removePrefixUri(o.getUri()));
                  result.add(new LocationDto(o));
                });
            return true;
          }
        },
        30000);
    return result;
  }

