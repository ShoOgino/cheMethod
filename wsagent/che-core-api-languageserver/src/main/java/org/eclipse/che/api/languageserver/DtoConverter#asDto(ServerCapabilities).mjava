    public static ServerCapabilitiesDTO asDto(ServerCapabilities capabilities) {
        ServerCapabilitiesDTO serverCapabilitiesDTO = newDto(ServerCapabilitiesDTO.class);

        serverCapabilitiesDTO.setCodeActionProvider(capabilities.isCodeActionProvider());

        CodeLensOptions codeLensProvider = capabilities.getCodeLensProvider();
        serverCapabilitiesDTO.setCodeLensProvider(codeLensProvider == null
                                                  ? null
                                                  : asDto(codeLensProvider));

        CompletionOptions completionProvider = capabilities.getCompletionProvider();
        serverCapabilitiesDTO.setCompletionProvider(completionProvider == null
                                                    ? null
                                                    : asDto(completionProvider));

        serverCapabilitiesDTO.setDefinitionProvider(capabilities.isDefinitionProvider());
        serverCapabilitiesDTO.setDocumentFormattingProvider(capabilities.isDocumentFormattingProvider());

        DocumentOnTypeFormattingOptions documentOnTypeFormattingProvider = capabilities.getDocumentOnTypeFormattingProvider();
        serverCapabilitiesDTO.setDocumentOnTypeFormattingProvider(documentOnTypeFormattingProvider == null
                                                                  ? null
                                                                  : asDto(documentOnTypeFormattingProvider));

        serverCapabilitiesDTO.setDocumentHighlightProvider(capabilities.isDocumentHighlightProvider());
        serverCapabilitiesDTO.setDocumentRangeFormattingProvider(capabilities.isDocumentRangeFormattingProvider());
        serverCapabilitiesDTO.setDocumentSymbolProvider(capabilities.isDocumentSymbolProvider());
        serverCapabilitiesDTO.setHoverProvider(capabilities.isHoverProvider());
        serverCapabilitiesDTO.setReferencesProvider(capabilities.isReferencesProvider());
        serverCapabilitiesDTO.setRenameProvider(capabilities.isRenameProvider());

        SignatureHelpOptions signatureHelpProvider = capabilities.getSignatureHelpProvider();
        serverCapabilitiesDTO.setSignatureHelpProvider(signatureHelpProvider == null
                                                       ? null
                                                       : asDto(signatureHelpProvider));

        serverCapabilitiesDTO.setTextDocumentSync(capabilities.getTextDocumentSync());
        serverCapabilitiesDTO.setWorkspaceSymbolProvider(capabilities.isWorkspaceSymbolProvider());

        return serverCapabilitiesDTO;
    }

