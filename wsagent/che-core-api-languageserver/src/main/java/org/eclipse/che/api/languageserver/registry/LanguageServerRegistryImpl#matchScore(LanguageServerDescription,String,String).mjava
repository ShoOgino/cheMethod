  private int matchScore(LanguageServerDescription desc, String path, String languageId) {
    int match = matchLanguageId(desc, languageId);
    if (match == 10) {
      return 10;
    }

    for (DocumentFilter filter : desc.getDocumentFilters()) {
      if (filter.getLanguageId() != null && filter.getLanguageId().length() > 0) {
        match = Math.max(match, matchLanguageId(filter.getLanguageId(), languageId));
        if (match == 10) {
          return 10;
        }
      }
      if (filter.getScheme() != null && path.startsWith(filter.getScheme() + ":")) {
        return 10;
      }
      String pattern = filter.getPathRegex();
      if (pattern != null) {
        if (pattern.equals(path)) {
          return 10;
        }
        Pattern regex = Pattern.compile(pattern);
        if (regex.matcher(path).matches()) {
          match = Math.max(match, 5);
        }
      }
    }
    return match;
  }

