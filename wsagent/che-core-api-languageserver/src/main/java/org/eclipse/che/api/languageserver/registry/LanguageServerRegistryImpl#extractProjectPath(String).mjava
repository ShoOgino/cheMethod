  protected String extractProjectPath(String filePath) throws LanguageServerException {
    if (!LanguageServiceUtils.isProjectUri(filePath)) {
      throw new LanguageServerException("Project not found for " + filePath);
    }

    String wsPath = absolutize(LanguageServiceUtils.removePrefixUri(filePath));
    RegisteredProject project =
        projectManagerProvider
            .get()
            .getClosest(wsPath)
            .orElseThrow(() -> new LanguageServerException("Project not found for " + filePath));

    return LanguageServiceUtils.prefixURI(project.getPath());
  }

