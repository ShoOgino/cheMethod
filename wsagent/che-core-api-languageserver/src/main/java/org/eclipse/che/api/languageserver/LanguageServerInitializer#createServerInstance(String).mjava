  private String createServerInstance(String id) {
    try {
      LOG.debug("Creation of a language server instance for server '{}': started", id);
      synchronized (idRegistry.get(id)) {
        if (languageServerRegistry.contains(id)) {
          LOG.debug("Already exists");
          return id;
        }

        CheLanguageClient client = cheLanguageClientFactory.create(id);
        InstanceProvider instanceProvider = instanceProviderRegistry.get(id);
        InputStream inputStream = ioStreamRegistry.get(id).first;
        OutputStream outputStream = ioStreamRegistry.get(id).second;
        LanguageServer languageServer = instanceProvider.get(client, inputStream, outputStream);

        LOG.debug("Creation of a language server instance for server '{}': finished", id);
        return languageServerRegistry.add(id, languageServer);
      }
    } catch (LanguageServerException e) {
      LOG.error("Can't create language server for '{}'", id, e);
    }

    return null;
  }

