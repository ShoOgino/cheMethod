  private Workspace getWorkspaceConfiguration() {
    if (workspace != null) {
      return workspace;
    }

    String href =
        fromUri(apiEndpoint)
            .path(WorkspaceService.class)
            .path(WorkspaceService.class, "getByKey")
            .queryParam("includeInternalServers", true)
            .build(workspaceId)
            .toString();
    try {
      return workspace =
          httpJsonRequestFactory.fromUrl(href).useGetMethod().request().asDto(WorkspaceDto.class);
    } catch (IOException | ApiException e) {
      LOG.error("Did not manage to get workspace configuration: {}", workspaceId, e);
      return null;
    }
  }

