    private CompletionOptions getCompletionProvider() {
      CompletionOptions leftOptions = left.getCompletionProvider();
      CompletionOptions rightOptions = right.getCompletionProvider();
      if (leftOptions == null) {
        return rightOptions;
      }
      if (rightOptions == null) {
        return leftOptions;
      }

      CompletionOptions result = new CompletionOptions();
      List<String> triggerChars = new ArrayList<>();

      triggerChars.addAll(listish(leftOptions.getTriggerCharacters()));
      triggerChars.addAll(listish(rightOptions.getTriggerCharacters()));
      result.setTriggerCharacters(triggerChars);
      return result;
    }

