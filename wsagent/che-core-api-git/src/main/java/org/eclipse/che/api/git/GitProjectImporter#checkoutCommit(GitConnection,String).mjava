    private void checkoutCommit(GitConnection git, String commit) throws GitException {
        final CheckoutParams params = CheckoutParams.create("temp")
                                                    .withCreateNew(true)
                                                    .withStartPoint(commit);
        try {
            git.checkout(params);
        } catch (GitException e) {
            LOG.warn("Git exception on commit checkout", e);
            throw new GitException(
                    String.format("Unable to checkout commit %s. Make sure it exists and can be accessed.", commit), e);
        }
    }

