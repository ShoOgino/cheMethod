  @GET
  @Path("branch")
  @Produces(MediaType.APPLICATION_JSON)
  public List<Branch> branchList(@QueryParam("listMode") String listMode) throws ApiException {
    try (GitConnection gitConnection = getGitConnection()) {
      return gitConnection.branchList(listMode == null ? null : BranchListMode.valueOf(listMode));
    } catch (IllegalArgumentException exception) {
      throw new BadRequestException(exception.getMessage());
    }
  }

