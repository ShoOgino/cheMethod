  @Override
  public Map<String, VcsStatus> getStatus(String project, List<String> paths)
      throws ServerException {
    Map<String, VcsStatus> statusMap = new HashMap<>();
    try {
      String projectPath =
          projectManagerProvider
              .get()
              .getProject(project)
              .getBaseFolder()
              .getVirtualFile()
              .toIoFile()
              .getAbsolutePath();
      Status status = gitConnectionFactory.getConnection(projectPath).status(paths);
      paths.forEach(
          path -> {
            if (status.getUntracked().contains(path)) {
              statusMap.put("/" + project + "/" + path, VcsStatus.UNTRACKED);
            } else if (status.getAdded().contains(path)) {
              statusMap.put("/" + project + "/" + path, VcsStatus.ADDED);
            } else if (status.getModified().contains(path) || status.getChanged().contains(path)) {
              statusMap.put("/" + project + "/" + path, VcsStatus.MODIFIED);
            } else {
              statusMap.put("/" + project + "/" + path, VcsStatus.NOT_MODIFIED);
            }
          });

    } catch (GitException | NotFoundException e) {
      throw new ServerException(e.getMessage());
    }
    return statusMap;
  }

