    private void checkoutAndRethrow(GitConnection git, CheckoutParams params, int errorCode) throws GitException {
        try {
            git.checkout(params);
        } catch (GitException ex) {
            throw new GitException(ex.getMessage(), errorCode);
        }
    }

