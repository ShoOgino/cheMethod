  @DELETE
  @Path("repository")
  public void deleteRepository(@Context UriInfo uriInfo) throws ApiException {
    RegisteredProject project =
        projectManager
            .get(projectPath)
            .orElseThrow(() -> new NotFoundException("Can't find project"));

    String dotGitWsPath = resolve(absolutize(projectPath), ".git");
    fsManager.delete(dotGitWsPath);
    eventService.publish(
        newDto(GitRepositoryDeletedEvent.class)
            .withProjectName(project.getName())
            .withProjectPath(projectPath));
  }

