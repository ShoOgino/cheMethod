  private void onGitRepositoryDeletedEventReceived(String projectPath) {
    try {
      ProjectManager projectManager = projectManagerProvider.get();
      projectManager.removeType(projectPath, GitProjectType.TYPE_ID);
      RegisteredProject project = projectManager.get(projectPath).get();
      Map<String, List<String>> attributes = project.getAttributes();
      attributes.remove(GitProjectType.GIT_CURRENT_HEAD_NAME);
      attributes.remove(GitProjectType.GIT_REPOSITORY_REMOTES);
      attributes.remove(VCS_PROVIDER_NAME);

      NewProjectConfigImpl projectConfig =
          new NewProjectConfigImpl(
              project.getPath(),
              project.getType(),
              project.getMixins(),
              project.getName(),
              project.getDescription(),
              attributes,
              null,
              null);

      projectManager.update(projectConfig);
    } catch (NotFoundException e) {
      // throw if given project not found
      LOG.error(
          "Project {} not found for removing {} type", projectPath, GitProjectType.DISPLAY_NAME, e);
    } catch (ServerException e) {
      LOG.error(
          "Exception occurred during removing {} project type for project {}",
          projectPath,
          GitProjectType.DISPLAY_NAME,
          e);
    } catch (ConflictException | BadRequestException | ForbiddenException ignore) {
      // should never be here
      LOG.warn(
          "Usually should not occur. But exception occurred during removing {} project type",
          GitProjectType.DISPLAY_NAME,
          ignore);
    }
  }

