  @Override
  public VcsStatus getStatus(String path) throws ServerException {
    try {
      String normalizedPath = path.startsWith("/") ? path.substring(1) : path;
      String projectPath =
          projectManagerProvider
              .get()
              .getProject(normalizedPath.split("/")[0])
              .getBaseFolder()
              .getVirtualFile()
              .toIoFile()
              .getAbsolutePath();
      Status status =
          gitConnectionFactory
              .getConnection(projectPath)
              .status(singletonList(normalizedPath.substring(normalizedPath.indexOf("/") + 1)));
      String itemPath = normalizedPath.substring(normalizedPath.indexOf("/") + 1);
      if (status.getUntracked().contains(itemPath)) {
        return VcsStatus.UNTRACKED;
      } else if (status.getAdded().contains(itemPath)) {
        return VcsStatus.ADDED;
      } else if (status.getModified().contains(itemPath)
          || status.getChanged().contains(itemPath)) {
        return VcsStatus.MODIFIED;
      } else {
        return VcsStatus.NOT_MODIFIED;
      }
    } catch (GitException | NotFoundException e) {
      throw new ServerException(e.getMessage());
    }
  }

