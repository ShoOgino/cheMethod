  @Test(
      dataProvider = "GitConnectionFactory",
      dataProviderClass = org.eclipse.che.git.impl.GitConnectionFactoryProvider.class)
  public void testCachedRemove(GitConnectionFactory connectionFactory)
      throws GitException, IOException {
    // given
    GitConnection connection = connectToGitRepositoryWithContent(connectionFactory, repository);
    // when
    connection.rm(RmParams.create(singletonList("README.txt")).withCached(true));
    // then
    assertTrue(new File(connection.getWorkingDir(), "README.txt").exists());
    assertEquals(connection.status(emptyList()).getRemoved().get(0), "README.txt");
    assertEquals(connection.status(emptyList()).getUntracked().get(0), "README.txt");
  }

