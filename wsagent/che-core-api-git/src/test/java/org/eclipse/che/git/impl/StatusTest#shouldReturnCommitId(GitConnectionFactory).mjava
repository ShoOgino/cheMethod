  @Test(
      dataProvider = "GitConnectionFactory",
      dataProviderClass = org.eclipse.che.git.impl.GitConnectionFactoryProvider.class)
  public void shouldReturnCommitId(GitConnectionFactory connectionFactory) throws Exception {
    // given
    GitConnection connection = connectToGitRepositoryWithContent(connectionFactory, repository);
    final String commitId = connection.log(LogParams.create()).getCommits().get(0).getId();
    connection.checkout(CheckoutParams.create(commitId));

    // when
    final Status status = connection.status(emptyList());

    // then
    assertEquals(status.getRefName(), commitId);
  }

