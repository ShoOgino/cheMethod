  @Test
  public void shouldReturnStatusMap() throws Exception {
    // given
    when(statusDto.getUntracked()).thenReturn(singletonList(NORMALIZED_PATH + "1"));
    when(statusDto.getAdded()).thenReturn(singletonList(NORMALIZED_PATH + "2"));
    when(statusDto.getModified()).thenReturn(singletonList(NORMALIZED_PATH + "3"));
    when(statusDto.getChanged()).thenReturn(singletonList(NORMALIZED_PATH + "4"));
    when(gitConnection.status(anyList())).thenReturn(statusDto);

    List<String> paths = new ArrayList<>();
    paths.add(NORMALIZED_PATH + "1");
    paths.add(NORMALIZED_PATH + "2");
    paths.add(NORMALIZED_PATH + "3");
    paths.add(NORMALIZED_PATH + "4");
    paths.add(NORMALIZED_PATH + "5");

    // when
    Map<String, VcsStatus> statusMap = gitStatusProvider.getStatus(NORMALIZED_PATH, paths);

    // then
    assertTrue(statusMap.get(PATH + "1") == UNTRACKED);
    assertTrue(statusMap.get(PATH + "2") == ADDED);
    assertTrue(statusMap.get(PATH + "3") == MODIFIED);
    assertTrue(statusMap.get(PATH + "4") == MODIFIED);
    assertTrue(statusMap.get(PATH + "5") == NOT_MODIFIED);
  }

