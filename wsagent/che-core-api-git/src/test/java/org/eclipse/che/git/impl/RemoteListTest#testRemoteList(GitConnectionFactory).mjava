  @Test(
    dataProvider = "GitConnectionFactory",
    dataProviderClass = GitConnectionFactoryProvider.class
  )
  public void testRemoteList(GitConnectionFactory connectionFactory)
      throws ServerException, URISyntaxException, UnauthorizedException, IOException {
    //given
    GitConnection connection = connectToGitRepositoryWithContent(connectionFactory, repository);
    GitConnection connection2 = connectionFactory.getConnection(remoteRepo.getAbsolutePath());
    connection2.clone(
        CloneParams.create(connection.getWorkingDir().getAbsolutePath())
            .withWorkingDir(connection2.getWorkingDir().getAbsolutePath()));
    assertEquals(connection2.remoteList(null, false).size(), 1);
    //create new remote
    connection2.remoteAdd(RemoteAddParams.create("newremote", "newremote.url"));
    assertEquals(connection2.remoteList(null, false).size(), 2);
    //when
    List<Remote> one = connection2.remoteList("newremote", false);
    //then
    assertEquals(one.get(0).getUrl(), "newremote.url");
    assertEquals(one.size(), 1);
  }

