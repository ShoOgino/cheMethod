  @Test(
    dataProvider = "GitConnectionFactory",
    dataProviderClass = GitConnectionFactoryProvider.class
  )
  public void testSimplePull(GitConnectionFactory connectionFactory)
      throws IOException, ServerException, URISyntaxException, UnauthorizedException {
    //given
    //create new repository clone of default
    GitConnection connection = connectToInitializedGitRepository(connectionFactory, repository);
    GitConnection connection2 = connectionFactory.getConnection(remoteRepo.getAbsolutePath());
    connection2.clone(CloneParams.create(connection.getWorkingDir().getAbsolutePath()));
    addFile(connection, "newfile1", "new file1 content");
    connection.add(AddParams.create(singletonList(".")));
    connection.commit(CommitParams.create("Test commit"));
    //when
    connection2.pull(PullParams.create("origin").withTimeout(-1));
    //then
    assertTrue(new File(remoteRepo.getAbsolutePath(), "newfile1").exists());
  }

