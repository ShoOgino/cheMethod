    @Test
    public void testWithExcludesfilePropertyInGitconfigFile() throws Exception {
        excludesfilePropertyContent = String.format("\n"
                                                    + "[core]\n"
                                                    + "\texcludesfile = %s"
                                                    + "\n", existingGitignoreFilePath);
        createGitconfigFile(true);
        final byte[] existingGitconfigFileContent = Files.readAllBytes(globalGitconfigFilePath);
        final String existingGitignoreFileContent = new String(Files.readAllBytes(existingGitignoreFilePath));
        checker.start();

        Assert.assertArrayEquals(
                "Existing global .gitconfig file shouldn't be touched in case it already contains 'core.excludesfile' property.",
                existingGitconfigFileContent, Files.readAllBytes(globalGitconfigFilePath));
        Assert.assertFalse(
                "New .gitignore file shouldn't be created in case existing global .gitconfig file already contains 'core.excludesfile' property.",
                Files.exists(gitignoreFilePath));
        Assert.assertEquals("New content should be appended to the existing global .gitignore file.",
                            existingGitignoreFileContent + GITIGNORE_FILE_CONTENT,
                            new String(Files.readAllBytes(existingGitignoreFilePath)));
    }

