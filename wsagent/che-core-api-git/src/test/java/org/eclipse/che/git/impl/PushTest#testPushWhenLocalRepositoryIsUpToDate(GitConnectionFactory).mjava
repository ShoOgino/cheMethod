  @Test(
    dataProvider = "GitConnectionFactory",
    dataProviderClass = org.eclipse.che.git.impl.GitConnectionFactoryProvider.class
  )
  public void testPushWhenLocalRepositoryIsUpToDate(GitConnectionFactory connectionFactory)
      throws IOException, ServerException, URISyntaxException, UnauthorizedException {
    //given
    GitConnection remoteConnection =
        connectToGitRepositoryWithContent(connectionFactory, repository);
    GitConnection localConnection = connectionFactory.getConnection(remoteRepo.getAbsolutePath());
    localConnection.clone(CloneParams.create(remoteConnection.getWorkingDir().getAbsolutePath()));

    //when
    PushResponse pushResponse =
        localConnection.push(
            PushParams.create("origin")
                .withRefSpec(singletonList("refs/heads/master:refs/heads/master"))
                .withTimeout(-1));

    //then
    assertEquals(pushResponse.getCommandOutput(), "Everything up-to-date");
  }

