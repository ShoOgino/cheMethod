    @Test(dataProvider = "GitConnectionFactory", dataProviderClass = GitConnectionFactoryProvider.class)
    public void shouldReturnTrueInsideWorkingTree(GitConnectionFactory connectionFactory)
        throws ServerException, IOException, UnauthorizedException, URISyntaxException {
        // given
        GitConnection connection = connectToInitializedGitRepository(connectionFactory, repository);

        // add new dir into working tree
        addFile(connection.getWorkingDir().toPath().resolve("new_directory"), "a", "content of a");
        connection.add(AddParams.create(singletonList(".")));
        connection.commit(CommitParams.create("test"));

        // when
        boolean isInsideWorkingTree = connection.isInsideWorkTree();

        // then
        assertTrue(isInsideWorkingTree);
    }

