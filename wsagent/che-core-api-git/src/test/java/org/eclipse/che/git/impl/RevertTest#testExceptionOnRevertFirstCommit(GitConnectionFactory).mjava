  @Test(
    dataProvider = "GitConnectionFactory",
    dataProviderClass = org.eclipse.che.git.impl.GitConnectionFactoryProvider.class,
    expectedExceptions = GitException.class,
    expectedExceptionsMessageRegExp =
        "Cannot revert commit .* because it has 0 parents, only commits with exactly one parent are supported"
  )
  public void testExceptionOnRevertFirstCommit(GitConnectionFactory connectionFactory)
      throws Exception {
    //given
    GitConnection connection = connectToInitializedGitRepository(connectionFactory, repository);
    addFile(connection, "test-revert", "blabla\n");
    connection.add(AddParams.create(AddRequest.DEFAULT_PATTERN));
    Revision revision = connection.commit(CommitParams.create("add test-revert file"));
    //when
    connection.revert(revision.getId());
  }

