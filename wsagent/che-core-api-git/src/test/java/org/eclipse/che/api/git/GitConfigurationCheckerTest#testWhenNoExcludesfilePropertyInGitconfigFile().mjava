  @Test
  public void testWhenNoExcludesfilePropertyInGitconfigFile() throws Exception {
    excludesfilePropertyContent =
        String.format("\n" + "[core]\n" + "\texcludesfile = %s" + "\n", gitignoreFilePath);
    createGitconfigFile(false);
    final String existingGitconfigFileContent =
        new String(Files.readAllBytes(globalGitconfigFilePath));
    checker.start();

    Assert.assertTrue(Files.exists(globalGitconfigFilePath));
    Assert.assertEquals(
        "'core.excludesfile' property should be appended to the existing global .gitconfig file",
        existingGitconfigFileContent + excludesfilePropertyContent,
        new String(Files.readAllBytes(globalGitconfigFilePath)));
    Assert.assertEquals(GITIGNORE_FILE_CONTENT, new String(Files.readAllBytes(gitignoreFilePath)));
  }

