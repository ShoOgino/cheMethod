    public static GitConnection connectToGitRepositoryWithContent(GitConnectionFactory connectionFactory, File repository)
            throws GitException, IOException {

        GitConnection connection = connectToInitializedGitRepository(connectionFactory, repository);
        addFile(connection, "README.txt", CONTENT);
        connection.add(AddParams.create(singletonList("README.txt")));
        connection.commit(CommitParams.create("Initial commit"));
        return connection;
    }

