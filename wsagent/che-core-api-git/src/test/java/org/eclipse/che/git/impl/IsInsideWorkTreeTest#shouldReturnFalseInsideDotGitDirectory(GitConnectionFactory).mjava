  @Test(
      dataProvider = "GitConnectionFactory",
      dataProviderClass = GitConnectionFactoryProvider.class)
  public void shouldReturnFalseInsideDotGitDirectory(GitConnectionFactory connectionFactory)
      throws ServerException, IOException, UnauthorizedException, URISyntaxException {
    // given
    GitConnection connection = connectToInitializedGitRepository(connectionFactory, repository);
    Path internalDir = connection.getWorkingDir().toPath().resolve(".git");

    // when
    GitConnection internalDirConnection = connectionFactory.getConnection(internalDir.toFile());
    boolean isInsideWorkingTree = internalDirConnection.isInsideWorkTree();

    // then
    assertFalse(isInsideWorkingTree);
  }

