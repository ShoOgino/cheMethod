    @Test(dataProvider = "GitConnectionFactory", dataProviderClass = org.eclipse.che.git.impl.GitConnectionFactoryProvider.class)
    public void testResetSoft(GitConnectionFactory connectionFactory) throws Exception {
        //given
        GitConnection connection = connectToGitRepositoryWithContent(connectionFactory, repository);
        File aaa = addFile(connection, "aaa", "aaa\n");
        FileOutputStream fos = new FileOutputStream(new File(connection.getWorkingDir(), "README.txt"));
        fos.write("MODIFIED\n".getBytes());
        fos.flush();
        fos.close();
        String initMessage = connection.log(LogParams.create()).getCommits().get(0).getMessage();
        connection.add(AddParams.create(new ArrayList<>(singletonList("."))));
        connection.commit(CommitParams.create("add file"));
        //when
        connection.reset(ResetParams.create("HEAD^", ResetRequest.ResetType.SOFT));
        //then
        assertEquals(connection.log(LogParams.create()).getCommits().get(0).getMessage(), initMessage);
        assertTrue(aaa.exists());
        assertEquals(connection.status(StatusFormat.SHORT).getAdded().get(0), "aaa");
        assertEquals(connection.status(StatusFormat.SHORT).getChanged().get(0), "README.txt");
        assertEquals(Files.toString(new File(connection.getWorkingDir(), "README.txt"), Charsets.UTF_8), "MODIFIED\n");
    }

