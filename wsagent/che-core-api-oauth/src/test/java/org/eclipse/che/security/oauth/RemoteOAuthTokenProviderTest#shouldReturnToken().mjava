    @Test
    public void shouldReturnToken() throws Exception {
        //given
        OAuthToken expected = DtoFactory.newDto(OAuthToken.class).withScope("scope").withToken("token");
        when(httpJsonResponse.asDto(any(Class.class))).thenReturn(expected);
        when(httpJsonRequest.request()).thenReturn(httpJsonResponse);
        //when
        OAuthToken actual = tokenProvider.getToken("google", "id");
        //then
        assertEquals(actual, expected);
    }

