  public void advanceTo(Position start, BiConsumer<Integer, Integer> dest) {
    while (ch >= 0
        && (currentReadLine < start.getLine() || currentReadChar < start.getCharacter())) {
      dest.accept(ch, currentOffset);
      if (ch == '\r') {
        currentReadLine++;
        currentReadChar = 0;
        ch = source.get();
        currentOffset++;
        if (ch == '\n') {
          dest.accept(ch, currentOffset);
          ch = source.get();
          currentOffset++;
        }
      } else if (ch == '\n') {
        currentReadLine++;
        currentReadChar = 0;
        ch = source.get();
        currentOffset++;
      } else {
        currentReadChar++;
        ch = source.get();
        currentOffset++;
      }
    }
  }

