  private static Map<String, String> splitQuery(String query) {
    Map<String, String> queryPairs = new HashMap<>();
    Arrays.stream(query.split("&"))
        .forEach(
            p -> {
              int delimiterIndex = p.indexOf("=");
              queryPairs.put(p.substring(0, delimiterIndex), p.substring(delimiterIndex + 1));
            });
    return queryPairs;
  }

