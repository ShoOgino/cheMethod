  public static native Promise<Keycloak> init(
      String theUrl,
      String theRealm,
      String theClientId,
      String theOidcProvider,
      boolean theUseNonce) /*-{
    return new Promise(function (resolve, reject) {
      try {
        console.log('[Keycloak] Initializing');
        var config;
        if(!theOidcProvider) {
          config = {
            url: theUrl,
            realm: theRealm,
            clientId: theClientId
          };
        } else {
          config = {
            oidcProvider: theOidcProvider,
            clientId: theClientId
          };
        }
        var keycloak = $wnd.Keycloak(config);
        $wnd['_keycloak'] = keycloak;
        keycloak.init({onLoad: 'login-required', checkLoginIframe: false, useNonce: theUseNonce})
            .success(function (authenticated) {
              resolve(keycloak);
            })
            .error(function () {
              console.log('[Keycloak] Failed to initialize Keycloak');
              reject();
            });
        console.log('[Keycloak] Initializing complete');
      } catch (ex) {
        console.log('[Keycloak] Failed to initialize Keycloak with exception: ', ex);
        reject();
      }
    });
  }-*/;

