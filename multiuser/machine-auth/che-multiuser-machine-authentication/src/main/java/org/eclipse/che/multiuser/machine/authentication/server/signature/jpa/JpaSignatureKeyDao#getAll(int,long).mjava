  @Override
  @Transactional
  public Page<SignatureKeyPairImpl> getAll(int maxItems, long skipCount) throws ServerException {
    checkArgument(maxItems >= 0, "The number of items to return can't be negative.");
    checkArgument(
        skipCount >= 0,
        "The number of items to skip can't be negative or greater than " + Integer.MAX_VALUE);
    try {
      final EntityManager manager = managerProvider.get();
      final List<SignatureKeyPairImpl> list =
          manager
              .createNamedQuery("SignKeyPair.getAll", SignatureKeyPairImpl.class)
              .setMaxResults(maxItems)
              .setFirstResult((int) skipCount)
              .getResultList()
              .stream()
              .map(SignatureKeyPairImpl::new)
              .collect(toList());
      final long count =
          manager.createNamedQuery("SignKeyPair.getAllCount", Long.class).getSingleResult();
      return new Page<>(list, skipCount, maxItems, count);
    } catch (RuntimeException ex) {
      throw new ServerException(ex.getMessage(), ex);
    }
  }

