  @Test
  public void testLoadSignatureKeys() throws Exception {
    String wsId = "WS_id_1";
    final SignatureKeyPairImpl kp = newKeyPair(wsId);
    when(signatureKeyDao.get(anyString())).thenReturn(kp);

    signatureKeyManager.loadKeyPair(wsId);

    final KeyPair cachedPair = signatureKeyManager.getKeyPair(wsId);
    assertNotNull(cachedPair);
    assertKeys(cachedPair.getPublic(), kp.getPublicKey());
    assertKeys(cachedPair.getPrivate(), kp.getPrivateKey());
  }

