  @BeforeClass
  public void setupEntities() throws Exception {
    permissions =
        new RecipePermissionsImpl[] {
          new RecipePermissionsImpl("user1", "recipe1", asList("read", "use", "search")),
          new RecipePermissionsImpl("user1", "recipe2", asList("read", "search")),
          new RecipePermissionsImpl("user1", "recipe3", asList("read", "search")),
          new RecipePermissionsImpl("user1", "recipe4", asList("read", "run")),
          new RecipePermissionsImpl("user2", "recipe1", asList("read", "use")),
          new RecipePermissionsImpl("*", "recipe_debian", singletonList("search")),
          new RecipePermissionsImpl("*", "recipe_ubuntu", singletonList("search"))
        };

    users =
        new UserImpl[] {
          new UserImpl("user1", "user1@com.com", "usr1"),
          new UserImpl("user2", "user2@com.com", "usr2")
        };

    recipes =
        new OldRecipeImpl[] {
          new OldRecipeImpl("recipe1", "rc1", null, null, null, asList("tag1", "tag2"), null),
          new OldRecipeImpl("recipe2", "rc2", null, "testType", null, null, null),
          new OldRecipeImpl("recipe3", "rc3", null, null, null, asList("tag1", "tag2"), null),
          new OldRecipeImpl("recipe4", "rc4", null, null, null, null, null),
          new OldRecipeImpl(
              "recipe_debian", "DEBIAN_JDK8", "test", "test", null, asList("debian", "tag1"), null),
          new OldRecipeImpl(
              "recipe_ubuntu", "DEBIAN_JDK8", "test", "test", null, asList("ubuntu", "tag1"), null)
        };

    Injector injector = Guice.createInjector(new JpaTestModule(), new MultiuserMachineJpaModule());
    manager = injector.getInstance(EntityManager.class);
    dao = injector.getInstance(MultiuserJpaRecipeDao.class);
    h2JpaCleaner = injector.getInstance(H2JpaCleaner.class);
  }

