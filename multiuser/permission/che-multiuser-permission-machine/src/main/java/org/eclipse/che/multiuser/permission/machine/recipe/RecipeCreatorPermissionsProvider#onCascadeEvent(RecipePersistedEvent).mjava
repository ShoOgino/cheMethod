  @Override
  public void onCascadeEvent(RecipePersistedEvent event) throws Exception {
    final Subject subject = EnvironmentContext.getCurrent().getSubject();
    if (!subject.isAnonymous()) {
      permissionsManager.storePermission(
          new RecipePermissionsImpl(
              subject.getUserId(), event.getRecipe().getId(), RecipeDomain.getActions()));
    }
  }

