  @Test
  public void shouldRecognizePredefinedStack() throws Exception {
    final AbstractPermissions stackPermission = mock(AbstractPermissions.class);
    when(stackPermission.getUserId()).thenReturn("*");

    final Page<AbstractPermissions> permissionsPage = mock(Page.class);
    when(permissionsPage.getItems()).thenReturn(Collections.singletonList(stackPermission));

    when(permissionsManager.getByInstance(
            nullable(String.class), nullable(String.class), anyInt(), anyLong()))
        .thenReturn(permissionsPage);

    assertTrue(permissionsFilter.isStackPredefined("stack123"));
  }

