  @Test
  public void shouldRemoveStackPublicPermission() throws Exception {
    final StackPermissionsImpl publicPermission =
        new StackPermissionsImpl("*", "stack1", asList("read", "use", "run"));
    dao.store(publicPermission);
    dao.remove(publicPermission.getUserId(), publicPermission.getInstanceId());

    Page<StackPermissionsImpl> byInstance =
        dao.getByInstance(publicPermission.getInstanceId(), 30, 0);
    assertTrue(byInstance.getItems().stream().filter(p -> "*".equals(p.getUserId())).count() == 0);
  }

