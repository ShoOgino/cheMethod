  @Test(expectedExceptions = ForbiddenException.class)
  public void throwsForbiddenExceptionWhenRemoveNonPublicPermissionsAndDefaultCheckFailed()
      throws Exception {
    doThrow(ForbiddenException.class)
        .when(defaultChecker)
        .check(USER, StackDomain.DOMAIN_ID, INSTANCE);

    publicPermissionsRemoveChecker.check(USER, StackDomain.DOMAIN_ID, INSTANCE);

    verify(defaultChecker, times(1)).check(USER, StackDomain.DOMAIN_ID, INSTANCE);
    verify(manager, never()).get(USER, StackDomain.DOMAIN_ID, INSTANCE);
  }

