  @Test(expectedExceptions = ForbiddenException.class)
  public void throwsForbiddenExceptionWhenFailedToGetActionRemovingPermissionByAdmin()
      throws Exception {
    doThrow(ServerException.class).when(manager).get("*", StackDomain.DOMAIN_ID, INSTANCE);
    doThrow(ForbiddenException.class)
        .when(defaultChecker)
        .check("*", StackDomain.DOMAIN_ID, INSTANCE);
    when(subj.hasPermission(SystemDomain.DOMAIN_ID, null, MANAGE_SYSTEM_ACTION)).thenReturn(true);

    publicPermissionsRemoveChecker.check("*", StackDomain.DOMAIN_ID, INSTANCE);
  }

