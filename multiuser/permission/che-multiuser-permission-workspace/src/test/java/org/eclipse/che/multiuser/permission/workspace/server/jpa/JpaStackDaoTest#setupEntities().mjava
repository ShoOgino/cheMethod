  @BeforeClass
  public void setupEntities() throws Exception {
    permissions =
        new StackPermissionsImpl[] {
          new StackPermissionsImpl("user1", "stack1", Arrays.asList("read", "use", "search")),
          new StackPermissionsImpl("user1", "stack2", Arrays.asList("read", "search")),
          new StackPermissionsImpl("*", "stack3", Arrays.asList("read", "search")),
          new StackPermissionsImpl("user1", "stack4", Arrays.asList("read", "run")),
          new StackPermissionsImpl("user2", "stack1", Arrays.asList("read", "use"))
        };

    users =
        new UserImpl[] {
          new UserImpl("user1", "user1@com.com", "usr1"),
          new UserImpl("user2", "user2@com.com", "usr2")
        };

    stacks =
        new StackImpl[] {
          new StackImpl(
              "stack1", "st1", null, null, null, Arrays.asList("tag1", "tag2"), null, null, null),
          new StackImpl("stack2", "st2", null, null, null, null, null, null, null),
          new StackImpl(
              "stack3", "st3", null, null, null, Arrays.asList("tag1", "tag2"), null, null, null),
          new StackImpl("stack4", "st4", null, null, null, null, null, null, null)
        };

    Injector injector = Guice.createInjector(new WorkspaceTckModule());
    manager = injector.getInstance(EntityManager.class);
    dao = injector.getInstance(MultiuserJpaStackDao.class);
    tckResourcesCleaner = injector.getInstance(TckResourcesCleaner.class);
  }

