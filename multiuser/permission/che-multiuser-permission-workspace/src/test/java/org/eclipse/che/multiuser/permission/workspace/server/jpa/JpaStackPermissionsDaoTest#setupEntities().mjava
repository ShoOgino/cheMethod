  @BeforeClass
  public void setupEntities() throws Exception {
    permissions =
        new StackPermissionsImpl[] {
          new StackPermissionsImpl("user1", "stack1", asList("read", "use", "run")),
          new StackPermissionsImpl("user2", "stack1", asList("read", "use")),
          new StackPermissionsImpl("user1", "stack2", asList("read", "run")),
          new StackPermissionsImpl("user2", "stack2", asList("read", "use", "run", "configure"))
        };

    users =
        new UserImpl[] {
          new UserImpl("user1", "user1@com.com", "usr1"),
          new UserImpl("user2", "user2@com.com", "usr2")
        };

    stacks =
        new StackImpl[] {
          new StackImpl("stack1", "st1", null, null, null, null, null, null, null, null),
          new StackImpl("stack2", "st2", null, null, null, null, null, null, null, null)
        };

    Injector injector = Guice.createInjector(new WorkspaceTckModule());
    manager = injector.getInstance(EntityManager.class);
    dao = injector.getInstance(JpaStackPermissionsDao.class);
    removePermissionsSubscriber =
        injector.getInstance(
            JpaStackPermissionsDao.RemovePermissionsBeforeStackRemovedEventSubscriber.class);
  }

