  @Transactional(rollbackOn = {RuntimeException.class, ServerException.class})
  protected void doRemove(String id) throws ServerException {
    final EntityManager manager = managerProvider.get();
    final StackImpl stack = manager.find(StackImpl.class, id);
    if (stack != null) {
      eventService.publish(new BeforeStackRemovedEvent(new StackImpl(stack))).propagateException();
      manager.remove(stack);
      manager.flush();
    }
  }

