  @Override
  public StackImpl update(StackImpl update)
      throws NotFoundException, ServerException, ConflictException {
    requireNonNull(update, "Required non-null update");
    try {
      return new StackImpl(doUpdate(update));
    } catch (DuplicateKeyException x) {
      throw new ConflictException(format("Stack with name '%s' already exists", update.getName()));
    } catch (RuntimeException x) {
      throw new ServerException(x.getLocalizedMessage(), x);
    }
  }

