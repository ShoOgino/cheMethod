  @Override
  @Transactional
  public List<WorkspaceImpl> getByNamespace(String namespace) throws ServerException {
    requireNonNull(namespace, "Required non-null namespace");
    try {
      return managerProvider
          .get()
          .createNamedQuery("Workspace.getByNamespace", WorkspaceImpl.class)
          .setParameter("namespace", namespace)
          .getResultList()
          .stream()
          .map(WorkspaceImpl::new)
          .collect(Collectors.toList());
    } catch (RuntimeException x) {
      throw new ServerException(x.getLocalizedMessage(), x);
    }
  }

