  private static MachineImpl createMachine(
      String workspaceId, String envName, String machineName, boolean isDev, String memoryBytes) {

    return MachineImpl.builder()
        .setConfig(
            MachineConfigImpl.builder()
                .setDev(isDev)
                .setName(machineName)
                .setSource(new MachineSourceImpl("some-type").setContent("some-content"))
                .setLimits(
                    new MachineLimitsImpl((int) Size.parseSizeToMegabytes(memoryBytes + "b")))
                .setType("someType")
                .build())
        .setId(NameGenerator.generate("machine", 10))
        .setOwner(DEFAULT_USER_NAME)
        .setStatus(MachineStatus.RUNNING)
        .setWorkspaceId(workspaceId)
        .setEnvName(envName)
        .setRuntime(new MachineRuntimeInfoImpl(emptyMap(), emptyMap(), emptyMap()))
        .build();
  }

