  @Test(
    expectedExceptions = NotFoundException.class,
    expectedExceptionsMessageRegExp = "Account with specified id was not found"
  )
  public void shouldThrowNotFoundExceptionWhenAccountWithGivenIdWasNotFound() throws Exception {
    when(resourcesProvider.getResources(eq("account123")))
        .thenThrow(new NotFoundException("Account with specified id was not found"));

    accountLicenseManager.getByAccount("account123");
  }

