  @Test
  public void shouldReturnEmptyOptionalWhenAccountDoesNotUseWorkspaces() throws Exception {
    when(accountManager.getById(any())).thenReturn(account);
    when(account.getName()).thenReturn("testAccount");

    when(workspaceManager.getByNamespace(anyString(), anyBoolean()))
        .thenReturn(Collections.emptyList());

    Optional<Resource> usedWorkspacesOpt =
        workspaceResourceUsageTracker.getUsedResource("account123");

    assertFalse(usedWorkspacesOpt.isPresent());
  }

