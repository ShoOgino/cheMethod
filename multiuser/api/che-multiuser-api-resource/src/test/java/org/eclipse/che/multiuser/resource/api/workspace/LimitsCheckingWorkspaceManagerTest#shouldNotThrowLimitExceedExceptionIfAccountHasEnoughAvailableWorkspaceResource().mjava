  @Test
  public void shouldNotThrowLimitExceedExceptionIfAccountHasEnoughAvailableWorkspaceResource()
      throws Exception {
    //given
    LimitsCheckingWorkspaceManager manager =
        managerBuilder().setResourceUsageManager(resourceUsageManager).build();

    //when
    manager.checkWorkspaceResourceAvailability(ACCOUNT_ID);

    //then
    verify(resourceUsageManager)
        .checkResourcesAvailability(
            ACCOUNT_ID,
            singletonList(
                new ResourceImpl(WorkspaceResourceType.ID, 1, WorkspaceResourceType.UNIT)));
  }

