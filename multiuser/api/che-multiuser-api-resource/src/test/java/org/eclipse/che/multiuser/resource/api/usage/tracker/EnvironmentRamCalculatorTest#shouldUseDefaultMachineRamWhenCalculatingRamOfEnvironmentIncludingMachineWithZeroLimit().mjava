  @Test
  public void
      shouldUseDefaultMachineRamWhenCalculatingRamOfEnvironmentIncludingMachineWithZeroLimit()
          throws Exception {
    Map<String, CheServiceImpl> services = new HashMap<>();
    services.put("service2", new CheServiceImpl().withMemLimit(0L));

    when(environmentParser.parse(anyObject()))
        .thenReturn(new CheServicesEnvironmentImpl().withServices(services));

    long ram = environmentRamCalculator.calculate(environment);

    assertEquals(ram, 2048L);
  }

